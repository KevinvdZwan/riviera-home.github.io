(function ($, _) {
  if (typeof MuntzDealerClient === 'undefined') { MuntzDealerClient = {}; }
  MuntzDealerClient.Locator = function (config) {
    var locator = this; locator.result = { BUSY: 'BUSY', CANCELLED: 'CANCELLED', GEOCODE_FAILURE: 'GEOCODE_FAILURE', SEARCH_FAILURE: 'SEARCH_FAILURE', REQUIRED_ARGUMENT_MISSING: 'REQUIRED_ARGUMENT_MISSING' }; config = $.extend({ url: null, baseParams: {}, distance: 500, limit: 25, lat: 0, lng: 0, zoom: 1, scrollwheel: false, mapStyles: [], mapType: 'ROADMAP', animation: { dropMarkers: true }, radius: { enabled: false, color: '#FF0000' }, element: { dealers: '<div></div>', map: '<div></div>' }, template: { dealers: '<div></div>', marker: '<div></div>' }, labels: null }, config || {}); var template = { dealers: _.template($(config.template.dealers).html()), marker: _.template($(config.template.marker).html()) }; var searching = 0; var markers = []; var map = null; var radius = null; var focussedMarker = null; function _init() { map = new google.maps.Map($(config.element.map).get(0), { center: { lat: config.lat, lng: config.lng }, zoom: config.zoom, streetViewControl: false, mapTypeControl: false, scrollwheel: config.scrollwheel, mapTypeId: google.maps.MapTypeId[config.mapType], styles: config.mapStyles || [] }); radius = new google.maps.Circle({ strokeColor: config.radius.color, strokeOpacity: 0.5, strokeWeight: 2, fillColor: config.radius.color, fillOpacity: 0.15, map: map, center: { lat: config.lat, lng: config.lng }, radius: config.distance * 1000, visible: config.radius.enabled }); }
    function clear() { $(config.element.dealers).html(''); _.each(markers, function (marker) { marker.setMap(null); }); markers = []; }
    function emit(name, args, obj) { var event = new $.Event(name); $.extend(true, event, obj || {}); $(config.element.map).trigger(event, args); return event; }
    function load(params, spec) {
      var deferred = $.Deferred(); params = $.extend({}, config.baseParams, params || {}, { distance: (params || {}).distance || config.distance, limit: (params || {}).limit || config.limit }); if (emit('mdcl-search-before-search', [locator, spec, params]).isDefaultPrevented()) { deferred.reject(locator.result.CANCELLED, null, params); } else { searching++; $.ajax({ url: config.url, method: 'GET', data: params, dataType: 'json' }).done(function (response) { deferred.resolve(response, params); emit('mdcl-search-success', [locator, spec, response]); }).fail(function (response) { deferred.reject(locator.result.SEARCH_FAILURE, response, params); emit('mdcl-search-failure', [locator, spec, response]); }).always(function () { searching--; emit('mdcl-search-finished', [locator, spec]); }); }
      return deferred.promise();
    }
    function populate(addresses, params) {
      clear(); radius.setCenter(params); radius.setRadius(config.distance * 1000); $(config.element.dealers).html(template.dealers({ addresses: addresses, locator: locator })); if (addresses.length) {
        var bounds = new google.maps.LatLngBounds(); var info = new google.maps.InfoWindow(); $.each(addresses, function (index, address) {
          var marker = locator.createMarker(address, index); var eventMarker = emit('mdcl-marker-create', [locator, marker, address, index], { marker: marker }); if (eventMarker.isDefaultPrevented()) { return; }
          marker = eventMarker.marker; markers.push(marker); marker.addListener('click', function () { var event = emit('mdcl-marker-click', [locator, marker, address]); if (!event.isDefaultPrevented()) { locator.focusMarker(marker); info.setContent(template.marker({ address: address })); info.open(map, marker); } }); bounds.extend(marker.position); if (config.animation.dropMarkers) { var label = marker.getLabel(); marker.setLabel(null); marker.setVisible(false); setTimeout(function () { marker.setAnimation(google.maps.Animation.DROP); marker.setVisible(true); setTimeout(function () { marker.setLabel(label); }, 500); }, 500 + (index * 150)); }
        }); map.fitBounds(bounds); google.maps.event.addListenerOnce(map, 'bounds_changed', function () { var level = Math.min(Math.max(this.getZoom(), 7), 15); this.setZoom(level); });
      } else { map.panTo(params); map.setZoom(9); }
    }
    _.defer(function () { _init(); }); $.extend(locator, {
      config: config, createMarker: function (address, index) { return new google.maps.Marker({ position: { lat: address.geocode_latitude, lng: address.geocode_longitude }, map: map, title: address.location.name, label: (typeof config.labels == 'string') ? config.labels[index % config.labels.length] : null }); }, focusMarker: function (marker) {
        if (markers.indexOf(marker) === -1)
          return; if (focussedMarker)
          focussedMarker.setZIndex(); marker.setZIndex(google.maps.Marker.MAX_ZINDEX + 1); focussedMarker = marker; return this;
      }, geocode: function (address) {
        var deferred = $.Deferred(), geocoder = new google.maps.Geocoder(); var h = setTimeout(function () { deferred.reject(google.maps.GeocoderStatus.UNKNOWN_ERROR) }, 5000); geocoder.geocode({ address: address }, function (results, status) {
          clearTimeout(h); if (status === google.maps.GeocoderStatus.OK)
            deferred.resolve(results[0].geometry.location, results, status); else
            deferred.reject(status);
        }); return deferred.promise();
      }, getMarkers: function () { return markers; }, isSearching: function () { return !!searching; }, search: function (address, distance, limit, data) {
        var deferred = new $.Deferred(); address = $.trim(address) || null; if (locator.isSearching()) { _.defer(function () { deferred.reject(locator.result.BUSY); }); } else if (!address) { _.defer(function () { deferred.reject(locator.result.REQUIRED_ARGUMENT_MISSING); }); } else {
          var spec = { address: address, distance: distance, limit: limit }; if (emit('mdcl-search-start', [locator, spec]).isDefaultPrevented()) { _.defer(function () { deferred.reject(locator.result.CANCELLED); }); }
          searching++; locator.geocode(address).then(function (location) { emit('mdcl-search-geocode-success', [locator, spec, location]); load(_.extend(data || {}, { lat: location.lat(), lng: location.lng(), distance: distance, limit: limit }), spec).then(function (response, params) { return deferred.resolve(response, params); }, function (result, response) { deferred.reject(result, response); }).then(populate); }, function (status) { deferred.reject(locator.result.FAILURE_GEOCODE, status); emit('mdcl-search-geocode-failure', [locator, spec, status]); emit('mdcl-search-finished', [locator, spec]); }).always(function () { searching--; });
        }
        return deferred.promise();
      }, searchByKeywords: function (keywords, address, distance, limit, data) {
        var deferred = new $.Deferred(); keywords = $.trim(keywords) || null; address = $.trim(address) || null; if (locator.isSearching()) { _.defer(function () { deferred.reject(locator.result.BUSY); }); } else if (!keywords) { _.defer(function () { deferred.reject(locator.result.REQUIRED_ARGUMENT_MISSING); }); } else {
          var spec = { keywords: keywords, address: address, distance: distance, limit: limit }; if (emit('mdcl-search-start', [locator, spec]).isDefaultPrevented()) { _.defer(function () { deferred.reject(locator.result.CANCELLED); }); }
          searching++; locator.geocode(address).then(function (location) { emit('mdcl-search-geocode-success', [locator, spec, location]); load(_.extend(data || {}, { lat: location.lat(), lng: location.lng(), q: keywords, distance: distance, limit: limit }), spec).then(function (response, params) { return deferred.resolve(response, params); }, function (result, response) { deferred.reject(result, response); }).then(populate); }, function (status) { deferred.reject(locator.result.FAILURE_GEOCODE, status); emit('mdcl-search-geocode-failure', [locator, spec, status]); emit('mdcl-search-finished', [locator, spec]); }).always(function () { searching--; });
        }
        return deferred.promise();
      }, searchByLocation: function (location, distance, limit, random, data) {
        var deferred = new $.Deferred(); location = location || {}; if (locator.isSearching()) { _.defer(function () { deferred.reject(locator.result.BUSY); }); } else if (!(location.lat || location.latitude) || !(location.lng || location.longitude)) { _.defer(function () { deferred.reject(locator.result.REQUIRED_ARGUMENT_MISSING); }); } else {
          var spec = { location: location, distance: distance, limit: limit, random: !!random }; if (emit('mdcl-search-start', [locator, spec]).isDefaultPrevented()) { _.defer(function () { deferred.reject(locator.result.CANCELLED); }); }
          searching++; load(_.extend(data || {}, { lat: location.lat || location.latitude || null, lng: location.lng || location.longitude || null, distance: distance, limit: limit, random: !!random }), spec).then(function (response, params) { return deferred.resolve(response, params); }, function (result, response) { deferred.reject(result, response); }).then(populate).always(function () { searching--; });
        }
        return deferred.promise();
      }
    }); return locator;
  };
})(jQuery, _);

/*
* jQuery scrollintoview() plugin and :scrollable selector filter
*
* Version 1.8 (14 Jul 2011)
* Requires jQuery 1.4 or newer
*
* Copyright (c) 2011 Robert Koritnik
* Licensed under the terms of the MIT license
* http://www.opensource.org/licenses/mit-license.php
*/
(function (f) { var c = { vertical: { x: false, y: true }, horizontal: { x: true, y: false }, both: { x: true, y: true }, x: { x: true, y: false }, y: { x: false, y: true } }; var b = { duration: "fast", direction: "both" }; var e = /^(?:html)$/i; var g = function (k, j) { j = j || (document.defaultView && document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(k, null) : k.currentStyle); var i = document.defaultView && document.defaultView.getComputedStyle ? true : false; var h = { top: (parseFloat(i ? j.borderTopWidth : f.css(k, "borderTopWidth")) || 0), left: (parseFloat(i ? j.borderLeftWidth : f.css(k, "borderLeftWidth")) || 0), bottom: (parseFloat(i ? j.borderBottomWidth : f.css(k, "borderBottomWidth")) || 0), right: (parseFloat(i ? j.borderRightWidth : f.css(k, "borderRightWidth")) || 0) }; return { top: h.top, left: h.left, bottom: h.bottom, right: h.right, vertical: h.top + h.bottom, horizontal: h.left + h.right } }; var d = function (h) { var j = f(window); var i = e.test(h[0].nodeName); return { border: i ? { top: 0, left: 0, bottom: 0, right: 0 } : g(h[0]), scroll: { top: (i ? j : h).scrollTop(), left: (i ? j : h).scrollLeft() }, scrollbar: { right: i ? 0 : h.innerWidth() - h[0].clientWidth, bottom: i ? 0 : h.innerHeight() - h[0].clientHeight }, rect: (function () { var k = h[0].getBoundingClientRect(); return { top: i ? 0 : k.top, left: i ? 0 : k.left, bottom: i ? h[0].clientHeight : k.bottom, right: i ? h[0].clientWidth : k.right } })() } }; f.fn.extend({ scrollintoview: function (j) { j = f.extend({}, b, j); j.direction = c[typeof (j.direction) === "string" && j.direction.toLowerCase()] || c.both; var n = ""; if (j.direction.x === true) { n = "horizontal" } if (j.direction.y === true) { n = n ? "both" : "vertical" } var l = this.eq(0); var i = l.closest(":scrollable(" + n + ")"); if (i.length > 0) { i = i.eq(0); var m = { e: d(l), s: d(i) }; var h = { top: m.e.rect.top - (m.s.rect.top + m.s.border.top), bottom: m.s.rect.bottom - m.s.border.bottom - m.s.scrollbar.bottom - m.e.rect.bottom, left: m.e.rect.left - (m.s.rect.left + m.s.border.left), right: m.s.rect.right - m.s.border.right - m.s.scrollbar.right - m.e.rect.right }; var k = {}; if (j.direction.y === true) { if (h.top < 0) { k.scrollTop = m.s.scroll.top + h.top } else { if (h.top > 0 && h.bottom < 0) { k.scrollTop = m.s.scroll.top + Math.min(h.top, -h.bottom) } } } if (j.direction.x === true) { if (h.left < 0) { k.scrollLeft = m.s.scroll.left + h.left } else { if (h.left > 0 && h.right < 0) { k.scrollLeft = m.s.scroll.left + Math.min(h.left, -h.right) } } } if (!f.isEmptyObject(k)) { if (e.test(i[0].nodeName)) { i = f("html,body") } i.animate(k, j.duration).eq(0).queue(function (o) { f.isFunction(j.complete) && j.complete.call(i[0]); o() }) } else { f.isFunction(j.complete) && j.complete.call(i[0]) } } return this } }); var a = { auto: true, scroll: true, visible: false, hidden: false }; f.extend(f.expr[":"], { scrollable: function (k, i, n, h) { var m = c[typeof (n[3]) === "string" && n[3].toLowerCase()] || c.both; var l = (document.defaultView && document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(k, null) : k.currentStyle); var o = { x: a[l.overflowX.toLowerCase()] || false, y: a[l.overflowY.toLowerCase()] || false, isRoot: e.test(k.nodeName) }; if (!o.x && !o.y && !o.isRoot) { return false } var j = { height: { scroll: k.scrollHeight, client: k.clientHeight }, width: { scroll: k.scrollWidth, client: k.clientWidth }, scrollableX: function () { return (o.x || o.isRoot) && this.width.scroll > this.width.client }, scrollableY: function () { return (o.y || o.isRoot) && this.height.scroll > this.height.client } }; return m.y && j.scrollableY() || m.x && j.scrollableX() } }) })(jQuery);


var vw, vh, headerH, headerW, mainH, pageH, fooerH, tablet, mobile; vw = $(window).innerWidth(); vh = $(window).innerHeight(); headerW = $('.navbar-header').width(); headerH = $('header').height(); fooerH = $('footer').outerHeight(); tablet = 991; mobile = 767; function wrapEllipse() { $('.teaser-content').each(function (k, v) { var t = $(v); var v = t.width(); var jselipse = t.find('.js-overflow-elipsis>p'); var cut = parseInt(v / parseInt(jselipse.css('font-size')) * 4.5); if (jselipse.text().length > cut) { jselipse.text(jselipse.text().substr(0, cut) + '... '); jselipse.append('  <span style="text-decoration:underline;" class="js-overflow-elipsed">lees meer</span>'); } }); }
if ($('.js-overflow-elipsis').length > 0) { setTimeout(function () { wrapEllipse(); }, 400); }
$(document).on('click', '.navbar-nav a,.btn:not(.no-loader,.btn-open-filter,.btn-close-filter,.dealer-search), footer a,.quick-menu a', function () { animationCheck(); }); $(document).ready(function () {
  $('#newsletterForm input, .section-form form input, .section-form form select, .section-form form textarea').on('change click', function () { var itm = $(this); var recaptcha = $('#g-recaptcha-response'); if (recaptcha.length) { if (!recaptcha.val()) { grecaptcha.execute(); setTimeout(function () { itm.focus(); }, 1000); } } }); $.ajax({
    'type': 'post', 'url': $('.js-wishlist').attr('data-href'), 'success': function (result) {
      if (typeof (result.count) != undefined && result.count > 0)
        $('.js-wishlist span.wish-nr').removeClass('hidden').html(result.count); else
        $('.js-wishlist span.wish-nr').addClass('hidden');
    }
  });
}); function animationCheck() { var scelem = $('.scene_element--delayed'); if ($('html').hasClass('ccm-toolbar-visible')) { scelem.removeClass('fadeCustom'); } else { scelem.addClass('fadeCustom'); $('#main').addClass('is-exiting'); } }
$(window).scroll(function () { var scroll = $(window).scrollTop(); if (scroll > headerH) { $('.header').addClass('sticky'); } else { $('.header.sticky').removeClass('sticky'); } }); function pageSetup() { vh = $(window).innerHeight(); headerH = $('header').height(); fooerH = $('footer').outerHeight(); $('main').css({ 'min-height': vh - fooerH, 'padding-top': headerH }); }
var switcher = 'click'; function toucher() { if (!$(window).innerWidth() > mobile) { switcher = 'touchend'; } }
var jsrc = $('.js-search'); $(document).on(switcher, '.open-search', function () {
  $(this).closest(jsrc).addClass('active'); if (vw <= 767) { if ($(jsrc).hasClass('active')) { $(document).find('.header-search').focus(); } }
  return false;
}); $(document).on('click', function (e) { if (!jsrc.is(e.target) && jsrc.has(e.target).length === 0) { jsrc.removeClass('active'); jsrc.blur(); if (vw <= 767) { $(document).find('.js-header').css({ 'pointer-events': 'all' }); } } }); $(window).on('load', function () { }); var resizeId; $(window).on('resize', function () { clearTimeout(resizeId); resizeId = setTimeout(doneResizing, 500); }); function doneResizing() { pageSetup(); toucher(); }
$(document).ready(function () {
  if (vw > mobile) {
    var distance = 0, $window = $(window); $window.scroll(function () {
      if ($window.scrollTop() > 0) { $('header').addClass('sticky'); }
      else { $('header').removeClass('sticky'); }
    });
  }
  $(document).on(switcher, '.drop-icon', function () { $(this).toggleClass('opened'); }); var fields = 'input,textarea'; $(document).on('click focus select', fields, function () { $(this).closest('.input-with-label').addClass('focus'); });
}); (function () {
  var bodyEl = document.body, content = document.querySelector('main'), openbtn = document.querySelector('.btn-open-filter'), closebtn = document.querySelector('.btn-close-filter'), isOpen = false; function init() { initEvents(); }
  function initEvents() {
    if (openbtn) { openbtn.addEventListener('click', toggleMenu); }
    if (closebtn) { closebtn.addEventListener('click', toggleMenu); }
    content.addEventListener('click', function (e) { var target = e.target; if (isOpen && target !== openbtn) { toggleMenu(); } });
  }
  function toggleMenu() {
    if (isOpen) { classie.remove(bodyEl, 'show-menu'); }
    else { classie.add(bodyEl, 'show-menu'); }
    isOpen = !isOpen;
  }
  init();
})(); (function (window) {
  'use strict'; function classReg(className) { return new RegExp("(^|\\s+)" + className + "(\\s+|$)"); }
  var hasClass, addClass, removeClass; if ('classList' in document.documentElement) { hasClass = function (elem, c) { return elem.classList.contains(c); }; addClass = function (elem, c) { elem.classList.add(c); }; removeClass = function (elem, c) { elem.classList.remove(c); }; }
  else { hasClass = function (elem, c) { return classReg(c).test(elem.className); }; addClass = function (elem, c) { if (!hasClass(elem, c)) { elem.className = elem.className + ' ' + c; } }; removeClass = function (elem, c) { elem.className = elem.className.replace(classReg(c), ' '); }; }
  function toggleClass(elem, c) { var fn = hasClass(elem, c) ? removeClass : addClass; fn(elem, c); }
  var classie = { hasClass: hasClass, addClass: addClass, removeClass: removeClass, toggleClass: toggleClass, has: hasClass, add: addClass, remove: removeClass, toggle: toggleClass }; if (typeof define === 'function' && define.amd) { define(classie); } else { window.classie = classie; }
})(window); var resizeView; $(window).resize(function () { clearTimeout(resizeView); resizeView = setTimeout(doneResizing, 500); }); function doneResizing() { pageSetup(); }
if ($('.js-scroll-1').length > 0) {
  var scroller = $('.js-scroll-1'); var wh = $(window).height(); var hH = $('header').height(); var itH = $('.slider .item'); var slideB = itH.height() + itH.offset().top; $(window).load(function () { setTimeout(function () { slideB = itH.height() + itH.offset().top; corpos(); }, 1000); }); var resizeslid; $(window).resize(function () { clearTimeout(resizeslid); resizeslid = setTimeout(doneResizing, 500); }); function doneResizing() { wh = $(window).height(); slideB = itH.height() + itH.offset().top; corpos(); }
  $(window).scroll(function () { corpos(); }); function corpos() { var top = $(window).scrollTop() + wh - 255; if (top < slideB - 140) { scroller.css({ 'top': (top) }); } else { scroller.css({ 'top': (slideB - 255) }); } }
}
var number = 0; $(document).ready(function () { $('main .js-number').each(function () { $(this).find('.js-nr').html(++number); }); }); $(document).ready(function () {
  var vw = $(window).width(); var mobile = 767, tablet = 991; if (vw > tablet) { var jsH = 0; var $jItem = $('.js-sameHeight'); $jItem.each(function () { var thisHeight = $(this).height(); if (thisHeight > jsH) { jsH = thisHeight; } }); $jItem.height(jsH); $jItem.find('.no-pad').css({ 'min-height': jsH }); $jItem.find('.teaser-content').css({ 'min-height': (jsH) }); }
  if (vw > mobile && vw < tablet) { var jsH = 245; var $jItem = $('.js-sameHeight'); $jItem.each(function () { var thisHeight = $(this).height(); if (thisHeight > jsH) { jsH = thisHeight; } }); $jItem.height(jsH); $jItem.find('.no-pad').css({ 'min-height': jsH }); $jItem.find('.teaser-content').css({ 'min-height': (jsH) }); }
}); $(window).on('resize', function () { var vw = $(window).width(); var mobile = 767, tablet = 991; if (vw > tablet) { var jsH = 0; var $jItem = $('.js-sameHeight'); $jItem.each(function () { var thisHeight = $(this).height(); if (thisHeight > jsH) { jsH = thisHeight; } }); $jItem.height(jsH); $jItem.find('.no-pad').css({ 'min-height': jsH }); $jItem.find('.teaser-content').css({ 'min-height': (jsH) }); } }); $(document).ready(function () {
  var slickprev = '<button type="button" name="slick-prev" class="slick-prev icon-arrow"> <i class="fa fa-chevron-left"/> </button>'; var slicknext = '<button type="button" name="slick-next" class="slick-next icon-arrow"> <i class="fa fa-chevron-right"/> </button>'; $('.slick-slider').slick({ autoplay: true, arrows: true, centerMode: true, focusOnSelect: true, pauseOnDotsHover: true, responsive: true, autoplaySpeed: 6000, initialSlide: 0, centerPadding: 0, prevArrow: slickprev, nextArrow: slicknext }); var switcher = 'click'; function toucher() { if (!$(window).innerWidth() > tablet) { switcher = 'touchend'; } }
  var scroll = $('.js-scroll-1'); var sliderH = $('.sliderwrap').height(); scroll.on(switcher, function () { $('html,body').animate({ scrollTop: sliderH - 3 }, 500); });
}); function arrows() {
  vw = $(window).innerWidth(); if ($('.slick-slider')) { if (vw > mobile) { setTimeout(function () { var header = $('.navbar-header'); var offset = header.offset(); var arprev = Math.round(offset.left); $('.icon-arrow.slick-prev').animate({ 'left': arprev / 2 + 10 }); $('.icon-arrow.slick-next').animate({ 'right': arprev / 2 }); }, 700); } else { setTimeout(function () { $('.icon-arrow.slick-prev').animate({ 'left': 30 }); $('.icon-arrow.slick-next').animate({ 'right': 30 }); }, 700); } }
  if ($('.slick-slider') && vw > mobile) { }
} arrows(); var resizeView; $(window).resize(function () { clearTimeout(resizeView); resizeView = setTimeout(doneResizing, 500); }); function doneResizing() { arrows(); }
$(document).ready(function () {
  var prodprev = '<button type="button" name="slick-prev" class="slick-nav slick-prev"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>'; var prodnext = '<button type="button" name="slick-next" class="slick-nav slick-next"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>'
  $('.product-slider').slick({ autoplay: true, autoplaySpeed: 4000, initialSlide: 0, centerPadding: 0, arrows: true, prevArrow: prodprev, nextArrow: prodnext, infinite: true, slidesToShow: 3, slidesToScroll: 3, responsive: [{ breakpoint: 1140, settings: { slidesToShow: 2, slidesToScroll: 2, infinite: true } }, { breakpoint: 800, settings: { slidesToShow: 1, slidesToScroll: 1, infinite: true } }] }); var qprev = '<button type="button" name="slick-prev" class="slick-prev"><span class="icon-arrow" aria-hidden="true"></span></button>'; var qnext = '<button type="button" name="slick-next" class="slick-next"><span class="icon-arrow" aria-hidden="true"></span></button>'; $('.quote-slider').slick({ autoplay: true, arrows: true, centerMode: true, focusOnSelect: true, pauseOnDotsHover: true, responsive: true, autoplaySpeed: 6000, initialSlide: 0, centerPadding: 0, prevArrow: qprev, nextArrow: qnext, dots: true, customPaging: function (slider, i) { return '0' + (i + 1); } }); if ($('.quote-slider.slick-initialized')) { $('.slick-dots').appendTo('.bullet-nr'); }
}); $(document).ready(function () {
  if ($('.video-holder .thumbnail-video').length) { $('.video-holder').removeClass('hidden'); }
  $('.thumbImage-js-autoplay').click(function () { var ifr = $(this).closest('.videoWrapper').find('iframe'); console.log(ifr.attr('src')); ifr.attr('src', ifr.attr('src') + '?autoplay=1'); this.nextElementSibling.style.display = 'block'; this.style.display = 'none'; });
}); var quickMenu = $('.js-quick-menu'); if (quickMenu.length && $(window).width() < 480) {
  var lastScrollTop = 1; window.addEventListener("scroll", function () {
    var st = window.pageYOffset || document.documentElement.scrollTop; if (st > lastScrollTop) { quickMenu.addClass('hidden-menu'); $('.js-roomplanner-pop-up').removeClass('active'); } else { quickMenu.removeClass('hidden-menu'); }
    lastScrollTop = st <= 0 ? 0 : st;
  }, false);
}
$(document).ready(function () {
  try { let count = JSON.parse(window.localStorage.getItem('mage-cache-storage')).cart.summary_count; $('[data-block="cart"] .badge').html(count); $('[data-block="cart"]').toggle(count > 0); } catch (e) { }
  try { let count = JSON.parse(window.localStorage.getItem('mage-cache-storage')).wishlist.s_count; $('[data-block="wishlist"] .badge').html(count); $('[data-block="wishlist"]').toggle(count > 0); } catch (e) { }
  try { let count = JSON.parse(window.localStorage.getItem('mage-cache-storage'))['compare-products'].count; $('[data-block="compare"] .badge').html(count); $('[data-block="compare"]').toggle(count > 0)(); } catch (e) { }
}); $(document).ready(function () { jQuery("input").filter(function () { return this.value; }).trigger('click'); jQuery("textarea").filter(function () { return this.value; }).trigger('click'); jQuery("select").filter(function () { return this.value; }).trigger('change'); });

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function (factory) { if (typeof define === 'function' && define.amd) { define(['jquery'], factory); } else if (typeof exports === 'object') { module.exports = factory(require('jquery')); } else { factory(jQuery); } }(function ($) {
  var pluses = /\+/g; function encode(s) { return config.raw ? s : encodeURIComponent(s); }
  function decode(s) { return config.raw ? s : decodeURIComponent(s); }
  function stringifyCookieValue(value) { return encode(config.json ? JSON.stringify(value) : String(value)); }
  function parseCookieValue(s) {
    if (s.indexOf('"') === 0) { s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\'); }
    try { s = decodeURIComponent(s.replace(pluses, ' ')); return config.json ? JSON.parse(s) : s; } catch (e) { }
  }
  function read(s, converter) { var value = config.raw ? s : parseCookieValue(s); return $.isFunction(converter) ? converter(value) : value; }
  var config = $.cookie = function (key, value, options) {
    if (arguments.length > 1 && !$.isFunction(value)) {
      options = $.extend({}, config.defaults, options); if (typeof options.expires === 'number') { var days = options.expires, t = options.expires = new Date(); t.setMilliseconds(t.getMilliseconds() + days * 864e+5); }
      return (document.cookie = [encode(key), '=', stringifyCookieValue(value), options.expires ? '; expires=' + options.expires.toUTCString() : '', options.path ? '; path=' + options.path : '', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join(''));
    }
    var result = key ? undefined : {}, cookies = document.cookie ? document.cookie.split('; ') : [], i = 0, l = cookies.length; for (; i < l; i++) {
      var parts = cookies[i].split('='), name = decode(parts.shift()), cookie = parts.join('='); if (key === name) { result = read(cookie, value); break; }
      if (!key && (cookie = read(cookie)) !== undefined) { result[name] = cookie; }
    }
    return result;
  }; config.defaults = {}; $.removeCookie = function (key, options) { $.cookie(key, '', $.extend({}, options, { expires: -1 })); return !$.cookie(key); };
}));

; (function (factory) { 'use strict'; if (typeof define === 'function' && define.amd) { define(['jquery'], factory); } else if (typeof exports !== 'undefined') { module.exports = factory(require('jquery')); } else { factory(jQuery); } }(function ($) {
  'use strict'; var Slick = window.Slick || {}; Slick = (function () {
    var instanceUid = 0; function Slick(element, settings) {
      var _ = this, dataSettings; _.defaults = { accessibility: true, adaptiveHeight: false, appendArrows: $(element), appendDots: $(element), arrows: true, asNavFor: null, prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>', nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>', autoplay: false, autoplaySpeed: 3000, centerMode: false, centerPadding: '50px', cssEase: 'ease', customPaging: function (slider, i) { return $('<button type="button" />').text(i + 1); }, dots: false, dotsClass: 'slick-dots', draggable: true, easing: 'linear', edgeFriction: 0.35, fade: false, focusOnSelect: false, focusOnChange: false, infinite: true, initialSlide: 0, lazyLoad: 'ondemand', mobileFirst: false, pauseOnHover: true, pauseOnFocus: true, pauseOnDotsHover: false, respondTo: 'window', responsive: null, rows: 1, rtl: false, slide: '', slidesPerRow: 1, slidesToShow: 1, slidesToScroll: 1, speed: 500, swipe: true, swipeToSlide: false, touchMove: true, touchThreshold: 5, useCSS: true, useTransform: true, variableWidth: false, vertical: false, verticalSwiping: false, waitForAnimate: true, zIndex: 1000 }; _.initials = { animating: false, dragging: false, autoPlayTimer: null, currentDirection: 0, currentLeft: null, currentSlide: 0, direction: 1, $dots: null, listWidth: null, listHeight: null, loadIndex: 0, $nextArrow: null, $prevArrow: null, scrolling: false, slideCount: null, slideWidth: null, $slideTrack: null, $slides: null, sliding: false, slideOffset: 0, swipeLeft: null, swiping: false, $list: null, touchObject: {}, transformsEnabled: false, unslicked: false }; $.extend(_, _.initials); _.activeBreakpoint = null; _.animType = null; _.animProp = null; _.breakpoints = []; _.breakpointSettings = []; _.cssTransitions = false; _.focussed = false; _.interrupted = false; _.hidden = 'hidden'; _.paused = true; _.positionProp = null; _.respondTo = null; _.rowCount = 1; _.shouldClick = true; _.$slider = $(element); _.$slidesCache = null; _.transformType = null; _.transitionType = null; _.visibilityChange = 'visibilitychange'; _.windowWidth = 0; _.windowTimer = null; dataSettings = $(element).data('slick') || {}; _.options = $.extend({}, _.defaults, settings, dataSettings); _.currentSlide = _.options.initialSlide; _.originalSettings = _.options; if (typeof document.mozHidden !== 'undefined') { _.hidden = 'mozHidden'; _.visibilityChange = 'mozvisibilitychange'; } else if (typeof document.webkitHidden !== 'undefined') { _.hidden = 'webkitHidden'; _.visibilityChange = 'webkitvisibilitychange'; }
      _.autoPlay = $.proxy(_.autoPlay, _); _.autoPlayClear = $.proxy(_.autoPlayClear, _); _.autoPlayIterator = $.proxy(_.autoPlayIterator, _); _.changeSlide = $.proxy(_.changeSlide, _); _.clickHandler = $.proxy(_.clickHandler, _); _.selectHandler = $.proxy(_.selectHandler, _); _.setPosition = $.proxy(_.setPosition, _); _.swipeHandler = $.proxy(_.swipeHandler, _); _.dragHandler = $.proxy(_.dragHandler, _); _.keyHandler = $.proxy(_.keyHandler, _); _.instanceUid = instanceUid++; _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/; _.registerBreakpoints(); _.init(true);
    }
    return Slick;
  }()); Slick.prototype.activateADA = function () { var _ = this; _.$slideTrack.find('.slick-active').attr({ 'aria-hidden': 'false' }).find('a, input, button, select').attr({ 'tabindex': '0' }); }; Slick.prototype.addSlide = Slick.prototype.slickAdd = function (markup, index, addBefore) {
    var _ = this; if (typeof (index) === 'boolean') { addBefore = index; index = null; } else if (index < 0 || (index >= _.slideCount)) { return false; }
    _.unload(); if (typeof (index) === 'number') { if (index === 0 && _.$slides.length === 0) { $(markup).appendTo(_.$slideTrack); } else if (addBefore) { $(markup).insertBefore(_.$slides.eq(index)); } else { $(markup).insertAfter(_.$slides.eq(index)); } } else { if (addBefore === true) { $(markup).prependTo(_.$slideTrack); } else { $(markup).appendTo(_.$slideTrack); } }
    _.$slides = _.$slideTrack.children(this.options.slide); _.$slideTrack.children(this.options.slide).detach(); _.$slideTrack.append(_.$slides); _.$slides.each(function (index, element) { $(element).attr('data-slick-index', index); }); _.$slidesCache = _.$slides; _.reinit();
  }; Slick.prototype.animateHeight = function () { var _ = this; if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) { var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true); _.$list.animate({ height: targetHeight }, _.options.speed); } }; Slick.prototype.animateSlide = function (targetLeft, callback) {
    var animProps = {}, _ = this; _.animateHeight(); if (_.options.rtl === true && _.options.vertical === false) { targetLeft = -targetLeft; }
    if (_.transformsEnabled === false) { if (_.options.vertical === false) { _.$slideTrack.animate({ left: targetLeft }, _.options.speed, _.options.easing, callback); } else { _.$slideTrack.animate({ top: targetLeft }, _.options.speed, _.options.easing, callback); } } else {
      if (_.cssTransitions === false) {
        if (_.options.rtl === true) { _.currentLeft = -(_.currentLeft); }
        $({ animStart: _.currentLeft }).animate({ animStart: targetLeft }, {
          duration: _.options.speed, easing: _.options.easing, step: function (now) {
            now = Math.ceil(now); if (_.options.vertical === false) {
              animProps[_.animType] = 'translate(' +
                now + 'px, 0px)'; _.$slideTrack.css(animProps);
            } else {
              animProps[_.animType] = 'translate(0px,' +
                now + 'px)'; _.$slideTrack.css(animProps);
            }
          }, complete: function () { if (callback) { callback.call(); } }
        });
      } else {
        _.applyTransition(); targetLeft = Math.ceil(targetLeft); if (_.options.vertical === false) { animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)'; } else { animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)'; }
        _.$slideTrack.css(animProps); if (callback) { setTimeout(function () { _.disableTransition(); callback.call(); }, _.options.speed); }
      }
    }
  }; Slick.prototype.getNavTarget = function () {
    var _ = this, asNavFor = _.options.asNavFor; if (asNavFor && asNavFor !== null) { asNavFor = $(asNavFor).not(_.$slider); }
    return asNavFor;
  }; Slick.prototype.asNavFor = function (index) { var _ = this, asNavFor = _.getNavTarget(); if (asNavFor !== null && typeof asNavFor === 'object') { asNavFor.each(function () { var target = $(this).slick('getSlick'); if (!target.unslicked) { target.slideHandler(index, true); } }); } }; Slick.prototype.applyTransition = function (slide) {
    var _ = this, transition = {}; if (_.options.fade === false) { transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase; } else { transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase; }
    if (_.options.fade === false) { _.$slideTrack.css(transition); } else { _.$slides.eq(slide).css(transition); }
  }; Slick.prototype.autoPlay = function () { var _ = this; _.autoPlayClear(); if (_.slideCount > _.options.slidesToShow) { _.autoPlayTimer = setInterval(_.autoPlayIterator, _.options.autoplaySpeed); } }; Slick.prototype.autoPlayClear = function () { var _ = this; if (_.autoPlayTimer) { clearInterval(_.autoPlayTimer); } }; Slick.prototype.autoPlayIterator = function () {
    var _ = this, slideTo = _.currentSlide + _.options.slidesToScroll; if (!_.paused && !_.interrupted && !_.focussed) {
      if (_.options.infinite === false) {
        if (_.direction === 1 && (_.currentSlide + 1) === (_.slideCount - 1)) { _.direction = 0; }
        else if (_.direction === 0) { slideTo = _.currentSlide - _.options.slidesToScroll; if (_.currentSlide - 1 === 0) { _.direction = 1; } }
      }
      _.slideHandler(slideTo);
    }
  }; Slick.prototype.buildArrows = function () {
    var _ = this; if (_.options.arrows === true) {
      _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow'); _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow'); if (_.slideCount > _.options.slidesToShow) {
        _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex'); _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex'); if (_.htmlExpr.test(_.options.prevArrow)) { _.$prevArrow.prependTo(_.options.appendArrows); }
        if (_.htmlExpr.test(_.options.nextArrow)) { _.$nextArrow.appendTo(_.options.appendArrows); }
        if (_.options.infinite !== true) { _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true'); }
      } else { _.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({ 'aria-disabled': 'true', 'tabindex': '-1' }); }
    }
  }; Slick.prototype.buildDots = function () {
    var _ = this, i, dot; if (_.options.dots === true) {
      _.$slider.addClass('slick-dotted'); dot = $('<ul />').addClass(_.options.dotsClass); for (i = 0; i <= _.getDotCount(); i += 1) { dot.append($('<li />').append(_.options.customPaging.call(this, _, i))); }
      _.$dots = dot.appendTo(_.options.appendDots); _.$dots.find('li').first().addClass('slick-active');
    }
  }; Slick.prototype.buildOut = function () {
    var _ = this; _.$slides = _.$slider.children(_.options.slide + ':not(.slick-cloned)').addClass('slick-slide'); _.slideCount = _.$slides.length; _.$slides.each(function (index, element) { $(element).attr('data-slick-index', index).data('originalStyling', $(element).attr('style') || ''); }); _.$slider.addClass('slick-slider'); _.$slideTrack = (_.slideCount === 0) ? $('<div class="slick-track"/>').appendTo(_.$slider) : _.$slides.wrapAll('<div class="slick-track"/>').parent(); _.$list = _.$slideTrack.wrap('<div class="slick-list"/>').parent(); _.$slideTrack.css('opacity', 0); if (_.options.centerMode === true || _.options.swipeToSlide === true) { _.options.slidesToScroll = 1; }
    $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading'); _.setupInfinite(); _.buildArrows(); _.buildDots(); _.updateDots(); _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0); if (_.options.draggable === true) { _.$list.addClass('draggable'); }
  }; Slick.prototype.buildRows = function () {
    var _ = this, a, b, c, newSlides, numOfSlides, originalSlides, slidesPerSection; newSlides = document.createDocumentFragment(); originalSlides = _.$slider.children(); if (_.options.rows > 1) {
      slidesPerSection = _.options.slidesPerRow * _.options.rows; numOfSlides = Math.ceil(originalSlides.length / slidesPerSection); for (a = 0; a < numOfSlides; a++) {
        var slide = document.createElement('div'); for (b = 0; b < _.options.rows; b++) {
          var row = document.createElement('div'); for (c = 0; c < _.options.slidesPerRow; c++) { var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c)); if (originalSlides.get(target)) { row.appendChild(originalSlides.get(target)); } }
          slide.appendChild(row);
        }
        newSlides.appendChild(slide);
      }
      _.$slider.empty().append(newSlides); _.$slider.children().children().children().css({ 'width': (100 / _.options.slidesPerRow) + '%', 'display': 'inline-block' });
    }
  }; Slick.prototype.checkResponsive = function (initial, forceUpdate) {
    var _ = this, breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false; var sliderWidth = _.$slider.width(); var windowWidth = window.innerWidth || $(window).width(); if (_.respondTo === 'window') { respondToWidth = windowWidth; } else if (_.respondTo === 'slider') { respondToWidth = sliderWidth; } else if (_.respondTo === 'min') { respondToWidth = Math.min(windowWidth, sliderWidth); }
    if (_.options.responsive && _.options.responsive.length && _.options.responsive !== null) {
      targetBreakpoint = null; for (breakpoint in _.breakpoints) { if (_.breakpoints.hasOwnProperty(breakpoint)) { if (_.originalSettings.mobileFirst === false) { if (respondToWidth < _.breakpoints[breakpoint]) { targetBreakpoint = _.breakpoints[breakpoint]; } } else { if (respondToWidth > _.breakpoints[breakpoint]) { targetBreakpoint = _.breakpoints[breakpoint]; } } } }
      if (targetBreakpoint !== null) {
        if (_.activeBreakpoint !== null) {
          if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
            _.activeBreakpoint = targetBreakpoint; if (_.breakpointSettings[targetBreakpoint] === 'unslick') { _.unslick(targetBreakpoint); } else {
              _.options = $.extend({}, _.originalSettings, _.breakpointSettings[targetBreakpoint]); if (initial === true) { _.currentSlide = _.options.initialSlide; }
              _.refresh(initial);
            }
            triggerBreakpoint = targetBreakpoint;
          }
        } else {
          _.activeBreakpoint = targetBreakpoint; if (_.breakpointSettings[targetBreakpoint] === 'unslick') { _.unslick(targetBreakpoint); } else {
            _.options = $.extend({}, _.originalSettings, _.breakpointSettings[targetBreakpoint]); if (initial === true) { _.currentSlide = _.options.initialSlide; }
            _.refresh(initial);
          }
          triggerBreakpoint = targetBreakpoint;
        }
      } else {
        if (_.activeBreakpoint !== null) {
          _.activeBreakpoint = null; _.options = _.originalSettings; if (initial === true) { _.currentSlide = _.options.initialSlide; }
          _.refresh(initial); triggerBreakpoint = targetBreakpoint;
        }
      }
      if (!initial && triggerBreakpoint !== false) { _.$slider.trigger('breakpoint', [_, triggerBreakpoint]); }
    }
  }; Slick.prototype.changeSlide = function (event, dontAnimate) {
    var _ = this, $target = $(event.currentTarget), indexOffset, slideOffset, unevenOffset; if ($target.is('a')) { event.preventDefault(); }
    if (!$target.is('li')) { $target = $target.closest('li'); }
    unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0); indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll; switch (event.data.message) {
      case 'previous': slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset; if (_.slideCount > _.options.slidesToShow) { _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate); }
        break; case 'next': slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset; if (_.slideCount > _.options.slidesToShow) { _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate); }
        break; case 'index': var index = event.data.index === 0 ? 0 : event.data.index || $target.index() * _.options.slidesToScroll; _.slideHandler(_.checkNavigable(index), false, dontAnimate); $target.children().trigger('focus'); break; default: return;
    }
  }; Slick.prototype.checkNavigable = function (index) {
    var _ = this, navigables, prevNavigable; navigables = _.getNavigableIndexes(); prevNavigable = 0; if (index > navigables[navigables.length - 1]) { index = navigables[navigables.length - 1]; } else {
      for (var n in navigables) {
        if (index < navigables[n]) { index = prevNavigable; break; }
        prevNavigable = navigables[n];
      }
    }
    return index;
  }; Slick.prototype.cleanUpEvents = function () {
    var _ = this; if (_.options.dots && _.$dots !== null) { $('li', _.$dots).off('click.slick', _.changeSlide).off('mouseenter.slick', $.proxy(_.interrupt, _, true)).off('mouseleave.slick', $.proxy(_.interrupt, _, false)); if (_.options.accessibility === true) { _.$dots.off('keydown.slick', _.keyHandler); } }
    _.$slider.off('focus.slick blur.slick'); if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) { _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide); _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide); if (_.options.accessibility === true) { _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler); _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler); } }
    _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler); _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler); _.$list.off('touchend.slick mouseup.slick', _.swipeHandler); _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler); _.$list.off('click.slick', _.clickHandler); $(document).off(_.visibilityChange, _.visibility); _.cleanUpSlideEvents(); if (_.options.accessibility === true) { _.$list.off('keydown.slick', _.keyHandler); }
    if (_.options.focusOnSelect === true) { $(_.$slideTrack).children().off('click.slick', _.selectHandler); }
    $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange); $(window).off('resize.slick.slick-' + _.instanceUid, _.resize); $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault); $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);
  }; Slick.prototype.cleanUpSlideEvents = function () { var _ = this; _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true)); _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false)); }; Slick.prototype.cleanUpRows = function () { var _ = this, originalSlides; if (_.options.rows > 1) { originalSlides = _.$slides.children().children(); originalSlides.removeAttr('style'); _.$slider.empty().append(originalSlides); } }; Slick.prototype.clickHandler = function (event) { var _ = this; if (_.shouldClick === false) { event.stopImmediatePropagation(); event.stopPropagation(); event.preventDefault(); } }; Slick.prototype.destroy = function (refresh) {
    var _ = this; _.autoPlayClear(); _.touchObject = {}; _.cleanUpEvents(); $('.slick-cloned', _.$slider).detach(); if (_.$dots) { _.$dots.remove(); }
    if (_.$prevArrow && _.$prevArrow.length) { _.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display', ''); if (_.htmlExpr.test(_.options.prevArrow)) { _.$prevArrow.remove(); } }
    if (_.$nextArrow && _.$nextArrow.length) { _.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display', ''); if (_.htmlExpr.test(_.options.nextArrow)) { _.$nextArrow.remove(); } }
    if (_.$slides) { _.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function () { $(this).attr('style', $(this).data('originalStyling')); }); _.$slideTrack.children(this.options.slide).detach(); _.$slideTrack.detach(); _.$list.detach(); _.$slider.append(_.$slides); }
    _.cleanUpRows(); _.$slider.removeClass('slick-slider'); _.$slider.removeClass('slick-initialized'); _.$slider.removeClass('slick-dotted'); _.unslicked = true; if (!refresh) { _.$slider.trigger('destroy', [_]); }
  }; Slick.prototype.disableTransition = function (slide) { var _ = this, transition = {}; transition[_.transitionType] = ''; if (_.options.fade === false) { _.$slideTrack.css(transition); } else { _.$slides.eq(slide).css(transition); } }; Slick.prototype.fadeSlide = function (slideIndex, callback) { var _ = this; if (_.cssTransitions === false) { _.$slides.eq(slideIndex).css({ zIndex: _.options.zIndex }); _.$slides.eq(slideIndex).animate({ opacity: 1 }, _.options.speed, _.options.easing, callback); } else { _.applyTransition(slideIndex); _.$slides.eq(slideIndex).css({ opacity: 1, zIndex: _.options.zIndex }); if (callback) { setTimeout(function () { _.disableTransition(slideIndex); callback.call(); }, _.options.speed); } } }; Slick.prototype.fadeSlideOut = function (slideIndex) { var _ = this; if (_.cssTransitions === false) { _.$slides.eq(slideIndex).animate({ opacity: 0, zIndex: _.options.zIndex - 2 }, _.options.speed, _.options.easing); } else { _.applyTransition(slideIndex); _.$slides.eq(slideIndex).css({ opacity: 0, zIndex: _.options.zIndex - 2 }); } }; Slick.prototype.filterSlides = Slick.prototype.slickFilter = function (filter) { var _ = this; if (filter !== null) { _.$slidesCache = _.$slides; _.unload(); _.$slideTrack.children(this.options.slide).detach(); _.$slidesCache.filter(filter).appendTo(_.$slideTrack); _.reinit(); } }; Slick.prototype.focusHandler = function () { var _ = this; _.$slider.off('focus.slick blur.slick').on('focus.slick blur.slick', '*', function (event) { event.stopImmediatePropagation(); var $sf = $(this); setTimeout(function () { if (_.options.pauseOnFocus) { _.focussed = $sf.is(':focus'); _.autoPlay(); } }, 0); }); }; Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function () { var _ = this; return _.currentSlide; }; Slick.prototype.getDotCount = function () {
    var _ = this; var breakPoint = 0; var counter = 0; var pagerQty = 0; if (_.options.infinite === true) { if (_.slideCount <= _.options.slidesToShow) { ++pagerQty; } else { while (breakPoint < _.slideCount) { ++pagerQty; breakPoint = counter + _.options.slidesToScroll; counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow; } } } else if (_.options.centerMode === true) { pagerQty = _.slideCount; } else if (!_.options.asNavFor) { pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll); } else { while (breakPoint < _.slideCount) { ++pagerQty; breakPoint = counter + _.options.slidesToScroll; counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow; } }
    return pagerQty - 1;
  }; Slick.prototype.getLeft = function (slideIndex) {
    var _ = this, targetLeft, verticalHeight, verticalOffset = 0, targetSlide, coef; _.slideOffset = 0; verticalHeight = _.$slides.first().outerHeight(true); if (_.options.infinite === true) {
      if (_.slideCount > _.options.slidesToShow) {
        _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1; coef = -1
        if (_.options.vertical === true && _.options.centerMode === true) { if (_.options.slidesToShow === 2) { coef = -1.5; } else if (_.options.slidesToShow === 1) { coef = -2 } }
        verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;
      }
      if (_.slideCount % _.options.slidesToScroll !== 0) { if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) { if (slideIndex > _.slideCount) { _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1; verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1; } else { _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1; verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1; } } }
    } else { if (slideIndex + _.options.slidesToShow > _.slideCount) { _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth; verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight; } }
    if (_.slideCount <= _.options.slidesToShow) { _.slideOffset = 0; verticalOffset = 0; }
    if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) { _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2); } else if (_.options.centerMode === true && _.options.infinite === true) { _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth; } else if (_.options.centerMode === true) { _.slideOffset = 0; _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2); }
    if (_.options.vertical === false) { targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset; } else { targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset; }
    if (_.options.variableWidth === true) {
      if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) { targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex); } else { targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow); }
      if (_.options.rtl === true) { if (targetSlide[0]) { targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1; } else { targetLeft = 0; } } else { targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0; }
      if (_.options.centerMode === true) {
        if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) { targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex); } else { targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1); }
        if (_.options.rtl === true) { if (targetSlide[0]) { targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1; } else { targetLeft = 0; } } else { targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0; }
        targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
      }
    }
    return targetLeft;
  }; Slick.prototype.getOption = Slick.prototype.slickGetOption = function (option) { var _ = this; return _.options[option]; }; Slick.prototype.getNavigableIndexes = function () {
    var _ = this, breakPoint = 0, counter = 0, indexes = [], max; if (_.options.infinite === false) { max = _.slideCount; } else { breakPoint = _.options.slidesToScroll * -1; counter = _.options.slidesToScroll * -1; max = _.slideCount * 2; }
    while (breakPoint < max) { indexes.push(breakPoint); breakPoint = counter + _.options.slidesToScroll; counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow; }
    return indexes;
  }; Slick.prototype.getSlick = function () { return this; }; Slick.prototype.getSlideCount = function () { var _ = this, slidesTraversed, swipedSlide, centerOffset; centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0; if (_.options.swipeToSlide === true) { _.$slideTrack.find('.slick-slide').each(function (index, slide) { if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) { swipedSlide = slide; return false; } }); slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1; return slidesTraversed; } else { return _.options.slidesToScroll; } }; Slick.prototype.goTo = Slick.prototype.slickGoTo = function (slide, dontAnimate) { var _ = this; _.changeSlide({ data: { message: 'index', index: parseInt(slide) } }, dontAnimate); }; Slick.prototype.init = function (creation) {
    var _ = this; if (!$(_.$slider).hasClass('slick-initialized')) { $(_.$slider).addClass('slick-initialized'); _.buildRows(); _.buildOut(); _.setProps(); _.startLoad(); _.loadSlider(); _.initializeEvents(); _.updateArrows(); _.updateDots(); _.checkResponsive(true); _.focusHandler(); }
    if (creation) { _.$slider.trigger('init', [_]); }
    if (_.options.accessibility === true) { _.initADA(); }
    if (_.options.autoplay) { _.paused = false; _.autoPlay(); }
  }; Slick.prototype.initADA = function () {
    var _ = this, numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow), tabControlIndexes = _.getNavigableIndexes().filter(function (val) { return (val >= 0) && (val < _.slideCount); }); _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({ 'aria-hidden': 'true', 'tabindex': '-1' }).find('a, input, button, select').attr({ 'tabindex': '-1' }); if (_.$dots !== null) { _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function (i) { var slideControlIndex = tabControlIndexes.indexOf(i); $(this).attr({ 'role': 'tabpanel', 'id': 'slick-slide' + _.instanceUid + i, 'tabindex': -1 }); if (slideControlIndex !== -1) { $(this).attr({ 'aria-describedby': 'slick-slide-control' + _.instanceUid + slideControlIndex }); } }); _.$dots.attr('role', 'tablist').find('li').each(function (i) { var mappedSlideIndex = tabControlIndexes[i]; $(this).attr({ 'role': 'presentation' }); $(this).find('button').first().attr({ 'role': 'tab', 'id': 'slick-slide-control' + _.instanceUid + i, 'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex, 'aria-label': (i + 1) + ' of ' + numDotGroups, 'aria-selected': null, 'tabindex': '-1' }); }).eq(_.currentSlide).find('button').attr({ 'aria-selected': 'true', 'tabindex': '0' }).end(); }
    for (var i = _.currentSlide, max = i + _.options.slidesToShow; i < max; i++) { _.$slides.eq(i).attr('tabindex', 0); }
    _.activateADA();
  }; Slick.prototype.initArrowEvents = function () { var _ = this; if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) { _.$prevArrow.off('click.slick').on('click.slick', { message: 'previous' }, _.changeSlide); _.$nextArrow.off('click.slick').on('click.slick', { message: 'next' }, _.changeSlide); if (_.options.accessibility === true) { _.$prevArrow.on('keydown.slick', _.keyHandler); _.$nextArrow.on('keydown.slick', _.keyHandler); } } }; Slick.prototype.initDotEvents = function () {
    var _ = this; if (_.options.dots === true) { $('li', _.$dots).on('click.slick', { message: 'index' }, _.changeSlide); if (_.options.accessibility === true) { _.$dots.on('keydown.slick', _.keyHandler); } }
    if (_.options.dots === true && _.options.pauseOnDotsHover === true) { $('li', _.$dots).on('mouseenter.slick', $.proxy(_.interrupt, _, true)).on('mouseleave.slick', $.proxy(_.interrupt, _, false)); }
  }; Slick.prototype.initSlideEvents = function () { var _ = this; if (_.options.pauseOnHover) { _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true)); _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false)); } }; Slick.prototype.initializeEvents = function () {
    var _ = this; _.initArrowEvents(); _.initDotEvents(); _.initSlideEvents(); _.$list.on('touchstart.slick mousedown.slick', { action: 'start' }, _.swipeHandler); _.$list.on('touchmove.slick mousemove.slick', { action: 'move' }, _.swipeHandler); _.$list.on('touchend.slick mouseup.slick', { action: 'end' }, _.swipeHandler); _.$list.on('touchcancel.slick mouseleave.slick', { action: 'end' }, _.swipeHandler); _.$list.on('click.slick', _.clickHandler); $(document).on(_.visibilityChange, $.proxy(_.visibility, _)); if (_.options.accessibility === true) { _.$list.on('keydown.slick', _.keyHandler); }
    if (_.options.focusOnSelect === true) { $(_.$slideTrack).children().on('click.slick', _.selectHandler); }
    $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _)); $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _)); $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault); $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition); $(_.setPosition);
  }; Slick.prototype.initUI = function () {
    var _ = this; if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) { _.$prevArrow.show(); _.$nextArrow.show(); }
    if (_.options.dots === true && _.slideCount > _.options.slidesToShow) { _.$dots.show(); }
  }; Slick.prototype.keyHandler = function (event) { var _ = this; if (!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) { if (event.keyCode === 37 && _.options.accessibility === true) { _.changeSlide({ data: { message: _.options.rtl === true ? 'next' : 'previous' } }); } else if (event.keyCode === 39 && _.options.accessibility === true) { _.changeSlide({ data: { message: _.options.rtl === true ? 'previous' : 'next' } }); } } }; Slick.prototype.lazyLoad = function () {
    var _ = this, loadRange, cloneRange, rangeStart, rangeEnd; function loadImages(imagesScope) {
      $('img[data-lazy]', imagesScope).each(function () {
        var image = $(this), imageSource = $(this).attr('data-lazy'), imageSrcSet = $(this).attr('data-srcset'), imageSizes = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'), imageToLoad = document.createElement('img'); imageToLoad.onload = function () {
          image.animate({ opacity: 0 }, 100, function () {
            if (imageSrcSet) { image.attr('srcset', imageSrcSet); if (imageSizes) { image.attr('sizes', imageSizes); } }
            image.attr('src', imageSource).animate({ opacity: 1 }, 200, function () { image.removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading'); }); _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
          });
        }; imageToLoad.onerror = function () { image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error'); _.$slider.trigger('lazyLoadError', [_, image, imageSource]); }; imageToLoad.src = imageSource;
      });
    }
    if (_.options.centerMode === true) { if (_.options.infinite === true) { rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1); rangeEnd = rangeStart + _.options.slidesToShow + 2; } else { rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1)); rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide; } } else { rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide; rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow); if (_.options.fade === true) { if (rangeStart > 0) rangeStart--; if (rangeEnd <= _.slideCount) rangeEnd++; } }
    loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd); if (_.options.lazyLoad === 'anticipated') { var prevSlide = rangeStart - 1, nextSlide = rangeEnd, $slides = _.$slider.find('.slick-slide'); for (var i = 0; i < _.options.slidesToScroll; i++) { if (prevSlide < 0) prevSlide = _.slideCount - 1; loadRange = loadRange.add($slides.eq(prevSlide)); loadRange = loadRange.add($slides.eq(nextSlide)); prevSlide--; nextSlide++; } }
    loadImages(loadRange); if (_.slideCount <= _.options.slidesToShow) { cloneRange = _.$slider.find('.slick-slide'); loadImages(cloneRange); } else
      if (_.currentSlide >= _.slideCount - _.options.slidesToShow) { cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow); loadImages(cloneRange); } else if (_.currentSlide === 0) { cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1); loadImages(cloneRange); }
  }; Slick.prototype.loadSlider = function () { var _ = this; _.setPosition(); _.$slideTrack.css({ opacity: 1 }); _.$slider.removeClass('slick-loading'); _.initUI(); if (_.options.lazyLoad === 'progressive') { _.progressiveLazyLoad(); } }; Slick.prototype.next = Slick.prototype.slickNext = function () { var _ = this; _.changeSlide({ data: { message: 'next' } }); }; Slick.prototype.orientationChange = function () { var _ = this; _.checkResponsive(); _.setPosition(); }; Slick.prototype.pause = Slick.prototype.slickPause = function () { var _ = this; _.autoPlayClear(); _.paused = true; }; Slick.prototype.play = Slick.prototype.slickPlay = function () { var _ = this; _.autoPlay(); _.options.autoplay = true; _.paused = false; _.focussed = false; _.interrupted = false; }; Slick.prototype.postSlide = function (index) {
    var _ = this; if (!_.unslicked) {
      _.$slider.trigger('afterChange', [_, index]); _.animating = false; if (_.slideCount > _.options.slidesToShow) { _.setPosition(); }
      _.swipeLeft = null; if (_.options.autoplay) { _.autoPlay(); }
      if (_.options.accessibility === true) { _.initADA(); if (_.options.focusOnChange) { var $currentSlide = $(_.$slides.get(_.currentSlide)); $currentSlide.attr('tabindex', 0).focus(); } }
    }
  }; Slick.prototype.prev = Slick.prototype.slickPrev = function () { var _ = this; _.changeSlide({ data: { message: 'previous' } }); }; Slick.prototype.preventDefault = function (event) { event.preventDefault(); }; Slick.prototype.progressiveLazyLoad = function (tryCount) {
    tryCount = tryCount || 1; var _ = this, $imgsToLoad = $('img[data-lazy]', _.$slider), image, imageSource, imageSrcSet, imageSizes, imageToLoad; if ($imgsToLoad.length) {
      image = $imgsToLoad.first(); imageSource = image.attr('data-lazy'); imageSrcSet = image.attr('data-srcset'); imageSizes = image.attr('data-sizes') || _.$slider.attr('data-sizes'); imageToLoad = document.createElement('img'); imageToLoad.onload = function () {
        if (imageSrcSet) { image.attr('srcset', imageSrcSet); if (imageSizes) { image.attr('sizes', imageSizes); } }
        image.attr('src', imageSource).removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading'); if (_.options.adaptiveHeight === true) { _.setPosition(); }
        _.$slider.trigger('lazyLoaded', [_, image, imageSource]); _.progressiveLazyLoad();
      }; imageToLoad.onerror = function () { if (tryCount < 3) { setTimeout(function () { _.progressiveLazyLoad(tryCount + 1); }, 500); } else { image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error'); _.$slider.trigger('lazyLoadError', [_, image, imageSource]); _.progressiveLazyLoad(); } }; imageToLoad.src = imageSource;
    } else { _.$slider.trigger('allImagesLoaded', [_]); }
  }; Slick.prototype.refresh = function (initializing) {
    var _ = this, currentSlide, lastVisibleIndex; lastVisibleIndex = _.slideCount - _.options.slidesToShow; if (!_.options.infinite && (_.currentSlide > lastVisibleIndex)) { _.currentSlide = lastVisibleIndex; }
    if (_.slideCount <= _.options.slidesToShow) { _.currentSlide = 0; }
    currentSlide = _.currentSlide; _.destroy(true); $.extend(_, _.initials, { currentSlide: currentSlide }); _.init(); if (!initializing) { _.changeSlide({ data: { message: 'index', index: currentSlide } }, false); }
  }; Slick.prototype.registerBreakpoints = function () {
    var _ = this, breakpoint, currentBreakpoint, l, responsiveSettings = _.options.responsive || null; if ($.type(responsiveSettings) === 'array' && responsiveSettings.length) {
      _.respondTo = _.options.respondTo || 'window'; for (breakpoint in responsiveSettings) {
        l = _.breakpoints.length - 1; if (responsiveSettings.hasOwnProperty(breakpoint)) {
          currentBreakpoint = responsiveSettings[breakpoint].breakpoint; while (l >= 0) {
            if (_.breakpoints[l] && _.breakpoints[l] === currentBreakpoint) { _.breakpoints.splice(l, 1); }
            l--;
          }
          _.breakpoints.push(currentBreakpoint); _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;
        }
      }
      _.breakpoints.sort(function (a, b) { return (_.options.mobileFirst) ? a - b : b - a; });
    }
  }; Slick.prototype.reinit = function () {
    var _ = this; _.$slides = _.$slideTrack.children(_.options.slide).addClass('slick-slide'); _.slideCount = _.$slides.length; if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) { _.currentSlide = _.currentSlide - _.options.slidesToScroll; }
    if (_.slideCount <= _.options.slidesToShow) { _.currentSlide = 0; }
    _.registerBreakpoints(); _.setProps(); _.setupInfinite(); _.buildArrows(); _.updateArrows(); _.initArrowEvents(); _.buildDots(); _.updateDots(); _.initDotEvents(); _.cleanUpSlideEvents(); _.initSlideEvents(); _.checkResponsive(false, true); if (_.options.focusOnSelect === true) { $(_.$slideTrack).children().on('click.slick', _.selectHandler); }
    _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0); _.setPosition(); _.focusHandler(); _.paused = !_.options.autoplay; _.autoPlay(); _.$slider.trigger('reInit', [_]);
  }; Slick.prototype.resize = function () { var _ = this; if ($(window).width() !== _.windowWidth) { clearTimeout(_.windowDelay); _.windowDelay = window.setTimeout(function () { _.windowWidth = $(window).width(); _.checkResponsive(); if (!_.unslicked) { _.setPosition(); } }, 50); } }; Slick.prototype.removeSlide = Slick.prototype.slickRemove = function (index, removeBefore, removeAll) {
    var _ = this; if (typeof (index) === 'boolean') { removeBefore = index; index = removeBefore === true ? 0 : _.slideCount - 1; } else { index = removeBefore === true ? --index : index; }
    if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) { return false; }
    _.unload(); if (removeAll === true) { _.$slideTrack.children().remove(); } else { _.$slideTrack.children(this.options.slide).eq(index).remove(); }
    _.$slides = _.$slideTrack.children(this.options.slide); _.$slideTrack.children(this.options.slide).detach(); _.$slideTrack.append(_.$slides); _.$slidesCache = _.$slides; _.reinit();
  }; Slick.prototype.setCSS = function (position) {
    var _ = this, positionProps = {}, x, y; if (_.options.rtl === true) { position = -position; }
    x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px'; y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px'; positionProps[_.positionProp] = position; if (_.transformsEnabled === false) { _.$slideTrack.css(positionProps); } else { positionProps = {}; if (_.cssTransitions === false) { positionProps[_.animType] = 'translate(' + x + ', ' + y + ')'; _.$slideTrack.css(positionProps); } else { positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)'; _.$slideTrack.css(positionProps); } }
  }; Slick.prototype.setDimensions = function () {
    var _ = this; if (_.options.vertical === false) { if (_.options.centerMode === true) { _.$list.css({ padding: ('0px ' + _.options.centerPadding) }); } } else { _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow); if (_.options.centerMode === true) { _.$list.css({ padding: (_.options.centerPadding + ' 0px') }); } }
    _.listWidth = _.$list.width(); _.listHeight = _.$list.height(); if (_.options.vertical === false && _.options.variableWidth === false) { _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow); _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length))); } else if (_.options.variableWidth === true) { _.$slideTrack.width(5000 * _.slideCount); } else { _.slideWidth = Math.ceil(_.listWidth); _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length))); }
    var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width(); if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);
  }; Slick.prototype.setFade = function () { var _ = this, targetLeft; _.$slides.each(function (index, element) { targetLeft = (_.slideWidth * index) * -1; if (_.options.rtl === true) { $(element).css({ position: 'relative', right: targetLeft, top: 0, zIndex: _.options.zIndex - 2, opacity: 0 }); } else { $(element).css({ position: 'relative', left: targetLeft, top: 0, zIndex: _.options.zIndex - 2, opacity: 0 }); } }); _.$slides.eq(_.currentSlide).css({ zIndex: _.options.zIndex - 1, opacity: 1 }); }; Slick.prototype.setHeight = function () { var _ = this; if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) { var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true); _.$list.css('height', targetHeight); } }; Slick.prototype.setOption = Slick.prototype.slickSetOption = function () {
    var _ = this, l, item, option, value, refresh = false, type; if ($.type(arguments[0]) === 'object') { option = arguments[0]; refresh = arguments[1]; type = 'multiple'; } else if ($.type(arguments[0]) === 'string') { option = arguments[0]; value = arguments[1]; refresh = arguments[2]; if (arguments[0] === 'responsive' && $.type(arguments[1]) === 'array') { type = 'responsive'; } else if (typeof arguments[1] !== 'undefined') { type = 'single'; } }
    if (type === 'single') { _.options[option] = value; } else if (type === 'multiple') { $.each(option, function (opt, val) { _.options[opt] = val; }); } else if (type === 'responsive') {
      for (item in value) {
        if ($.type(_.options.responsive) !== 'array') { _.options.responsive = [value[item]]; } else {
          l = _.options.responsive.length - 1; while (l >= 0) {
            if (_.options.responsive[l].breakpoint === value[item].breakpoint) { _.options.responsive.splice(l, 1); }
            l--;
          }
          _.options.responsive.push(value[item]);
        }
      }
    }
    if (refresh) { _.unload(); _.reinit(); }
  }; Slick.prototype.setPosition = function () {
    var _ = this; _.setDimensions(); _.setHeight(); if (_.options.fade === false) { _.setCSS(_.getLeft(_.currentSlide)); } else { _.setFade(); }
    _.$slider.trigger('setPosition', [_]);
  }; Slick.prototype.setProps = function () {
    var _ = this, bodyStyle = document.body.style; _.positionProp = _.options.vertical === true ? 'top' : 'left'; if (_.positionProp === 'top') { _.$slider.addClass('slick-vertical'); } else { _.$slider.removeClass('slick-vertical'); }
    if (bodyStyle.WebkitTransition !== undefined || bodyStyle.MozTransition !== undefined || bodyStyle.msTransition !== undefined) { if (_.options.useCSS === true) { _.cssTransitions = true; } }
    if (_.options.fade) { if (typeof _.options.zIndex === 'number') { if (_.options.zIndex < 3) { _.options.zIndex = 3; } } else { _.options.zIndex = _.defaults.zIndex; } }
    if (bodyStyle.OTransform !== undefined) { _.animType = 'OTransform'; _.transformType = '-o-transform'; _.transitionType = 'OTransition'; if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false; }
    if (bodyStyle.MozTransform !== undefined) { _.animType = 'MozTransform'; _.transformType = '-moz-transform'; _.transitionType = 'MozTransition'; if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false; }
    if (bodyStyle.webkitTransform !== undefined) { _.animType = 'webkitTransform'; _.transformType = '-webkit-transform'; _.transitionType = 'webkitTransition'; if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false; }
    if (bodyStyle.msTransform !== undefined) { _.animType = 'msTransform'; _.transformType = '-ms-transform'; _.transitionType = 'msTransition'; if (bodyStyle.msTransform === undefined) _.animType = false; }
    if (bodyStyle.transform !== undefined && _.animType !== false) { _.animType = 'transform'; _.transformType = 'transform'; _.transitionType = 'transition'; }
    _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
  }; Slick.prototype.setSlideClasses = function (index) {
    var _ = this, centerOffset, allSlides, indexOffset, remainder; allSlides = _.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden', 'true'); _.$slides.eq(index).addClass('slick-current'); if (_.options.centerMode === true) {
      var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0; centerOffset = Math.floor(_.options.slidesToShow / 2); if (_.options.infinite === true) {
        if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) { _.$slides.slice(index - centerOffset + evenCoef, index + centerOffset + 1).addClass('slick-active').attr('aria-hidden', 'false'); } else { indexOffset = _.options.slidesToShow + index; allSlides.slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2).addClass('slick-active').attr('aria-hidden', 'false'); }
        if (index === 0) { allSlides.eq(allSlides.length - 1 - _.options.slidesToShow).addClass('slick-center'); } else if (index === _.slideCount - 1) { allSlides.eq(_.options.slidesToShow).addClass('slick-center'); }
      }
      _.$slides.eq(index).addClass('slick-center');
    } else { if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) { _.$slides.slice(index, index + _.options.slidesToShow).addClass('slick-active').attr('aria-hidden', 'false'); } else if (allSlides.length <= _.options.slidesToShow) { allSlides.addClass('slick-active').attr('aria-hidden', 'false'); } else { remainder = _.slideCount % _.options.slidesToShow; indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index; if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) { allSlides.slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder).addClass('slick-active').attr('aria-hidden', 'false'); } else { allSlides.slice(indexOffset, indexOffset + _.options.slidesToShow).addClass('slick-active').attr('aria-hidden', 'false'); } } }
    if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') { _.lazyLoad(); }
  }; Slick.prototype.setupInfinite = function () {
    var _ = this, i, slideIndex, infiniteCount; if (_.options.fade === true) { _.options.centerMode = false; }
    if (_.options.infinite === true && _.options.fade === false) {
      slideIndex = null; if (_.slideCount > _.options.slidesToShow) {
        if (_.options.centerMode === true) { infiniteCount = _.options.slidesToShow + 1; } else { infiniteCount = _.options.slidesToShow; }
        for (i = _.slideCount; i > (_.slideCount -
          infiniteCount); i -= 1) { slideIndex = i - 1; $(_.$slides[slideIndex]).clone(true).attr('id', '').attr('data-slick-index', slideIndex - _.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned'); }
        for (i = 0; i < infiniteCount + _.slideCount; i += 1) { slideIndex = i; $(_.$slides[slideIndex]).clone(true).attr('id', '').attr('data-slick-index', slideIndex + _.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned'); }
        _.$slideTrack.find('.slick-cloned').find('[id]').each(function () { $(this).attr('id', ''); });
      }
    }
  }; Slick.prototype.interrupt = function (toggle) {
    var _ = this; if (!toggle) { _.autoPlay(); }
    _.interrupted = toggle;
  }; Slick.prototype.selectHandler = function (event) {
    var _ = this; var targetElement = $(event.target).is('.slick-slide') ? $(event.target) : $(event.target).parents('.slick-slide'); var index = parseInt(targetElement.attr('data-slick-index')); if (!index) index = 0; if (_.slideCount <= _.options.slidesToShow) { _.slideHandler(index, false, true); return; }
    _.slideHandler(index);
  }; Slick.prototype.slideHandler = function (index, sync, dontAnimate) {
    var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null, _ = this, navTarget; sync = sync || false; if (_.animating === true && _.options.waitForAnimate === true) { return; }
    if (_.options.fade === true && _.currentSlide === index) { return; }
    if (sync === false) { _.asNavFor(index); }
    targetSlide = index; targetLeft = _.getLeft(targetSlide); slideLeft = _.getLeft(_.currentSlide); _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft; if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
      if (_.options.fade === false) { targetSlide = _.currentSlide; if (dontAnimate !== true) { _.animateSlide(slideLeft, function () { _.postSlide(targetSlide); }); } else { _.postSlide(targetSlide); } }
      return;
    } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
      if (_.options.fade === false) { targetSlide = _.currentSlide; if (dontAnimate !== true) { _.animateSlide(slideLeft, function () { _.postSlide(targetSlide); }); } else { _.postSlide(targetSlide); } }
      return;
    }
    if (_.options.autoplay) { clearInterval(_.autoPlayTimer); }
    if (targetSlide < 0) { if (_.slideCount % _.options.slidesToScroll !== 0) { animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll); } else { animSlide = _.slideCount + targetSlide; } } else if (targetSlide >= _.slideCount) { if (_.slideCount % _.options.slidesToScroll !== 0) { animSlide = 0; } else { animSlide = targetSlide - _.slideCount; } } else { animSlide = targetSlide; }
    _.animating = true; _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]); oldSlide = _.currentSlide; _.currentSlide = animSlide; _.setSlideClasses(_.currentSlide); if (_.options.asNavFor) { navTarget = _.getNavTarget(); navTarget = navTarget.slick('getSlick'); if (navTarget.slideCount <= navTarget.options.slidesToShow) { navTarget.setSlideClasses(_.currentSlide); } }
    _.updateDots(); _.updateArrows(); if (_.options.fade === true) {
      if (dontAnimate !== true) { _.fadeSlideOut(oldSlide); _.fadeSlide(animSlide, function () { _.postSlide(animSlide); }); } else { _.postSlide(animSlide); }
      _.animateHeight(); return;
    }
    if (dontAnimate !== true) { _.animateSlide(targetLeft, function () { _.postSlide(animSlide); }); } else { _.postSlide(animSlide); }
  }; Slick.prototype.startLoad = function () {
    var _ = this; if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) { _.$prevArrow.hide(); _.$nextArrow.hide(); }
    if (_.options.dots === true && _.slideCount > _.options.slidesToShow) { _.$dots.hide(); }
    _.$slider.addClass('slick-loading');
  }; Slick.prototype.swipeDirection = function () {
    var xDist, yDist, r, swipeAngle, _ = this; xDist = _.touchObject.startX - _.touchObject.curX; yDist = _.touchObject.startY - _.touchObject.curY; r = Math.atan2(yDist, xDist); swipeAngle = Math.round(r * 180 / Math.PI); if (swipeAngle < 0) { swipeAngle = 360 - Math.abs(swipeAngle); }
    if ((swipeAngle <= 45) && (swipeAngle >= 0)) { return (_.options.rtl === false ? 'left' : 'right'); }
    if ((swipeAngle <= 360) && (swipeAngle >= 315)) { return (_.options.rtl === false ? 'left' : 'right'); }
    if ((swipeAngle >= 135) && (swipeAngle <= 225)) { return (_.options.rtl === false ? 'right' : 'left'); }
    if (_.options.verticalSwiping === true) { if ((swipeAngle >= 35) && (swipeAngle <= 135)) { return 'down'; } else { return 'up'; } }
    return 'vertical';
  }; Slick.prototype.swipeEnd = function (event) {
    var _ = this, slideCount, direction; _.dragging = false; _.swiping = false; if (_.scrolling) { _.scrolling = false; return false; }
    _.interrupted = false; _.shouldClick = (_.touchObject.swipeLength > 10) ? false : true; if (_.touchObject.curX === undefined) { return false; }
    if (_.touchObject.edgeHit === true) { _.$slider.trigger('edge', [_, _.swipeDirection()]); }
    if (_.touchObject.swipeLength >= _.touchObject.minSwipe) {
      direction = _.swipeDirection(); switch (direction) { case 'left': case 'down': slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide + _.getSlideCount()) : _.currentSlide + _.getSlideCount(); _.currentDirection = 0; break; case 'right': case 'up': slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide - _.getSlideCount()) : _.currentSlide - _.getSlideCount(); _.currentDirection = 1; break; default: }
      if (direction != 'vertical') { _.slideHandler(slideCount); _.touchObject = {}; _.$slider.trigger('swipe', [_, direction]); }
    } else { if (_.touchObject.startX !== _.touchObject.curX) { _.slideHandler(_.currentSlide); _.touchObject = {}; } }
  }; Slick.prototype.swipeHandler = function (event) {
    var _ = this; if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) { return; } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) { return; }
    _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ? event.originalEvent.touches.length : 1; _.touchObject.minSwipe = _.listWidth / _.options.touchThreshold; if (_.options.verticalSwiping === true) { _.touchObject.minSwipe = _.listHeight / _.options.touchThreshold; }
    switch (event.data.action) { case 'start': _.swipeStart(event); break; case 'move': _.swipeMove(event); break; case 'end': _.swipeEnd(event); break; }
  }; Slick.prototype.swipeMove = function (event) {
    var _ = this, edgeWasHit = false, curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength; touches = event.originalEvent !== undefined ? event.originalEvent.touches : null; if (!_.dragging || _.scrolling || touches && touches.length !== 1) { return false; }
    curLeft = _.getLeft(_.currentSlide); _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX; _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY; _.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(_.touchObject.curX - _.touchObject.startX, 2))); verticalSwipeLength = Math.round(Math.sqrt(Math.pow(_.touchObject.curY - _.touchObject.startY, 2))); if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) { _.scrolling = true; return false; }
    if (_.options.verticalSwiping === true) { _.touchObject.swipeLength = verticalSwipeLength; }
    swipeDirection = _.swipeDirection(); if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) { _.swiping = true; event.preventDefault(); }
    positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1); if (_.options.verticalSwiping === true) { positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1; }
    swipeLength = _.touchObject.swipeLength; _.touchObject.edgeHit = false; if (_.options.infinite === false) { if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) { swipeLength = _.touchObject.swipeLength * _.options.edgeFriction; _.touchObject.edgeHit = true; } }
    if (_.options.vertical === false) { _.swipeLeft = curLeft + swipeLength * positionOffset; } else { _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset; }
    if (_.options.verticalSwiping === true) { _.swipeLeft = curLeft + swipeLength * positionOffset; }
    if (_.options.fade === true || _.options.touchMove === false) { return false; }
    if (_.animating === true) { _.swipeLeft = null; return false; }
    _.setCSS(_.swipeLeft);
  }; Slick.prototype.swipeStart = function (event) {
    var _ = this, touches; _.interrupted = true; if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) { _.touchObject = {}; return false; }
    if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) { touches = event.originalEvent.touches[0]; }
    _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX; _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY; _.dragging = true;
  }; Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function () { var _ = this; if (_.$slidesCache !== null) { _.unload(); _.$slideTrack.children(this.options.slide).detach(); _.$slidesCache.appendTo(_.$slideTrack); _.reinit(); } }; Slick.prototype.unload = function () {
    var _ = this; $('.slick-cloned', _.$slider).remove(); if (_.$dots) { _.$dots.remove(); }
    if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) { _.$prevArrow.remove(); }
    if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) { _.$nextArrow.remove(); }
    _.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden', 'true').css('width', '');
  }; Slick.prototype.unslick = function (fromBreakpoint) { var _ = this; _.$slider.trigger('unslick', [_, fromBreakpoint]); _.destroy(); }; Slick.prototype.updateArrows = function () { var _ = this, centerOffset; centerOffset = Math.floor(_.options.slidesToShow / 2); if (_.options.arrows === true && _.slideCount > _.options.slidesToShow && !_.options.infinite) { _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false'); _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false'); if (_.currentSlide === 0) { _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true'); _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false'); } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) { _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true'); _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false'); } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) { _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true'); _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false'); } } }; Slick.prototype.updateDots = function () { var _ = this; if (_.$dots !== null) { _.$dots.find('li').removeClass('slick-active').end(); _.$dots.find('li').eq(Math.floor(_.currentSlide / _.options.slidesToScroll)).addClass('slick-active'); } }; Slick.prototype.visibility = function () { var _ = this; if (_.options.autoplay) { if (document[_.hidden]) { _.interrupted = true; } else { _.interrupted = false; } } }; $.fn.slick = function () {
    var _ = this, opt = arguments[0], args = Array.prototype.slice.call(arguments, 1), l = _.length, i, ret; for (i = 0; i < l; i++) {
      if (typeof opt == 'object' || typeof opt == 'undefined')
        _[i].slick = new Slick(_[i], opt); else
        ret = _[i].slick[opt].apply(_[i].slick, args); if (typeof ret != 'undefined') return ret;
    }
    return _;
  };
}));

!function (t, e, n, o) { "use strict"; function i(t) { var e = t.currentTarget, o = t.data ? t.data.options : {}, i = t.data ? t.data.items : [], a = n(e).attr("data-fancybox") || "", s = 0; t.preventDefault(), t.stopPropagation(), a ? (i = i.length ? i.filter('[data-fancybox="' + a + '"]') : n('[data-fancybox="' + a + '"]'), s = i.index(e), s < 0 && (s = 0)) : i = [e], n.fancybox.open(i, o, s) } if (n) { if (n.fn.fancybox) return void n.error("fancyBox already initialized"); var a = { loop: !1, margin: [44, 0], gutter: 50, keyboard: !0, arrows: !0, infobar: !1, toolbar: !0, buttons: ["slideShow", "fullScreen", "thumbs", "close"], idleTime: 4, smallBtn: "auto", protect: !1, modal: !1, image: { preload: "auto" }, ajax: { settings: { data: { fancybox: !0 } } }, iframe: { tpl: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>', preload: !0, css: {}, attr: { scrolling: "auto" } }, animationEffect: "zoom", animationDuration: 366, zoomOpacity: "auto", transitionEffect: "fade", transitionDuration: 366, slideClass: "", baseClass: "", baseTpl: '<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><button data-fancybox-prev title="{{PREV}}" class="fancybox-button fancybox-button--left"></button><div class="fancybox-infobar__body"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><button data-fancybox-next title="{{NEXT}}" class="fancybox-button fancybox-button--right"></button></div><div class="fancybox-toolbar">{{BUTTONS}}</div><div class="fancybox-navigation"><button data-fancybox-prev title="{{PREV}}" class="fancybox-arrow fancybox-arrow--left" /><button data-fancybox-next title="{{NEXT}}" class="fancybox-arrow fancybox-arrow--right" /></div><div class="fancybox-stage"></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div></div>', spinnerTpl: '<div class="fancybox-loading"></div>', errorTpl: '<div class="fancybox-error"><p>{{ERROR}}<p></div>', btnTpl: { slideShow: '<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"></button>', fullScreen: '<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"></button>', thumbs: '<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"></button>', close: '<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"></button>', smallBtn: '<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"></button>' }, parentEl: "body", autoFocus: !0, backFocus: !0, trapFocus: !0, fullScreen: { autoStart: !1 }, touch: { vertical: !0, momentum: !0 }, hash: null, media: {}, slideShow: { autoStart: !1, speed: 4e3 }, thumbs: { autoStart: !1, hideOnClose: !0 }, onInit: n.noop, beforeLoad: n.noop, afterLoad: n.noop, beforeShow: n.noop, afterShow: n.noop, beforeClose: n.noop, afterClose: n.noop, onActivate: n.noop, onDeactivate: n.noop, clickContent: function (t, e) { return "image" === t.type && "zoom" }, clickSlide: "close", clickOutside: "close", dblclickContent: !1, dblclickSlide: !1, dblclickOutside: !1, mobile: { clickContent: function (t, e) { return "image" === t.type && "toggleControls" }, clickSlide: function (t, e) { return "image" === t.type ? "toggleControls" : "close" }, dblclickContent: function (t, e) { return "image" === t.type && "zoom" }, dblclickSlide: function (t, e) { return "image" === t.type && "zoom" } }, lang: "en", i18n: { en: { CLOSE: "Close", NEXT: "Next", PREV: "Previous", ERROR: "The requested content cannot be loaded. <br/> Please try again later.", PLAY_START: "Start slideshow", PLAY_STOP: "Pause slideshow", FULL_SCREEN: "Full screen", THUMBS: "Thumbnails" }, de: { CLOSE: "Schliessen", NEXT: "Weiter", PREV: "Zurück", ERROR: "Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.", PLAY_START: "Diaschau starten", PLAY_STOP: "Diaschau beenden", FULL_SCREEN: "Vollbild", THUMBS: "Vorschaubilder" } } }, s = n(t), r = n(e), c = 0, l = function (t) { return t && t.hasOwnProperty && t instanceof n }, u = function () { return t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || t.oRequestAnimationFrame || function (e) { return t.setTimeout(e, 1e3 / 60) } }(), d = function () { var t, n = e.createElement("fakeelement"), i = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (t in i) if (n.style[t] !== o) return i[t] }(), f = function (t) { return t && t.length && t[0].offsetHeight }, h = function (t, o, i) { var s = this; s.opts = n.extend(!0, { index: i }, a, o || {}), o && n.isArray(o.buttons) && (s.opts.buttons = o.buttons), s.id = s.opts.id || ++c, s.group = [], s.currIndex = parseInt(s.opts.index, 10) || 0, s.prevIndex = null, s.prevPos = null, s.currPos = 0, s.firstRun = null, s.createGroup(t), s.group.length && (s.$lastFocus = n(e.activeElement).blur(), s.slides = {}, s.init(t)) }; n.extend(h.prototype, { init: function () { var t, e, o, i = this, a = i.group[i.currIndex].opts; i.scrollTop = r.scrollTop(), i.scrollLeft = r.scrollLeft(), n.fancybox.getInstance() || n.fancybox.isMobile || "hidden" === n("body").css("overflow") || (t = n("body").width(), n("html").addClass("fancybox-enabled"), t = n("body").width() - t, t > 1 && n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: ' + t + "px; }</style>")), o = "", n.each(a.buttons, function (t, e) { o += a.btnTpl[e] || "" }), e = n(i.translate(i, a.baseTpl.replace("{{BUTTONS}}", o))).addClass("fancybox-is-hidden").attr("id", "fancybox-container-" + i.id).addClass(a.baseClass).data("FancyBox", i).prependTo(a.parentEl), i.$refs = { container: e }, ["bg", "inner", "infobar", "toolbar", "stage", "caption"].forEach(function (t) { i.$refs[t] = e.find(".fancybox-" + t) }), (!a.arrows || i.group.length < 2) && e.find(".fancybox-navigation").remove(), a.infobar || i.$refs.infobar.remove(), a.toolbar || i.$refs.toolbar.remove(), i.trigger("onInit"), i.activate(), i.jumpTo(i.currIndex) }, translate: function (t, e) { var n = t.opts.i18n[t.opts.lang]; return e.replace(/\{\{(\w+)\}\}/g, function (t, e) { var i = n[e]; return i === o ? t : i }) }, createGroup: function (t) { var e = this, i = n.makeArray(t); n.each(i, function (t, i) { var a, s, r, c, l = {}, u = {}, d = []; n.isPlainObject(i) ? (l = i, u = i.opts || i) : "object" === n.type(i) && n(i).length ? (a = n(i), d = a.data(), u = "options" in d ? d.options : {}, u = "object" === n.type(u) ? u : {}, l.src = "src" in d ? d.src : u.src || a.attr("href"), ["width", "height", "thumb", "type", "filter"].forEach(function (t) { t in d && (u[t] = d[t]) }), "srcset" in d && (u.image = { srcset: d.srcset }), u.$orig = a, l.type || l.src || (l.type = "inline", l.src = i)) : l = { type: "html", src: i + "" }, l.opts = n.extend(!0, {}, e.opts, u), n.fancybox.isMobile && (l.opts = n.extend(!0, {}, l.opts, l.opts.mobile)), s = l.type || l.opts.type, r = l.src || "", !s && r && (r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i) ? s = "image" : r.match(/\.(pdf)((\?|#).*)?$/i) ? s = "pdf" : "#" === r.charAt(0) && (s = "inline")), l.type = s, l.index = e.group.length, l.opts.$orig && !l.opts.$orig.length && delete l.opts.$orig, !l.opts.$thumb && l.opts.$orig && (l.opts.$thumb = l.opts.$orig.find("img:first")), l.opts.$thumb && !l.opts.$thumb.length && delete l.opts.$thumb, "function" === n.type(l.opts.caption) ? l.opts.caption = l.opts.caption.apply(i, [e, l]) : "caption" in d && (l.opts.caption = d.caption), l.opts.caption = l.opts.caption === o ? "" : l.opts.caption + "", "ajax" === s && (c = r.split(/\s+/, 2), c.length > 1 && (l.src = c.shift(), l.opts.filter = c.shift())), "auto" == l.opts.smallBtn && (n.inArray(s, ["html", "inline", "ajax"]) > -1 ? (l.opts.toolbar = !1, l.opts.smallBtn = !0) : l.opts.smallBtn = !1), "pdf" === s && (l.type = "iframe", l.opts.iframe.preload = !1), l.opts.modal && (l.opts = n.extend(!0, l.opts, { infobar: 0, toolbar: 0, smallBtn: 0, keyboard: 0, slideShow: 0, fullScreen: 0, thumbs: 0, touch: 0, clickContent: !1, clickSlide: !1, clickOutside: !1, dblclickContent: !1, dblclickSlide: !1, dblclickOutside: !1 })), e.group.push(l) }) }, addEvents: function () { var o = this; o.removeEvents(), o.$refs.container.on("click.fb-close", "[data-fancybox-close]", function (t) { t.stopPropagation(), t.preventDefault(), o.close(t) }).on("click.fb-prev touchend.fb-prev", "[data-fancybox-prev]", function (t) { t.stopPropagation(), t.preventDefault(), o.previous() }).on("click.fb-next touchend.fb-next", "[data-fancybox-next]", function (t) { t.stopPropagation(), t.preventDefault(), o.next() }), s.on("orientationchange.fb resize.fb", function (t) { t && t.originalEvent && "resize" === t.originalEvent.type ? u(function () { o.update() }) : (o.$refs.stage.hide(), setTimeout(function () { o.$refs.stage.show(), o.update() }, 500)) }), r.on("focusin.fb", function (t) { var i = n.fancybox ? n.fancybox.getInstance() : null; i.isClosing || !i.current || !i.current.opts.trapFocus || n(t.target).hasClass("fancybox-container") || n(t.target).is(e) || i && "fixed" !== n(t.target).css("position") && !i.$refs.container.has(t.target).length && (t.stopPropagation(), i.focus(), s.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft)) }), r.on("keydown.fb", function (t) { var e = o.current, i = t.keyCode || t.which; if (e && e.opts.keyboard && !n(t.target).is("input") && !n(t.target).is("textarea")) return 8 === i || 27 === i ? (t.preventDefault(), void o.close(t)) : 37 === i || 38 === i ? (t.preventDefault(), void o.previous()) : 39 === i || 40 === i ? (t.preventDefault(), void o.next()) : void o.trigger("afterKeydown", t, i) }), o.group[o.currIndex].opts.idleTime && (o.idleSecondsCounter = 0, r.on("mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle", function () { o.idleSecondsCounter = 0, o.isIdle && o.showControls(), o.isIdle = !1 }), o.idleInterval = t.setInterval(function () { o.idleSecondsCounter++, o.idleSecondsCounter >= o.group[o.currIndex].opts.idleTime && (o.isIdle = !0, o.idleSecondsCounter = 0, o.hideControls()) }, 1e3)) }, removeEvents: function () { var e = this; s.off("orientationchange.fb resize.fb"), r.off("focusin.fb keydown.fb .fb-idle"), this.$refs.container.off(".fb-close .fb-prev .fb-next"), e.idleInterval && (t.clearInterval(e.idleInterval), e.idleInterval = null) }, previous: function (t) { return this.jumpTo(this.currPos - 1, t) }, next: function (t) { return this.jumpTo(this.currPos + 1, t) }, jumpTo: function (t, e, i) { var a, s, r, c, l, u, d, h = this, p = h.group.length; if (!(h.isSliding || h.isClosing || h.isAnimating && h.firstRun)) { if (t = parseInt(t, 10), s = h.current ? h.current.opts.loop : h.opts.loop, !s && (t < 0 || t >= p)) return !1; if (a = h.firstRun = null === h.firstRun, !(p < 2 && !a && h.isSliding)) { if (c = h.current, h.prevIndex = h.currIndex, h.prevPos = h.currPos, r = h.createSlide(t), p > 1 && ((s || r.index > 0) && h.createSlide(t - 1), (s || r.index < p - 1) && h.createSlide(t + 1)), h.current = r, h.currIndex = r.index, h.currPos = r.pos, h.trigger("beforeShow", a), h.updateControls(), u = n.fancybox.getTranslate(r.$slide), r.isMoved = (0 !== u.left || 0 !== u.top) && !r.$slide.hasClass("fancybox-animated"), r.forcedDuration = o, n.isNumeric(e) ? r.forcedDuration = e : e = r.opts[a ? "animationDuration" : "transitionDuration"], e = parseInt(e, 10), a) return r.opts.animationEffect && e && h.$refs.container.css("transition-duration", e + "ms"), h.$refs.container.removeClass("fancybox-is-hidden"), f(h.$refs.container), h.$refs.container.addClass("fancybox-is-open"), r.$slide.addClass("fancybox-slide--current"), h.loadSlide(r), void h.preload(); n.each(h.slides, function (t, e) { n.fancybox.stop(e.$slide) }), r.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"), r.isMoved ? (l = Math.round(r.$slide.width()), n.each(h.slides, function (t, o) { var i = o.pos - r.pos; n.fancybox.animate(o.$slide, { top: 0, left: i * l + i * o.opts.gutter }, e, function () { o.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"), o.pos === h.currPos && (r.isMoved = !1, h.complete()) }) })) : h.$refs.stage.children().removeAttr("style"), r.isLoaded ? h.revealContent(r) : h.loadSlide(r), h.preload(), c.pos !== r.pos && (d = "fancybox-slide--" + (c.pos > r.pos ? "next" : "previous"), c.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"), c.isComplete = !1, e && (r.isMoved || r.opts.transitionEffect) && (r.isMoved ? c.$slide.addClass(d) : (d = "fancybox-animated " + d + " fancybox-fx-" + r.opts.transitionEffect, n.fancybox.animate(c.$slide, d, e, function () { c.$slide.removeClass(d).removeAttr("style") })))) } } }, createSlide: function (t) { var e, o, i = this; return o = t % i.group.length, o = o < 0 ? i.group.length + o : o, !i.slides[t] && i.group[o] && (e = n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage), i.slides[t] = n.extend(!0, {}, i.group[o], { pos: t, $slide: e, isLoaded: !1 }), i.updateSlide(i.slides[t])), i.slides[t] }, scaleToActual: function (t, e, i) { var a, s, r, c, l, u = this, d = u.current, f = d.$content, h = parseInt(d.$slide.width(), 10), p = parseInt(d.$slide.height(), 10), g = d.width, b = d.height; "image" != d.type || d.hasError || !f || u.isAnimating || (n.fancybox.stop(f), u.isAnimating = !0, t = t === o ? .5 * h : t, e = e === o ? .5 * p : e, a = n.fancybox.getTranslate(f), c = g / a.width, l = b / a.height, s = .5 * h - .5 * g, r = .5 * p - .5 * b, g > h && (s = a.left * c - (t * c - t), s > 0 && (s = 0), s < h - g && (s = h - g)), b > p && (r = a.top * l - (e * l - e), r > 0 && (r = 0), r < p - b && (r = p - b)), u.updateCursor(g, b), n.fancybox.animate(f, { top: r, left: s, scaleX: c, scaleY: l }, i || 330, function () { u.isAnimating = !1 }), u.SlideShow && u.SlideShow.isActive && u.SlideShow.stop()) }, scaleToFit: function (t) { var e, o = this, i = o.current, a = i.$content; "image" != i.type || i.hasError || !a || o.isAnimating || (n.fancybox.stop(a), o.isAnimating = !0, e = o.getFitPos(i), o.updateCursor(e.width, e.height), n.fancybox.animate(a, { top: e.top, left: e.left, scaleX: e.width / a.width(), scaleY: e.height / a.height() }, t || 330, function () { o.isAnimating = !1 })) }, getFitPos: function (t) { var e, o, i, a, r, c = this, l = t.$content, u = t.width, d = t.height, f = t.opts.margin; return !(!l || !l.length || !u && !d) && ("number" === n.type(f) && (f = [f, f]), 2 == f.length && (f = [f[0], f[1], f[0], f[1]]), s.width() < 800 && (f = [0, 0, 0, 0]), e = parseInt(c.$refs.stage.width(), 10) - (f[1] + f[3]), o = parseInt(c.$refs.stage.height(), 10) - (f[0] + f[2]), i = Math.min(1, e / u, o / d), a = Math.floor(i * u), r = Math.floor(i * d), { top: Math.floor(.5 * (o - r)) + f[0], left: Math.floor(.5 * (e - a)) + f[3], width: a, height: r }) }, update: function () { var t = this; n.each(t.slides, function (e, n) { t.updateSlide(n) }) }, updateSlide: function (t) { var e = this, o = t.$content; o && (t.width || t.height) && (n.fancybox.stop(o), n.fancybox.setTranslate(o, e.getFitPos(t)), t.pos === e.currPos && e.updateCursor()), t.$slide.trigger("refresh"), e.trigger("onUpdate", t) }, updateCursor: function (t, e) { var n, i = this, a = i.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut"); i.current && !i.isClosing && (i.isZoomable() ? (a.addClass("fancybox-is-zoomable"), n = t !== o && e !== o ? t < i.current.width && e < i.current.height : i.isScaledDown(), n ? a.addClass("fancybox-can-zoomIn") : i.current.opts.touch ? a.addClass("fancybox-can-drag") : a.addClass("fancybox-can-zoomOut")) : i.current.opts.touch && a.addClass("fancybox-can-drag")) }, isZoomable: function () { var t, e = this, o = e.current; if (o && !e.isClosing) return !!("image" === o.type && o.isLoaded && !o.hasError && ("zoom" === o.opts.clickContent || n.isFunction(o.opts.clickContent) && "zoom" === o.opts.clickContent(o)) && (t = e.getFitPos(o), o.width > t.width || o.height > t.height)) }, isScaledDown: function () { var t = this, e = t.current, o = e.$content, i = !1; return o && (i = n.fancybox.getTranslate(o), i = i.width < e.width || i.height < e.height), i }, canPan: function () { var t = this, e = t.current, n = e.$content, o = !1; return n && (o = t.getFitPos(e), o = Math.abs(n.width() - o.width) > 1 || Math.abs(n.height() - o.height) > 1), o }, loadSlide: function (t) { var e, o, i, a = this; if (!t.isLoading && !t.isLoaded) { switch (t.isLoading = !0, a.trigger("beforeLoad", t), e = t.type, o = t.$slide, o.off("refresh").trigger("onReset").addClass("fancybox-slide--" + (e || "unknown")).addClass(t.opts.slideClass), e) { case "image": a.setImage(t); break; case "iframe": a.setIframe(t); break; case "html": a.setContent(t, t.src || t.content); break; case "inline": n(t.src).length ? a.setContent(t, n(t.src)) : a.setError(t); break; case "ajax": a.showLoading(t), i = n.ajax(n.extend({}, t.opts.ajax.settings, { url: t.src, success: function (e, n) { "success" === n && a.setContent(t, e) }, error: function (e, n) { e && "abort" !== n && a.setError(t) } })), o.one("onReset", function () { i.abort() }); break; default: a.setError(t) }return !0 } }, setImage: function (e) { var o, i, a, s, r = this, c = e.opts.image.srcset; if (c) { a = t.devicePixelRatio || 1, s = t.innerWidth * a, i = c.split(",").map(function (t) { var e = {}; return t.trim().split(/\s+/).forEach(function (t, n) { var o = parseInt(t.substring(0, t.length - 1), 10); return 0 === n ? e.url = t : void (o && (e.value = o, e.postfix = t[t.length - 1])) }), e }), i.sort(function (t, e) { return t.value - e.value }); for (var l = 0; l < i.length; l++) { var u = i[l]; if ("w" === u.postfix && u.value >= s || "x" === u.postfix && u.value >= a) { o = u; break } } !o && i.length && (o = i[i.length - 1]), o && (e.src = o.url, e.width && e.height && "w" == o.postfix && (e.height = e.width / e.height * o.value, e.width = o.value)) } e.$content = n('<div class="fancybox-image-wrap"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide), e.opts.preload !== !1 && e.opts.width && e.opts.height && (e.opts.thumb || e.opts.$thumb) ? (e.width = e.opts.width, e.height = e.opts.height, e.$ghost = n("<img />").one("error", function () { n(this).remove(), e.$ghost = null, r.setBigImage(e) }).one("load", function () { r.afterLoad(e), r.setBigImage(e) }).addClass("fancybox-image").appendTo(e.$content).attr("src", e.opts.thumb || e.opts.$thumb.attr("src"))) : r.setBigImage(e) }, setBigImage: function (t) { var e = this, o = n("<img />"); t.$image = o.one("error", function () { e.setError(t) }).one("load", function () { clearTimeout(t.timouts), t.timouts = null, e.isClosing || (t.width = this.naturalWidth, t.height = this.naturalHeight, t.opts.image.srcset && o.attr("sizes", "100vw").attr("srcset", t.opts.image.srcset), e.hideLoading(t), t.$ghost ? t.timouts = setTimeout(function () { t.timouts = null, t.$ghost.hide() }, Math.min(300, Math.max(1e3, t.height / 1600))) : e.afterLoad(t)) }).addClass("fancybox-image").attr("src", t.src).appendTo(t.$content), o[0].complete ? o.trigger("load") : o[0].error ? o.trigger("error") : t.timouts = setTimeout(function () { o[0].complete || t.hasError || e.showLoading(t) }, 100) }, setIframe: function (t) { var e, i = this, a = t.opts.iframe, s = t.$slide; t.$content = n('<div class="fancybox-content' + (a.preload ? " fancybox-is-hidden" : "") + '"></div>').css(a.css).appendTo(s), e = n(a.tpl.replace(/\{rnd\}/g, (new Date).getTime())).attr(a.attr).appendTo(t.$content), a.preload ? (i.showLoading(t), e.on("load.fb error.fb", function (e) { this.isReady = 1, t.$slide.trigger("refresh"), i.afterLoad(t) }), s.on("refresh.fb", function () { var n, i, s, r, c, l = t.$content; if (1 === e[0].isReady) { try { n = e.contents(), i = n.find("body") } catch (t) { } i && i.length && (a.css.width === o || a.css.height === o) && (s = e[0].contentWindow.document.documentElement.scrollWidth, r = Math.ceil(i.outerWidth(!0) + (l.width() - s)), c = Math.ceil(i.outerHeight(!0)), l.css({ width: a.css.width === o ? r + (l.outerWidth() - l.innerWidth()) : a.css.width, height: a.css.height === o ? c + (l.outerHeight() - l.innerHeight()) : a.css.height })), l.removeClass("fancybox-is-hidden") } })) : this.afterLoad(t), e.attr("src", t.src), t.opts.smallBtn === !0 && t.$content.prepend(i.translate(t, t.opts.btnTpl.smallBtn)), s.one("onReset", function () { try { n(this).find("iframe").hide().attr("src", "//about:blank") } catch (t) { } n(this).empty(), t.isLoaded = !1 }) }, setContent: function (t, e) { var o = this; o.isClosing || (o.hideLoading(t), t.$slide.empty(), l(e) && e.parent().length ? (e.parent(".fancybox-slide--inline").trigger("onReset"), t.$placeholder = n("<div></div>").hide().insertAfter(e), e.css("display", "inline-block")) : t.hasError || ("string" === n.type(e) && (e = n("<div>").append(n.trim(e)).contents(), 3 === e[0].nodeType && (e = n("<div>").html(e))), t.opts.filter && (e = n("<div>").html(e).find(t.opts.filter))), t.$slide.one("onReset", function () { t.$placeholder && (t.$placeholder.after(e.hide()).remove(), t.$placeholder = null), t.$smallBtn && (t.$smallBtn.remove(), t.$smallBtn = null), t.hasError || (n(this).empty(), t.isLoaded = !1) }), t.$content = n(e).appendTo(t.$slide), t.opts.smallBtn && !t.$smallBtn && (t.$smallBtn = n(o.translate(t, t.opts.btnTpl.smallBtn)).appendTo(t.$content)), this.afterLoad(t)) }, setError: function (t) { t.hasError = !0, t.$slide.removeClass("fancybox-slide--" + t.type), this.setContent(t, this.translate(t, t.opts.errorTpl)) }, showLoading: function (t) { var e = this; t = t || e.current, t && !t.$spinner && (t.$spinner = n(e.opts.spinnerTpl).appendTo(t.$slide)) }, hideLoading: function (t) { var e = this; t = t || e.current, t && t.$spinner && (t.$spinner.remove(), delete t.$spinner) }, afterLoad: function (t) { var e = this; e.isClosing || (t.isLoading = !1, t.isLoaded = !0, e.trigger("afterLoad", t), e.hideLoading(t), t.opts.protect && t.$content && !t.hasError && (t.$content.on("contextmenu.fb", function (t) { return 2 == t.button && t.preventDefault(), !0 }), "image" === t.type && n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)), e.revealContent(t)) }, revealContent: function (t) { var e, i, a, s, r, c = this, l = t.$slide, u = !1; return e = t.opts[c.firstRun ? "animationEffect" : "transitionEffect"], a = t.opts[c.firstRun ? "animationDuration" : "transitionDuration"], a = parseInt(t.forcedDuration === o ? a : t.forcedDuration, 10), !t.isMoved && t.pos === c.currPos && a || (e = !1), "zoom" !== e || t.pos === c.currPos && a && "image" === t.type && !t.hasError && (u = c.getThumbPos(t)) || (e = "fade"), "zoom" === e ? (r = c.getFitPos(t), r.scaleX = Math.round(r.width / u.width * 100) / 100, r.scaleY = Math.round(r.height / u.height * 100) / 100, delete r.width, delete r.height, s = t.opts.zoomOpacity, "auto" == s && (s = Math.abs(t.width / t.height - u.width / u.height) > .1), s && (u.opacity = .1, r.opacity = 1), n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"), u), f(t.$content), void n.fancybox.animate(t.$content, r, a, function () { c.complete() })) : (c.updateSlide(t), e ? (n.fancybox.stop(l), i = "fancybox-animated fancybox-slide--" + (t.pos > c.prevPos ? "next" : "previous") + " fancybox-fx-" + e, l.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i), t.$content.removeClass("fancybox-is-hidden"), f(l), void n.fancybox.animate(l, "fancybox-slide--current", a, function (e) { l.removeClass(i).removeAttr("style"), t.pos === c.currPos && c.complete() }, !0)) : (f(l), t.$content.removeClass("fancybox-is-hidden"), void (t.pos === c.currPos && c.complete()))) }, getThumbPos: function (o) { var i, a = this, s = !1, r = function (e) { for (var o, i = e[0], a = i.getBoundingClientRect(), s = []; null !== i.parentElement;)"hidden" !== n(i.parentElement).css("overflow") && "auto" !== n(i.parentElement).css("overflow") || s.push(i.parentElement.getBoundingClientRect()), i = i.parentElement; return o = s.every(function (t) { var e = Math.min(a.right, t.right) - Math.max(a.left, t.left), n = Math.min(a.bottom, t.bottom) - Math.max(a.top, t.top); return e > 0 && n > 0 }), o && a.bottom > 0 && a.right > 0 && a.left < n(t).width() && a.top < n(t).height() }, c = o.opts.$thumb, l = c ? c.offset() : 0; return l && c[0].ownerDocument === e && r(c) && (i = a.$refs.stage.offset(), s = { top: l.top - i.top + parseFloat(c.css("border-top-width") || 0), left: l.left - i.left + parseFloat(c.css("border-left-width") || 0), width: c.width(), height: c.height(), scaleX: 1, scaleY: 1 }), s }, complete: function () { var t = this, o = t.current, i = {}; o.isMoved || !o.isLoaded || o.isComplete || (o.isComplete = !0, o.$slide.siblings().trigger("onReset"), f(o.$slide), o.$slide.addClass("fancybox-slide--complete"), n.each(t.slides, function (e, o) { o.pos >= t.currPos - 1 && o.pos <= t.currPos + 1 ? i[o.pos] = o : o && (n.fancybox.stop(o.$slide), o.$slide.unbind().remove()) }), t.slides = i, t.updateCursor(), t.trigger("afterShow"), (n(e.activeElement).is("[disabled]") || o.opts.autoFocus && "image" != o.type && "iframe" !== o.type) && t.focus()) }, preload: function () { var t, e, n = this; n.group.length < 2 || (t = n.slides[n.currPos + 1], e = n.slides[n.currPos - 1], t && "image" === t.type && n.loadSlide(t), e && "image" === e.type && n.loadSlide(e)) }, focus: function () { var t, e = this.current; this.isClosing || (t = e && e.isComplete ? e.$slide.find("button,:input,[tabindex],a").filter(":not([disabled]):visible:first") : null, t = t && t.length ? t : this.$refs.container, t.focus()) }, activate: function () { var t = this; n(".fancybox-container").each(function () { var e = n(this).data("FancyBox"); e && e.uid !== t.uid && !e.isClosing && e.trigger("onDeactivate") }), t.current && (t.$refs.container.index() > 0 && t.$refs.container.prependTo(e.body), t.updateControls()), t.trigger("onActivate"), t.addEvents() }, close: function (t, e) { var o, i, a, s, r, c, l = this, f = l.current, h = function () { l.cleanUp(t) }; return !l.isClosing && (l.isClosing = !0, l.trigger("beforeClose", t) === !1 ? (l.isClosing = !1, u(function () { l.update() }), !1) : (l.removeEvents(), f.timouts && clearTimeout(f.timouts), a = f.$content, o = f.opts.animationEffect, i = n.isNumeric(e) ? e : o ? f.opts.animationDuration : 0, f.$slide.off(d).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"), f.$slide.siblings().trigger("onReset").remove(), i && l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"), l.hideLoading(f), l.hideControls(), l.updateCursor(), "zoom" !== o || t !== !0 && a && i && "image" === f.type && !f.hasError && (c = l.getThumbPos(f)) || (o = "fade"), "zoom" === o ? (n.fancybox.stop(a), r = n.fancybox.getTranslate(a), r.width = r.width * r.scaleX, r.height = r.height * r.scaleY, s = f.opts.zoomOpacity, "auto" == s && (s = Math.abs(f.width / f.height - c.width / c.height) > .1), s && (c.opacity = 0), r.scaleX = r.width / c.width, r.scaleY = r.height / c.height, r.width = c.width, r.height = c.height, n.fancybox.setTranslate(f.$content, r), n.fancybox.animate(f.$content, c, i, h), !0) : (o && i ? t === !0 ? setTimeout(h, i) : n.fancybox.animate(f.$slide.removeClass("fancybox-slide--current"), "fancybox-animated fancybox-slide--previous fancybox-fx-" + o, i, h) : h(), !0))) }, cleanUp: function (t) { var e, o = this; o.current.$slide.trigger("onReset"), o.$refs.container.empty().remove(), o.trigger("afterClose", t), o.$lastFocus && !o.current.focusBack && o.$lastFocus.focus(), o.current = null, e = n.fancybox.getInstance(), e ? e.activate() : (s.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft), n("html").removeClass("fancybox-enabled"), n("#fancybox-style-noscroll").remove()) }, trigger: function (t, e) { var o, i = Array.prototype.slice.call(arguments, 1), a = this, s = e && e.opts ? e : a.current; return s ? i.unshift(s) : s = a, i.unshift(a), n.isFunction(s.opts[t]) && (o = s.opts[t].apply(s, i)), o === !1 ? o : void ("afterClose" === t ? r.trigger(t + ".fb", i) : a.$refs.container.trigger(t + ".fb", i)) }, updateControls: function (t) { var e = this, o = e.current, i = o.index, a = o.opts, s = a.caption, r = e.$refs.caption; o.$slide.trigger("refresh"), e.$caption = s && s.length ? r.html(s) : null, e.isHiddenControls || e.showControls(), n("[data-fancybox-count]").html(e.group.length), n("[data-fancybox-index]").html(i + 1), n("[data-fancybox-prev]").prop("disabled", !a.loop && i <= 0), n("[data-fancybox-next]").prop("disabled", !a.loop && i >= e.group.length - 1) }, hideControls: function () { this.isHiddenControls = !0, this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav") }, showControls: function () { var t = this, e = t.current ? t.current.opts : t.opts, n = t.$refs.container; t.isHiddenControls = !1, t.idleSecondsCounter = 0, n.toggleClass("fancybox-show-toolbar", !(!e.toolbar || !e.buttons)).toggleClass("fancybox-show-infobar", !!(e.infobar && t.group.length > 1)).toggleClass("fancybox-show-nav", !!(e.arrows && t.group.length > 1)).toggleClass("fancybox-is-modal", !!e.modal), t.$caption ? n.addClass("fancybox-show-caption ") : n.removeClass("fancybox-show-caption") }, toggleControls: function () { this.isHiddenControls ? this.showControls() : this.hideControls() } }), n.fancybox = { version: "3.1.20", defaults: a, getInstance: function (t) { var e = n('.fancybox-container:not(".fancybox-is-closing"):first').data("FancyBox"), o = Array.prototype.slice.call(arguments, 1); return e instanceof h && ("string" === n.type(t) ? e[t].apply(e, o) : "function" === n.type(t) && t.apply(e, o), e) }, open: function (t, e, n) { return new h(t, e, n) }, close: function (t) { var e = this.getInstance(); e && (e.close(), t === !0 && this.close()) }, destroy: function () { this.close(!0), r.off("click.fb-start") }, isMobile: e.createTouch !== o && /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent), use3d: function () { var n = e.createElement("div"); return t.getComputedStyle && t.getComputedStyle(n).getPropertyValue("transform") && !(e.documentMode && e.documentMode < 11) }(), getTranslate: function (t) { var e; if (!t || !t.length) return !1; if (e = t.eq(0).css("transform"), e && e.indexOf("matrix") !== -1 ? (e = e.split("(")[1], e = e.split(")")[0], e = e.split(",")) : e = [], e.length) e = e.length > 10 ? [e[13], e[12], e[0], e[5]] : [e[5], e[4], e[0], e[3]], e = e.map(parseFloat); else { e = [0, 0, 1, 1]; var n = /\.*translate\((.*)px,(.*)px\)/i, o = n.exec(t.eq(0).attr("style")); o && (e[0] = parseFloat(o[2]), e[1] = parseFloat(o[1])) } return { top: e[0], left: e[1], scaleX: e[2], scaleY: e[3], opacity: parseFloat(t.css("opacity")), width: t.width(), height: t.height() } }, setTranslate: function (t, e) { var n = "", i = {}; if (t && e) return e.left === o && e.top === o || (n = (e.left === o ? t.position().left : e.left) + "px, " + (e.top === o ? t.position().top : e.top) + "px", n = this.use3d ? "translate3d(" + n + ", 0px)" : "translate(" + n + ")"), e.scaleX !== o && e.scaleY !== o && (n = (n.length ? n + " " : "") + "scale(" + e.scaleX + ", " + e.scaleY + ")"), n.length && (i.transform = n), e.opacity !== o && (i.opacity = e.opacity), e.width !== o && (i.width = e.width), e.height !== o && (i.height = e.height), t.css(i) }, animate: function (t, e, i, a, s) { var r = d || "transitionend"; n.isFunction(i) && (a = i, i = null), n.isPlainObject(e) || t.removeAttr("style"), t.on(r, function (i) { (!i || !i.originalEvent || t.is(i.originalEvent.target) && "z-index" != i.originalEvent.propertyName) && (t.off(r), n.isPlainObject(e) ? e.scaleX !== o && e.scaleY !== o && (t.css("transition-duration", "0ms"), e.width = t.width() * e.scaleX, e.height = t.height() * e.scaleY, e.scaleX = 1, e.scaleY = 1, n.fancybox.setTranslate(t, e)) : s !== !0 && t.removeClass(e), n.isFunction(a) && a(i)) }), n.isNumeric(i) && t.css("transition-duration", i + "ms"), n.isPlainObject(e) ? n.fancybox.setTranslate(t, e) : t.addClass(e), t.data("timer", setTimeout(function () { t.trigger("transitionend") }, i + 16)) }, stop: function (t) { clearTimeout(t.data("timer")), t.off(d) } }, n.fn.fancybox = function (t) { var e; return t = t || {}, e = t.selector || !1, e ? n("body").off("click.fb-start", e).on("click.fb-start", e, { items: n(e), options: t }, i) : this.off("click.fb-start").on("click.fb-start", { items: this, options: t }, i), this }, r.on("click.fb-start", "[data-fancybox]", i) } }(window, document, window.jQuery), function (t) { "use strict"; var e = function (e, n, o) { if (e) return o = o || "", "object" === t.type(o) && (o = t.param(o, !0)), t.each(n, function (t, n) { e = e.replace("$" + t, n || "") }), o.length && (e += (e.indexOf("?") > 0 ? "&" : "?") + o), e }, n = { youtube: { matcher: /(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i, params: { autoplay: 1, autohide: 1, fs: 1, rel: 0, hd: 1, wmode: "transparent", enablejsapi: 1, html5: 1 }, paramPlace: 8, type: "iframe", url: "//www.youtube.com/embed/$4", thumb: "//img.youtube.com/vi/$4/hqdefault.jpg" }, vimeo: { matcher: /^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/, params: { autoplay: 1, hd: 1, show_title: 1, show_byline: 1, show_portrait: 0, fullscreen: 1, api: 1 }, paramPlace: 3, type: "iframe", url: "//player.vimeo.com/video/$2" }, metacafe: { matcher: /metacafe.com\/watch\/(\d+)\/(.*)?/, type: "iframe", url: "//www.metacafe.com/embed/$1/?ap=1" }, dailymotion: { matcher: /dailymotion.com\/video\/(.*)\/?(.*)/, params: { additionalInfos: 0, autoStart: 1 }, type: "iframe", url: "//www.dailymotion.com/embed/video/$1" }, vine: { matcher: /vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/, type: "iframe", url: "//vine.co/v/$1/embed/simple" }, instagram: { matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i, type: "image", url: "//$1/p/$2/media/?size=l" }, google_maps: { matcher: /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i, type: "iframe", url: function (t) { return "//maps.google." + t[2] + "/?ll=" + (t[9] ? t[9] + "&z=" + Math.floor(t[10]) + (t[12] ? t[12].replace(/^\//, "&") : "") : t[12]) + "&output=" + (t[12] && t[12].indexOf("layer=c") > 0 ? "svembed" : "embed") } } }; t(document).on("onInit.fb", function (o, i) { t.each(i.group, function (o, i) { var a, s, r, c, l, u, d, f = i.src || "", h = !1; i.type || (a = t.extend(!0, {}, n, i.opts.media), t.each(a, function (n, o) { if (r = f.match(o.matcher), u = {}, d = n, r) { if (h = o.type, o.paramPlace && r[o.paramPlace]) { l = r[o.paramPlace], "?" == l[0] && (l = l.substring(1)), l = l.split("&"); for (var a = 0; a < l.length; ++a) { var p = l[a].split("=", 2); 2 == p.length && (u[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " "))) } } return c = t.extend(!0, {}, o.params, i.opts[n], u), f = "function" === t.type(o.url) ? o.url.call(this, r, c, i) : e(o.url, r, c), s = "function" === t.type(o.thumb) ? o.thumb.call(this, r, c, i) : e(o.thumb, r), "vimeo" === d && (f = f.replace("&%23", "#")), !1 } }), h ? (i.src = f, i.type = h, i.opts.thumb || i.opts.$thumb && i.opts.$thumb.length || (i.opts.thumb = s), "iframe" === h && (t.extend(!0, i.opts, { iframe: { preload: !1, attr: { scrolling: "no" } } }), i.contentProvider = d, i.opts.slideClass += " fancybox-slide--" + ("google_maps" == d ? "map" : "video"))) : i.type = "image") }) }) }(window.jQuery), function (t, e, n) { "use strict"; var o = function () { return t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || t.oRequestAnimationFrame || function (e) { return t.setTimeout(e, 1e3 / 60) } }(), i = function () { return t.cancelAnimationFrame || t.webkitCancelAnimationFrame || t.mozCancelAnimationFrame || t.oCancelAnimationFrame || function (e) { t.clearTimeout(e) } }(), a = function (e) { var n = []; e = e.originalEvent || e || t.e, e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e]; for (var o in e) e[o].pageX ? n.push({ x: e[o].pageX, y: e[o].pageY }) : e[o].clientX && n.push({ x: e[o].clientX, y: e[o].clientY }); return n }, s = function (t, e, n) { return e && t ? "x" === n ? t.x - e.x : "y" === n ? t.y - e.y : Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)) : 0 }, r = function (t) { if (t.is("a,button,input,select,textarea") || n.isFunction(t.get(0).onclick)) return !0; for (var e = 0, o = t[0].attributes, i = o.length; e < i; e++)if ("data-fancybox-" === o[e].nodeName.substr(0, 14)) return !0; return !1 }, c = function (e) { var n = t.getComputedStyle(e)["overflow-y"], o = t.getComputedStyle(e)["overflow-x"], i = ("scroll" === n || "auto" === n) && e.scrollHeight > e.clientHeight, a = ("scroll" === o || "auto" === o) && e.scrollWidth > e.clientWidth; return i || a }, l = function (t) { for (var e = !1; ;) { if (e = c(t.get(0))) break; if (t = t.parent(), !t.length || t.hasClass("fancybox-stage") || t.is("body")) break } return e }, u = function (t) { var e = this; e.instance = t, e.$bg = t.$refs.bg, e.$stage = t.$refs.stage, e.$container = t.$refs.container, e.destroy(), e.$container.on("touchstart.fb.touch mousedown.fb.touch", n.proxy(e, "ontouchstart")) }; u.prototype.destroy = function () { this.$container.off(".fb.touch") }, u.prototype.ontouchstart = function (o) { var i = this, c = n(o.target), u = i.instance, d = u.current, f = d.$content, h = "touchstart" == o.type; if (h && i.$container.off("mousedown.fb.touch"), !d || i.instance.isAnimating || i.instance.isClosing) return o.stopPropagation(), void o.preventDefault(); if ((!o.originalEvent || 2 != o.originalEvent.button) && c.length && !r(c) && !r(c.parent()) && !(o.originalEvent.clientX > c[0].clientWidth + c.offset().left) && (i.startPoints = a(o), i.startPoints && !(i.startPoints.length > 1 && u.isSliding))) { if (i.$target = c, i.$content = f, i.canTap = !0, n(e).off(".fb.touch"), n(e).on(h ? "touchend.fb.touch touchcancel.fb.touch" : "mouseup.fb.touch mouseleave.fb.touch", n.proxy(i, "ontouchend")), n(e).on(h ? "touchmove.fb.touch" : "mousemove.fb.touch", n.proxy(i, "ontouchmove")), o.stopPropagation(), !u.current.opts.touch && !u.canPan() || !c.is(i.$stage) && !i.$stage.find(c).length) return void (c.is("img") && o.preventDefault()); n.fancybox.isMobile && (l(i.$target) || l(i.$target.parent())) || o.preventDefault(), i.canvasWidth = Math.round(d.$slide[0].clientWidth), i.canvasHeight = Math.round(d.$slide[0].clientHeight), i.startTime = (new Date).getTime(), i.distanceX = i.distanceY = i.distance = 0, i.isPanning = !1, i.isSwiping = !1, i.isZooming = !1, i.sliderStartPos = i.sliderLastPos || { top: 0, left: 0 }, i.contentStartPos = n.fancybox.getTranslate(i.$content), i.contentLastPos = null, 1 !== i.startPoints.length || i.isZooming || (i.canTap = !u.isSliding, "image" === d.type && (i.contentStartPos.width > i.canvasWidth + 1 || i.contentStartPos.height > i.canvasHeight + 1) ? (n.fancybox.stop(i.$content), i.$content.css("transition-duration", "0ms"), i.isPanning = !0) : i.isSwiping = !0, i.$container.addClass("fancybox-controls--isGrabbing")), 2 !== i.startPoints.length || u.isAnimating || d.hasError || "image" !== d.type || !d.isLoaded && !d.$ghost || (i.isZooming = !0, i.isSwiping = !1, i.isPanning = !1, n.fancybox.stop(i.$content), i.$content.css("transition-duration", "0ms"), i.centerPointStartX = .5 * (i.startPoints[0].x + i.startPoints[1].x) - n(t).scrollLeft(), i.centerPointStartY = .5 * (i.startPoints[0].y + i.startPoints[1].y) - n(t).scrollTop(), i.percentageOfImageAtPinchPointX = (i.centerPointStartX - i.contentStartPos.left) / i.contentStartPos.width, i.percentageOfImageAtPinchPointY = (i.centerPointStartY - i.contentStartPos.top) / i.contentStartPos.height, i.startDistanceBetweenFingers = s(i.startPoints[0], i.startPoints[1])) } }, u.prototype.ontouchmove = function (t) { var e = this; if (e.newPoints = a(t), n.fancybox.isMobile && (l(e.$target) || l(e.$target.parent()))) return t.stopPropagation(), void (e.canTap = !1); if ((e.instance.current.opts.touch || e.instance.canPan()) && e.newPoints && e.newPoints.length && (e.distanceX = s(e.newPoints[0], e.startPoints[0], "x"), e.distanceY = s(e.newPoints[0], e.startPoints[0], "y"), e.distance = s(e.newPoints[0], e.startPoints[0]), e.distance > 0)) { if (!e.$target.is(e.$stage) && !e.$stage.find(e.$target).length) return; t.stopPropagation(), t.preventDefault(), e.isSwiping ? e.onSwipe() : e.isPanning ? e.onPan() : e.isZooming && e.onZoom() } }, u.prototype.onSwipe = function () { var e, a = this, s = a.isSwiping, r = a.sliderStartPos.left || 0; s === !0 ? Math.abs(a.distance) > 10 && (a.canTap = !1, a.instance.group.length < 2 && a.instance.opts.touch.vertical ? a.isSwiping = "y" : a.instance.isSliding || a.instance.opts.touch.vertical === !1 || "auto" === a.instance.opts.touch.vertical && n(t).width() > 800 ? a.isSwiping = "x" : (e = Math.abs(180 * Math.atan2(a.distanceY, a.distanceX) / Math.PI), a.isSwiping = e > 45 && e < 135 ? "y" : "x"), a.instance.isSliding = a.isSwiping, a.startPoints = a.newPoints, n.each(a.instance.slides, function (t, e) { n.fancybox.stop(e.$slide), e.$slide.css("transition-duration", "0ms"), e.inTransition = !1, e.pos === a.instance.current.pos && (a.sliderStartPos.left = n.fancybox.getTranslate(e.$slide).left) }), a.instance.SlideShow && a.instance.SlideShow.isActive && a.instance.SlideShow.stop()) : ("x" == s && (a.distanceX > 0 && (a.instance.group.length < 2 || 0 === a.instance.current.index && !a.instance.current.opts.loop) ? r += Math.pow(a.distanceX, .8) : a.distanceX < 0 && (a.instance.group.length < 2 || a.instance.current.index === a.instance.group.length - 1 && !a.instance.current.opts.loop) ? r -= Math.pow(-a.distanceX, .8) : r += a.distanceX), a.sliderLastPos = { top: "x" == s ? 0 : a.sliderStartPos.top + a.distanceY, left: r }, a.requestId && (i(a.requestId), a.requestId = null), a.requestId = o(function () { a.sliderLastPos && (n.each(a.instance.slides, function (t, e) { var o = e.pos - a.instance.currPos; n.fancybox.setTranslate(e.$slide, { top: a.sliderLastPos.top, left: a.sliderLastPos.left + o * a.canvasWidth + o * e.opts.gutter }) }), a.$container.addClass("fancybox-is-sliding")) })) }, u.prototype.onPan = function () { var t, e, a, s = this; s.canTap = !1, t = s.contentStartPos.width > s.canvasWidth ? s.contentStartPos.left + s.distanceX : s.contentStartPos.left, e = s.contentStartPos.top + s.distanceY, a = s.limitMovement(t, e, s.contentStartPos.width, s.contentStartPos.height), a.scaleX = s.contentStartPos.scaleX, a.scaleY = s.contentStartPos.scaleY, s.contentLastPos = a, s.requestId && (i(s.requestId), s.requestId = null), s.requestId = o(function () { n.fancybox.setTranslate(s.$content, s.contentLastPos) }) }, u.prototype.limitMovement = function (t, e, n, o) { var i, a, s, r, c = this, l = c.canvasWidth, u = c.canvasHeight, d = c.contentStartPos.left, f = c.contentStartPos.top, h = c.distanceX, p = c.distanceY; return i = Math.max(0, .5 * l - .5 * n), a = Math.max(0, .5 * u - .5 * o), s = Math.min(l - n, .5 * l - .5 * n), r = Math.min(u - o, .5 * u - .5 * o), n > l && (h > 0 && t > i && (t = i - 1 + Math.pow(-i + d + h, .8) || 0), h < 0 && t < s && (t = s + 1 - Math.pow(s - d - h, .8) || 0)), o > u && (p > 0 && e > a && (e = a - 1 + Math.pow(-a + f + p, .8) || 0), p < 0 && e < r && (e = r + 1 - Math.pow(r - f - p, .8) || 0)), { top: e, left: t } }, u.prototype.limitPosition = function (t, e, n, o) { var i = this, a = i.canvasWidth, s = i.canvasHeight; return n > a ? (t = t > 0 ? 0 : t, t = t < a - n ? a - n : t) : t = Math.max(0, a / 2 - n / 2), o > s ? (e = e > 0 ? 0 : e, e = e < s - o ? s - o : e) : e = Math.max(0, s / 2 - o / 2), { top: e, left: t } }, u.prototype.onZoom = function () { var e = this, a = e.contentStartPos.width, r = e.contentStartPos.height, c = e.contentStartPos.left, l = e.contentStartPos.top, u = s(e.newPoints[0], e.newPoints[1]), d = u / e.startDistanceBetweenFingers, f = Math.floor(a * d), h = Math.floor(r * d), p = (a - f) * e.percentageOfImageAtPinchPointX, g = (r - h) * e.percentageOfImageAtPinchPointY, b = (e.newPoints[0].x + e.newPoints[1].x) / 2 - n(t).scrollLeft(), m = (e.newPoints[0].y + e.newPoints[1].y) / 2 - n(t).scrollTop(), y = b - e.centerPointStartX, v = m - e.centerPointStartY, x = c + (p + y), w = l + (g + v), $ = { top: w, left: x, scaleX: e.contentStartPos.scaleX * d, scaleY: e.contentStartPos.scaleY * d }; e.canTap = !1, e.newWidth = f, e.newHeight = h, e.contentLastPos = $, e.requestId && (i(e.requestId), e.requestId = null), e.requestId = o(function () { n.fancybox.setTranslate(e.$content, e.contentLastPos) }) }, u.prototype.ontouchend = function (t) { var o = this, s = Math.max((new Date).getTime() - o.startTime, 1), r = o.isSwiping, c = o.isPanning, l = o.isZooming; return o.endPoints = a(t), o.$container.removeClass("fancybox-controls--isGrabbing"), n(e).off(".fb.touch"), o.requestId && (i(o.requestId), o.requestId = null), o.isSwiping = !1, o.isPanning = !1, o.isZooming = !1, o.canTap ? o.onTap(t) : (o.speed = 366, o.velocityX = o.distanceX / s * .5, o.velocityY = o.distanceY / s * .5, o.speedX = Math.max(.5 * o.speed, Math.min(1.5 * o.speed, 1 / Math.abs(o.velocityX) * o.speed)), void (c ? o.endPanning() : l ? o.endZooming() : o.endSwiping(r))) }, u.prototype.endSwiping = function (t) { var e = this, o = !1; e.instance.isSliding = !1, e.sliderLastPos = null, "y" == t && Math.abs(e.distanceY) > 50 ? (n.fancybox.animate(e.instance.current.$slide, { top: e.sliderStartPos.top + e.distanceY + 150 * e.velocityY, opacity: 0 }, 150), o = e.instance.close(!0, 300)) : "x" == t && e.distanceX > 50 && e.instance.group.length > 1 ? o = e.instance.previous(e.speedX) : "x" == t && e.distanceX < -50 && e.instance.group.length > 1 && (o = e.instance.next(e.speedX)), o !== !1 || "x" != t && "y" != t || e.instance.jumpTo(e.instance.current.index, 150), e.$container.removeClass("fancybox-is-sliding") }, u.prototype.endPanning = function () { var t, e, o, i = this; i.contentLastPos && (i.instance.current.opts.touch.momentum === !1 ? (t = i.contentLastPos.left, e = i.contentLastPos.top) : (t = i.contentLastPos.left + i.velocityX * i.speed, e = i.contentLastPos.top + i.velocityY * i.speed), o = i.limitPosition(t, e, i.contentStartPos.width, i.contentStartPos.height), o.width = i.contentStartPos.width, o.height = i.contentStartPos.height, n.fancybox.animate(i.$content, o, 330)) }, u.prototype.endZooming = function () { var t, e, o, i, a = this, s = a.instance.current, r = a.newWidth, c = a.newHeight; a.contentLastPos && (t = a.contentLastPos.left, e = a.contentLastPos.top, i = { top: e, left: t, width: r, height: c, scaleX: 1, scaleY: 1 }, n.fancybox.setTranslate(a.$content, i), r < a.canvasWidth && c < a.canvasHeight ? a.instance.scaleToFit(150) : r > s.width || c > s.height ? a.instance.scaleToActual(a.centerPointStartX, a.centerPointStartY, 150) : (o = a.limitPosition(t, e, r, c), n.fancybox.setTranslate(a.content, n.fancybox.getTranslate(a.$content)), n.fancybox.animate(a.$content, o, 150))) }, u.prototype.onTap = function (t) { var e, o = this, i = n(t.target), s = o.instance, r = s.current, c = t && a(t) || o.startPoints, l = c[0] ? c[0].x - o.$stage.offset().left : 0, u = c[0] ? c[0].y - o.$stage.offset().top : 0, d = function (e) { var i = r.opts[e]; if (n.isFunction(i) && (i = i.apply(s, [r, t])), i) switch (i) { case "close": s.close(o.startEvent); break; case "toggleControls": s.toggleControls(!0); break; case "next": s.next(); break; case "nextOrClose": s.group.length > 1 ? s.next() : s.close(o.startEvent); break; case "zoom": "image" == r.type && (r.isLoaded || r.$ghost) && (s.canPan() ? s.scaleToFit() : s.isScaledDown() ? s.scaleToActual(l, u) : s.group.length < 2 && s.close(o.startEvent)) } }; if (!(t.originalEvent && 2 == t.originalEvent.button || s.isSliding || l > i[0].clientWidth + i.offset().left)) { if (i.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container")) e = "Outside"; else if (i.is(".fancybox-slide")) e = "Slide"; else { if (!s.current.$content || !s.current.$content.has(t.target).length) return; e = "Content" } if (o.tapped) { if (clearTimeout(o.tapped), o.tapped = null, Math.abs(l - o.tapX) > 50 || Math.abs(u - o.tapY) > 50 || s.isSliding) return this; d("dblclick" + e) } else o.tapX = l, o.tapY = u, r.opts["dblclick" + e] && r.opts["dblclick" + e] !== r.opts["click" + e] ? o.tapped = setTimeout(function () { o.tapped = null, d("click" + e) }, 300) : d("click" + e); return this } }, n(e).on("onActivate.fb", function (t, e) { e && !e.Guestures && (e.Guestures = new u(e)) }), n(e).on("beforeClose.fb", function (t, e) { e && e.Guestures && e.Guestures.destroy() }) }(window, document, window.jQuery), function (t, e) { "use strict"; var n = function (t) { this.instance = t, this.init() }; e.extend(n.prototype, { timer: null, isActive: !1, $button: null, speed: 3e3, init: function () { var t = this; t.$button = t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click", function () { t.toggle() }), (t.instance.group.length < 2 || !t.instance.group[t.instance.currIndex].opts.slideShow) && t.$button.hide() }, set: function () { var t = this; t.instance && t.instance.current && (t.instance.current.opts.loop || t.instance.currIndex < t.instance.group.length - 1) ? t.timer = setTimeout(function () { t.instance.next() }, t.instance.current.opts.slideShow.speed || t.speed) : (t.stop(), t.instance.idleSecondsCounter = 0, t.instance.showControls()) }, clear: function () { var t = this; clearTimeout(t.timer), t.timer = null }, start: function () { var t = this, e = t.instance.current; t.instance && e && (e.opts.loop || e.index < t.instance.group.length - 1) && (t.isActive = !0, t.$button.attr("title", e.opts.i18n[e.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"), e.isComplete && t.set()) }, stop: function () { var t = this, e = t.instance.current; t.clear(), t.$button.attr("title", e.opts.i18n[e.opts.lang].PLAY_START).removeClass("fancybox-button--pause"), t.isActive = !1 }, toggle: function () { var t = this; t.isActive ? t.stop() : t.start() } }), e(t).on({ "onInit.fb": function (t, e) { e && !e.SlideShow && (e.SlideShow = new n(e)) }, "beforeShow.fb": function (t, e, n, o) { var i = e && e.SlideShow; o ? i && n.opts.slideShow.autoStart && i.start() : i && i.isActive && i.clear() }, "afterShow.fb": function (t, e, n) { var o = e && e.SlideShow; o && o.isActive && o.set() }, "afterKeydown.fb": function (n, o, i, a, s) { var r = o && o.SlideShow; !r || !i.opts.slideShow || 80 !== s && 32 !== s || e(t.activeElement).is("button,a,input") || (a.preventDefault(), r.toggle()) }, "beforeClose.fb onDeactivate.fb": function (t, e) { var n = e && e.SlideShow; n && n.stop() } }), e(t).on("visibilitychange", function () { var n = e.fancybox.getInstance(), o = n && n.SlideShow; o && o.isActive && (t.hidden ? o.clear() : o.set()) }) }(document, window.jQuery), function (t, e) { "use strict"; var n = function () { var e, n, o, i = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], a = {}; for (n = 0; n < i.length; n++)if (e = i[n], e && e[1] in t) { for (o = 0; o < e.length; o++)a[i[0][o]] = e[o]; return a } return !1 }(); if (!n) return void (e.fancybox.defaults.btnTpl.fullScreen = !1); var o = { request: function (e) { e = e || t.documentElement, e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT) }, exit: function () { t[n.exitFullscreen]() }, toggle: function (e) { e = e || t.documentElement, this.isFullscreen() ? this.exit() : this.request(e) }, isFullscreen: function () { return Boolean(t[n.fullscreenElement]) }, enabled: function () { return Boolean(t[n.fullscreenEnabled]) } }; e(t).on({ "onInit.fb": function (t, e) { var n, i = e.$refs.toolbar.find("[data-fancybox-fullscreen]"); e && !e.FullScreen && e.group[e.currIndex].opts.fullScreen ? (n = e.$refs.container, n.on("click.fb-fullscreen", "[data-fancybox-fullscreen]", function (t) { t.stopPropagation(), t.preventDefault(), o.toggle(n[0]) }), e.opts.fullScreen && e.opts.fullScreen.autoStart === !0 && o.request(n[0]), e.FullScreen = o) : i.hide() }, "afterKeydown.fb": function (t, e, n, o, i) { e && e.FullScreen && 70 === i && (o.preventDefault(), e.FullScreen.toggle(e.$refs.container[0])) }, "beforeClose.fb": function (t) { t && t.FullScreen && o.exit() } }), e(t).on(n.fullscreenchange, function () { var t = e.fancybox.getInstance(); t.current && "image" === t.current.type && t.isAnimating && (t.current.$content.css("transition", "none"), t.isAnimating = !1, t.update(!0, !0, 0)) }) }(document, window.jQuery), function (t, e) { "use strict"; var n = function (t) { this.instance = t, this.init() }; e.extend(n.prototype, { $button: null, $grid: null, $list: null, isVisible: !1, init: function () { var t = this, e = t.instance.group[0], n = t.instance.group[1]; t.$button = t.instance.$refs.toolbar.find("[data-fancybox-thumbs]"), t.instance.group.length > 1 && t.instance.group[t.instance.currIndex].opts.thumbs && ("image" == e.type || e.opts.thumb || e.opts.$thumb) && ("image" == n.type || n.opts.thumb || n.opts.$thumb) ? (t.$button.on("click", function () { t.toggle() }), t.isActive = !0) : (t.$button.hide(), t.isActive = !1) }, create: function () { var t, n, o = this.instance; this.$grid = e('<div class="fancybox-thumbs"></div>').appendTo(o.$refs.container), t = "<ul>", e.each(o.group, function (e, o) { n = o.opts.thumb || (o.opts.$thumb ? o.opts.$thumb.attr("src") : null), n || "image" !== o.type || (n = o.src), n && n.length && (t += '<li data-index="' + e + '"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="' + n + '" /></li>') }), t += "</ul>", this.$list = e(t).appendTo(this.$grid).on("click", "li", function () { o.jumpTo(e(this).data("index")) }), this.$list.find("img").hide().one("load", function () { var t, n, o, i, a = e(this).parent().removeClass("fancybox-thumbs-loading"), s = a.outerWidth(), r = a.outerHeight(); t = this.naturalWidth || this.width, n = this.naturalHeight || this.height, o = t / s, i = n / r, o >= 1 && i >= 1 && (o > i ? (t /= i, n = r) : (t = s, n /= o)), e(this).css({ width: Math.floor(t), height: Math.floor(n), "margin-top": Math.min(0, Math.floor(.3 * r - .3 * n)), "margin-left": Math.min(0, Math.floor(.5 * s - .5 * t)) }).show() }).each(function () { this.src = e(this).data("src") }) }, focus: function () { this.instance.current && this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="' + this.instance.current.index + '"]').addClass("fancybox-thumbs-active").focus() }, close: function () { this.$grid.hide() }, update: function () { this.instance.$refs.container.toggleClass("fancybox-show-thumbs", this.isVisible), this.isVisible ? (this.$grid || this.create(), this.instance.trigger("onThumbsShow"), this.focus()) : this.$grid && this.instance.trigger("onThumbsHide"), this.instance.update() }, hide: function () { this.isVisible = !1, this.update() }, show: function () { this.isVisible = !0, this.update() }, toggle: function () { this.isVisible = !this.isVisible, this.update() } }), e(t).on({ "onInit.fb": function (t, e) { e && !e.Thumbs && (e.Thumbs = new n(e)) }, "beforeShow.fb": function (t, e, n, o) { var i = e && e.Thumbs; if (i && i.isActive) { if (n.modal) return i.$button.hide(), void i.hide(); o && e.opts.thumbs.autoStart === !0 && i.show(), i.isVisible && i.focus() } }, "afterKeydown.fb": function (t, e, n, o, i) { var a = e && e.Thumbs; a && a.isActive && 71 === i && (o.preventDefault(), a.toggle()) }, "beforeClose.fb": function (t, e) { var n = e && e.Thumbs; n && n.isVisible && e.opts.thumbs.hideOnClose !== !1 && n.close() } }) }(document, window.jQuery), function (t, e, n) { "use strict"; function o() { var t = e.location.hash.substr(1), n = t.split("-"), o = n.length > 1 && /^\+?\d+$/.test(n[n.length - 1]) ? parseInt(n.pop(-1), 10) || 1 : 1, i = n.join("-"); return o < 1 && (o = 1), { hash: t, index: o, gallery: i } } function i(t) { var e; "" !== t.gallery && (e = n("[data-fancybox='" + n.escapeSelector(t.gallery) + "']").eq(t.index - 1), e.length ? e.trigger("click") : n("#" + n.escapeSelector(t.gallery)).trigger("click")) } function a(t) { var e; return !!t && (e = t.current ? t.current.opts : t.opts, e.$orig ? e.$orig.data("fancybox") : e.hash || "") } n.escapeSelector || (n.escapeSelector = function (t) { var e = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g, n = function (t, e) { return e ? "\0" === t ? "�" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t }; return (t + "").replace(e, n) }); var s = null, r = null; n(function () { setTimeout(function () { n.fancybox.defaults.hash !== !1 && (n(t).on({ "onInit.fb": function (t, e) { var n, i; e.group[e.currIndex].opts.hash !== !1 && (n = o(), i = a(e), i && n.gallery && i == n.gallery && (e.currIndex = n.index - 1)) }, "beforeShow.fb": function (n, o, i, c) { var l; i.opts.hash !== !1 && (l = a(o), l && "" !== l && (e.location.hash.indexOf(l) < 0 && (o.opts.origHash = e.location.hash), s = l + (o.group.length > 1 ? "-" + (i.index + 1) : ""), "replaceState" in e.history ? (r && clearTimeout(r), r = setTimeout(function () { e.history[c ? "pushState" : "replaceState"]({}, t.title, e.location.pathname + e.location.search + "#" + s), r = null }, 300)) : e.location.hash = s)) }, "beforeClose.fb": function (o, i, c) { var l, u; r && clearTimeout(r), c.opts.hash !== !1 && (l = a(i), u = i && i.opts.origHash ? i.opts.origHash : "", l && "" !== l && ("replaceState" in history ? e.history.replaceState({}, t.title, e.location.pathname + e.location.search + u) : (e.location.hash = u, n(e).scrollTop(i.scrollTop).scrollLeft(i.scrollLeft))), s = null) } }), n(e).on("hashchange.fb", function () { var t = o(); n.fancybox.getInstance() ? !s || s === t.gallery + "-" + t.index || 1 === t.index && s == t.gallery || (s = null, n.fancybox.close()) : "" !== t.gallery && i(t) }), n(e).one("unload.fb popstate.fb", function () { n.fancybox.getInstance("close", !0, 0) }), i(o())) }, 50) }) }(document, window, window.jQuery);

$(document).ready(function () { $('.smallImage').click(function () { id = $(this).data('key'); $('.mainImage img').hide(); $('#' + id).show(); }); });

!function (a, b) { "use strict"; a.Concrete = a.Concrete || {}, a.console = a.console || {}, a.ConcreteEvent = function (b, c) { function d(b, c, d) { h ? (a.console.groupCollapsed(b), d || "function" != typeof c ? a.console.log(c) : c(), a.console.groupEnd()) : i && (d || "function" != typeof c ? a.console.log(b, c) : (a.console.log('Group: "' + b + '"'), c(), a.console.log('GroupEnd: "' + b + '"'))) } function e(a) { return a || (a = f), a instanceof c || (a = c(a)), a.length || (a = f), a } var f = c("<span />"), g = !1, h = "function" == typeof a.console.group && "function" == typeof a.console.groupEnd, i = "function" == typeof a.console.log, j = { debug: function (a) { return "undefined" == typeof a ? g : g = !!a }, subscribe: function (b, c, f) { var h = c, i = new Error("EventStack").stack; return c = function () { g && d("Handler Fired.", function () { d("Type", b, !0), d("Handler", h, !0), d("Target", f, !0), d("Bound Stack", i, !0), "function" == typeof a.console.trace ? a.console.trace() : d("Stack", new Error("EventStack").stack) }), h.apply(this, _(arguments).toArray()) }, g && d("Event Subscribed", function () { d("Type", b, !0), d("Handler", h, !0), d("Target", f, !0), "function" == typeof a.console.trace ? a.console.trace() : d("Stack", new Error("EventStack").stack) }), b instanceof Array ? _(b).each(function (a) { j.subscribe(a, c, f) }) : (e(f).bind(b.toLowerCase(), c), j) }, publish: function (b, c, f) { return g && d("Event Published", function () { d("Type", b, !0), d("Data", c, !0), d("Target", f, !0), "function" == typeof a.console.trace ? a.console.trace() : d("Stack", new Error("EventStack").stack) }), b instanceof Array ? _(b).each(function (a) { j.publish(a, c, f) }) : (e(f).trigger(b.toLowerCase(), c), j) }, unsubscribe: function (b, f, h) { var i; return g && d("Event Unsubscribed", function () { d("Type", b, !0), d("Secondary Argument", f, !0), d("Target", h, !0), "function" == typeof a.console.trace ? a.console.trace() : d("Stack", new Error("EventStack").stack) }), i = ["function" == typeof b.toLowerCase ? b.toLowerCase() : b], "undefined" != typeof f && i.push(f), c.fn.unbind.apply(e(h), i), j } }; return j.sub = j.bind = j.watch = j.on = j.subscribe, j.pub = j.fire = j.trigger = j.publish, j.unsub = j.unbind = j.unwatch = j.off = j.unsubscribe, b.event = j, j }(a.Concrete, jQuery) }(window, jQuery);

var ccmi18n = {
  expand: "Uitvouwen",
  cancel: "Annuleer",
  collapse: "Samenvouwen",
  error: "Fout",
  deleteBlock: "Blok verwijderd",
  deleteBlockMsg: "Het blok is verwijderd.",
  addBlock: "Blok toevoegen",
  addBlockNew: "Blok toevoegen",
  addBlockStack: "Stapel Toevoegen",
  addBlockStackMsg: "De stapel is toegevoegd",
  addBlockPaste: "Plakken van Klembord",
  changeAreaCSS: "Ontwerp",
  editAreaLayout: "Layout aanpassen",
  addAreaLayout: "Layout toevoegen",
  moveLayoutUp: "Naar boven verplaatsen",
  moveLayoutDown: "Naar beneden verplaatsen",
  moveLayoutAtBoundary: "Dit layout gedeelte kan niet verder in deze richting worden verplaatst.",
  areaLayoutPresets: "Layout Voorinstellingen",
  lockAreaLayout: "Layout blokkeren",
  unlockAreaLayout: "Layout deblokkeren",
  deleteLayout: "Verwijder",
  deleteLayoutOptsTitle: "Layout verwijderen",
  confirmLayoutPresetDelete: "Weet u zeker dat u deze layout voorinstelling wil verwijderen?",
  setAreaPermissions: "Machtigingen Instellen",
  addBlockMsg: "Het blok is toegevoegd.",
  updateBlock: "Blok Bijwerken",
  updateBlockMsg: "Het blok is opgeslagen.",
  copyBlockToScrapbookMsg: "Het blok is toegevoegd aan uw klembord",
  content: "Inhoud",
  closeWindow: "Sluiten",
  editBlock: "Bewerken",
  editBlockWithName: "Bewerk %s",
  setPermissionsDeferredMsg: "Machtiging instelling opgeslagen. U moet de workflow voltooien voordat deze wijziging actief wordt.",
  editStackContents: "Stapel inhoud bewerken",
  compareVersions: "Vergelijk Versies",
  blockAreaMenu: "Blok toevoegen",
  arrangeBlock: "Verplaatsen",
  arrangeBlockMsg: "Blokken gearrangeerd.",
  copyBlockToScrapbook: "Kopi\u00ebren naar Klembord",
  changeBlockTemplate: "Aangepast thema",
  changeBlockCSS: "Ontwerp",
  errorCustomStylePresetNoName: "De aangepaste stijl voorkeurs instelling moet een naam hebben.",
  changeBlockBaseStyle: "Definieer Blokstijlen",
  confirmCssReset: "Weet u zeker dat u al deze aangepaste stijlen wil verwijderen?",
  confirmCssPresetDelete: "Weet u zeker dat u deze aangepaste stijl voorinstelling wilt verwijderen?",
  setBlockPermissions: "Machtigingen Instellen",
  setBlockAlias: "Onderliggende Pagina Setup",
  setBlockComposerSettings: "Composer Instellingen",
  themeBrowserTitle: "Meer Thema's Verkrijgen",
  themeBrowserLoading: "Thema gegevens ophalen van de concrete5.org marktplaats.",
  addonBrowserLoading: "Extensie gegevens ophalen van de concrete5.org marktplaats.",
  clear: "Wissen",
  requestTimeout: "Dit verzoek duurde te lang.",
  generalRequestError: "Er heeft zich een onverwachte fout voorgedaan:",
  helpPopup: "Help",
  community: "concrete5 Marktplaats",
  communityCheckout: "concrete5 Marktplaats - Kopen & Afrekenen",
  communityDownload: "concrete5 Marktplaats - Download",
  noIE6: "Concrete5 ondersteunt Internet Explorer 6  niet in bewerkingsmodus.",
  helpPopupLoginMsg: "Krijg antwoord op uw vraag in het Concrete5 help centrum op concrete5.org",
  marketplaceErrorMsg: "<p>De Extensie kon niet ge\u00efnstalleerd worden. Een onbekende fout is opgetreden.<\/p>",
  marketplaceInstallMsg: "<p>De extensie wordt nu gedownload en ge\u00efnstalleerd.<\/p>",
  marketplaceLoadingMsg: "<p>Er wordt informatie opgehaald van de Concrete5 Marketplace.<\/p>",
  marketplaceLoginMsg: "<p>U moet ingelogd zijn op de Concrete5 Marktplaats om Extensies en Thema's te kunnen installeren.<\/p>",
  marketplaceLoginSuccessMsg: "<p>U bent nu ingelogd op de Concrete5 Marktplaats.<\/p>",
  marketplaceLogoutSuccessMsg: "<p>U bent nu afgemeld van de Concrete5 Marktplaats.<\/p>",
  deleteAttributeValue: "Weet u zeker dat u deze waarde wil verwijderen?",
  customizeSearch: "Zoeken aanpassen",
  properties: "Pagina opgeslagen",
  savePropertiesMsg: "Pagina Eigenschappen opgeslagen.",
  saveSpeedSettingsMsg: "Volledige pagina cache instellingen zijn opgeslagen",
  saveUserSettingsMsg: "Gebruikersinstellingen zijn opgeslagen.",
  ok: "Ok",
  scheduleGuestAccess: "Planning gasttoegang",
  scheduleGuestAccessSuccess: "Tijdgebonden toegang voor gastgebruikers bijgewerkt.",
  newsflowLoading: "Op updates controleren.",
  x: "x",
  user_activate: "Geactiveerde gebruikers",
  user_deactivate: "Gedeactiveerde gebruikers",
  user_delete: "Verwijder",
  user_group_remove: "Verwijder uit groep",
  user_group_add: "Aan groep toevoegen",
  none: "Geen",
  editModeMsg: "Laten we beginnen met het bewerken van een pagina.",
  editMode: "Bewerkmodus",
  save: "Opslaan",
  currentImage: "Huidige afbeelding",
  image: "Afbeelding",
  size: "Grootte",
  chooseFont: "Kies lettertype",
  fontWeight: "Letterdikte",
  italic: "Cursief",
  underline: "Onderstrepen",
  uppercase: "Hoofdletters",
  fontSize: "Lettergrootte",
  letterSpacing: "Letterspati\u00ebring",
  lineHeight: "Regelhoogte",
  emptyArea: "Leeg <%- area_handle %> Gebied",
  fullArea: "Deze omgeving is vol!"
};

var ccmi18n_editor = {
  insertLinkToFile: "Link naar bestand invoegen",
  insertImage: "Afbeelding invoegen",
  insertLinkToPage: "Link naar pagina"
};

var ccmi18n_sitemap = {
  seo: "SEO",
  pageLocation: "Vestiging",
  pageLocationTitle: "Vestiging",
  visitExternalLink: "Bezoeken",
  editExternalLink: "Externe Link Bewerken",
  deleteExternalLink: "Verwijder",
  copyProgressTitle: "Kopieer voortgang",
  addExternalLink: "Externe Link Toevoegen",
  sendToTop: "Naar boven",
  sendToBottom: "Naar beneden",
  emptyTrash: "Prullenbak legen",
  restorePage: "Pagina Herstellen",
  deletePageForever: "Definitief Verwijderen",
  previewPage: "Bekijken",
  visitPage: "Bezoeken",
  pageAttributes: "Attributen",
  speedSettings: "In cache plaatsen",
  speedSettingsTitle: "In cache plaatsen",
  pageAttributesTitle: "Attributen",
  pagePermissionsTitle: "Pagina-machtigingen",
  setPagePermissions: "Machtigingen",
  setPagePermissionsMsg: "Paginamachtigingen bijgewerkt.",
  pageDesignMsg: "Thema en paginatype bijgewerkt.",
  pageDesign: "Design &amp; Type",
  pageVersions: "Versies",
  deletePage: "Verwijder",
  deletePages: "Verwijder pagina's",
  deletePageSuccessMsg: "De pagina is verwijderd.",
  deletePageSuccessDeferredMsg: "Verwijder verzoek opgeslagen. U moet de workflow voltooien  voordat de pagina volledig wordt verwijderd.",
  addPage: "Pagina Toevoegen",
  moveCopyPage: "Verplaats\/Kopieer",
  reorderPage: "Verander paginavolgorde",
  reorderPageMessage: "Verplaats of her-orden pagina's door hun pictogram te verslepen.",
  moveCopyPageMessage: "Kies een nieuwe bovenliggende pagina uit de sitemap.",
  editInComposer: "Bewerk in Composer",
  searchPages: "Zoek Pagina's",
  explorePages: "Platte weergave",
  backToSitemap: "Terug naar sitemap",
  searchResults: "Zoekresultaten",
  createdBy: "Aangemaakt door",
  choosePage: "Kies een pagina",
  viewing: "Bekijken",
  results: "Resultaten",
  max: "max",
  noResults: "Geen resultaten gevonden.",
  areYouSure: "Weet u het zeker?",
  loadingText: "Bezig met laden",
  loadError: "Kan sitemap informatie niet laden. Reactie ontvangen:",
  loadErrorTitle: "Kan sitemap informatie niet laden.",
  on: "op"
};

var ccmi18n_spellchecker = {
  resumeEditing: "Doorgaan met Bewerken",
  noSuggestions: "Geen Suggesties"
};

var ccmi18n_groups = {
  editGroup: "Groep Wijzigen",
  editPermissions: "Wijzig machtigingen"
};

var ccmi18n_filemanager = {
  view: "Bekijk",
  download: "Download",
  select: "Kiezen",
  duplicateFile: "Bestand kopi\u00ebren",
  clear: "Wissen",
  edit: "Bewerken",
  thumbnailImages: "Thumbnail Afbeeldingen",
  replace: "Vervangen",
  duplicate: "Kopi\u00ebren",
  chooseNew: "Kies nieuw bestand",
  sets: "Verzamelingen",
  permissions: "Machtigingen",
  properties: "Eigenschappen",
  deleteFile: "Verwijder",
  title: "Bestandsbeheer",
  uploadErrorChooseFile: "U moet een bestand kiezen.",
  rescan: "Opnieuw scannen",
  pending: "In afwachting",
  uploadComplete: "Upload compleet",
  uploadFailed: "Upload mislukt",
  uploadProgress: "Upload vooruitgang",
  chosenTooMany: "U kunt alleen een enkel bestand selecteren.",
  PTYPE_CUSTOM: "",
  PTYPE_NONE: "",
  PTYPE_ALL: "",
  FTYPE_IMAGE: 1,
  FTYPE_VIDEO: 2,
  FTYPE_TEXT: 3,
  FTYPE_AUDIO: 4,
  FTYPE_DOCUMENT: 5,
  FTYPE_APPLICATION: 6
};

var ccmi18n_chosen = {
  placeholder_text_multiple: "Selecteer Opties",
  placeholder_text_single: "Selecteer een Optie",
  no_results_text: "Geen match gevonden"
};

var ccmi18n_topics = {
  addCategory: "Categorie toevoegen",
  editCategory: "Categorie bewerken",
  deleteCategory: "Categorie verwijderen",
  cloneCategory: "Categorie klonen",
  addTopic: "Onderwerp toevoegen",
  editTopic: "Onderwerp bewerken",
  deleteTopic: "Verwijder onderwerp",
  cloneTopic: "Onderwerp klonen",
  editPermissions: "Wijzig machtigingen"
};

var ccmi18n_tourist = {
  skipButton: "<button class=\"btn btn-default btn-sm pull-right tour-next\">Overslaan \u2192<\/button>",
  nextButton: "<button class=\"btn btn-primary btn-sm pull-right tour-next\">Volgende \u2192<\/button>",
  finalButton: "<button class=\"btn btn-primary btn-sm pull-right tour-next\">Gedaan<\/button>",
  closeButton: "<a class=\"btn btn-close tour-close\" href=\"#\"><i class=\"fa fa-remove\"><\/i><\/a>",
  okButton: "<button class=\"btn btn-sm tour-close btn-primary\">Ok<\/button>",
  doThis: "Doe dit:",
  thenThis: "Dan dit:",
  nextThis: "Nu dit:",
  stepXofY: "stap %1$d van %2$d"
};

var ccmi18n_helpGuides = {
  'add-page': [
    { title: "Pagina menu", text: "'Pagina's' gebruik je om een nieuwe pagina aan je site toe te voegen of om te navigeren tussen bestaande pagina's. Om het pagina-paneel te openen klik je op het icoon." },
    { title: "Paginatypes", text: "Dit is jouw lijst van paginatypes, klik er een aan om er een pagina mee te maken." },
    { title: "Sitemap", text: "Dit is jouw sitemap, deze gebruik je om makkelijk binnen je site te navigeren." }
  ],
  'change-content-edit-mode': [
    { title: "Bewerkmodus actief", text: "De oplichtende knop toont dat je in edit-modus bent." },
    { title: "Het blok aanpassen", text: "Ga met de muis over de inhoud op de pagina. Klik op een blokje inhoud om het edit-menu voor dat blok tevoorschijn te halen." },
    { title: "Bewerkmenu", text: "Gebruik dit menu om de inhoud van dit blok te bewerken, het ontwerp ervan te wijzigen of om het blok te verwijderen." },
    { title: "Wijzigingen opslaan", text: "Wanneer je klaar bent met bewerken, kun je je wijzigingen bewaren voor andere redacteuren, of je kunt de wijzigingen publiceren om ze direct online zichtbaar te maken." }
  ],
  'add-content-edit-mode': [
    { title: "Bewerkmodus toevoegen", text: "De oplichtende knop toont dat je in de 'inhoud toevoegen' modus bent." },
    { title: "Voeg paneel toe", text: "Dit is het 'inhoud toevoegen' paneel." },
    { title: "Inhoud kiezer", text: "Klik hier om te kiezen tussen het toevoegen van blokken, plakbord inhoud of stapel inhoud." },
    { title: "Blokken zoeken", text: "Je kunt de verschillende soorten inhoud eenvoudig filteren met het zoekveld." },
    { title: "Blokken toevoegen", text: "Klik en sleep blokken van het paneel naar de pagina om ze toe te voegen." }
  ],
  'change-content': [
    { title: "Bewerkmodus ingaan", text: "Klik eerst op de 'bewerk pagina' knop. Hierdoor kom je in de bewerk-modus voor deze pagina." }
  ],
  'add-content': [
    { title: "Bewerkmodus ingaan", text: "Klik op de 'inhoud toevoegen' knop om de pagina in bewerk-modus te zetten met het toevoeg paneel geopend." }
  ],
  'dashboard': [
    { title: "Dashboard Paneel", text: "Het 'dashboard' gebruik je om inhoud of instellingen voor de site te wijzigen die niet over 1 enkele pagina gaan. Klik op het schuifjes icoon." },
    { title: "Sitemap", text: "Via de sitemap kun je de paginastructuur van de site veranderen. Je kunt pagina's verwijderen en\/of pagina's naar een andere plek verslepen." }
  ],
  'location-panel': [
    { title: "Kies locatie", text: "Klik deze knop om de locatie van de pagina in de sitemap te kiezen. Wanneer je de pagina bewaard word de pagina naar die plek verplaatst." },
    { title: "Pagina URLs", text: "Beheer hier de URLs die gebruikt worden om toegang te krijgen tot je pagina. Niet-canonieke URLs zullen doorverwijzen naar je pagina; canonieke URLs kunnen zowel automatisch gegenereerd als overschreven worden. Subpagina\u2019s naar deze pagina starten standaard met canonieke URLs." }
  ],
  'personalize': [
    { title: "Eigenschappen paneel", text: "Via het eigenschappen paneel beheer je de kenmerken en details van de geopende pagina, inclusief ontwerp aanpassingen. Om het eigenschappen paneel te openen klik je op het tandwiel icoon." },
    { title: "Paginaontwerp", text: "Hiervandaan kun je het pagina sjabloon en de pagina stijlen aanpassen" },
    { title: "Aanpassen", text: "Klik hier om het website 'theme' aan te passen." }
  ],
  'toolbar': [
    { title: "Bewerkmodus", text: "Bewerk deze pagina door op het pen icoon te klikken." },
    { title: "Instellingen", text: "Wijzig het basisontwerp en opties als SEO en rechten. Verwijder hier de pagina of ga terug naar een eerdere versie." },
    { title: "Inhoud toevoegen", text: "Plaats een nieuw blok op de pagina. Kopieer een blok naar het plakboek of gebruik een algemeen blok; een stapel." },
    { title: "Intelligent zoeken", text: "De weg kwijt? Probeer hier te zoeken. Je kunt hier vandaan alles vinden van pagina's in je site tot instellingen en 'how-to' documentatie." },
    { title: "Pagina Toevoegen", text: "Voeg een nieuwe pagina toe of navigeer snel naar een andere pagina in de sitemap." },
    { title: "Dashboard", text: "Alles wat niet enkel voor deze pagina geldt, gebeurt hier. Gebruikersbeheer, bestandsbeheer, rapportages en algemene site instellingen." }
  ]
}


!function (a, b, c) { function d(a, b, c, d) { for (var e = [], f = 0; f < a.length; f++) { var g = a[f]; if (g) { var h = tinycolor(g), i = h.toHsl().l < .5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light"; i += tinycolor.equals(b, g) ? " sp-thumb-active" : ""; var j = h.toString(d || "rgb"), k = r ? "background-color:" + h.toRgbString() : "filter:" + h.toFilter(); e.push('<span title="' + j + '" data-color="' + h.toRgbString() + '" class="' + i + '"><span class="sp-thumb-inner" style="' + k + ';" /></span>') } else { var l = "sp-clear-display"; e.push('<span title="No Color Selected" data-color="" style="background-color:transparent;" class="' + l + '"></span>') } } return "<div class='sp-cf " + c + "'>" + e.join("") + "</div>" } function e() { for (var a = 0; a < p.length; a++)p[a] && p[a].hide() } function f(a, c) { var d = b.extend({}, o, a); return d.callbacks = { move: l(d.move, c), change: l(d.change, c), show: l(d.show, c), hide: l(d.hide, c), beforeShow: l(d.beforeShow, c) }, d } function g(g, j) { function l() { if (T.showPaletteOnly && (T.showPalette = !0), T.palette) { la = T.palette.slice(0), ma = b.isArray(la[0]) ? la : [la], na = {}; for (var a = 0; a < ma.length; a++)for (var c = 0; c < ma[a].length; c++) { var d = tinycolor(ma[a][c]).toRgbString(); na[d] = !0 } } va.toggleClass("sp-flat", U), va.toggleClass("sp-input-disabled", !T.showInput), va.toggleClass("sp-alpha-enabled", T.showAlpha), va.toggleClass("sp-clear-enabled", Va), va.toggleClass("sp-buttons-disabled", !T.showButtons), va.toggleClass("sp-palette-disabled", !T.showPalette), va.toggleClass("sp-palette-only", T.showPaletteOnly), va.toggleClass("sp-initial-disabled", !T.showInitial), va.addClass(T.className).addClass(T.containerClassName), O() } function o() { function a(a) { return a.data && a.data.ignore ? (H(b(this).data("color")), K()) : (H(b(this).data("color")), K(), N(!0), F()), !1 } if (q && va.find("*:not(input)").attr("unselectable", "on"), l(), La && ta.after(Ma).hide(), Va || Ha.hide(), U) ta.after(va).hide(); else { var c = "parent" === T.appendTo ? ta.parent() : b(T.appendTo); 1 !== c.length && (c = b("body")), c.append(va) } v(), Na.bind("click.spectrum touchstart.spectrum", function (a) { ua || D(), a.stopPropagation(), b(a.target).is("input") || a.preventDefault() }), (ta.is(":disabled") || T.disabled === !0) && S(), va.click(k), Da.change(C), Da.bind("paste", function () { setTimeout(C, 1) }), Da.keydown(function (a) { 13 == a.keyCode && C() }), Ga.text(T.cancelText), Ga.bind("click.spectrum", function (a) { a.stopPropagation(), a.preventDefault(), F("cancel") }), Ha.attr("title", T.clearText), Ha.bind("click.spectrum", function (a) { a.stopPropagation(), a.preventDefault(), Ua = !0, K(), U && N(!0) }), Ia.text(T.chooseText), Ia.bind("click.spectrum", function (a) { a.stopPropagation(), a.preventDefault(), J() && (N(!0), F()) }), m(Ba, function (a, b, c) { ka = a / ea, Ua = !1, c.shiftKey && (ka = Math.round(10 * ka) / 10), K() }, A, B), m(ya, function (a, b) { ha = parseFloat(b / ca), Ua = !1, T.showAlpha || (ka = 1), K() }, A, B), m(wa, function (a, b, c) { if (c.shiftKey) { if (!ra) { var d = ia * _, e = aa - ja * aa, f = Math.abs(a - d) > Math.abs(b - e); ra = f ? "x" : "y" } } else ra = null; var g = !ra || "x" === ra, h = !ra || "y" === ra; g && (ia = parseFloat(a / _)), h && (ja = parseFloat((aa - b) / aa)), Ua = !1, T.showAlpha || (ka = 1), K() }, A, B), Pa ? (H(Pa), L(), Sa = Ra || tinycolor(Pa).format, w(Pa)) : L(), U && E(); var d = q ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum"; Ea.delegate(".sp-thumb-el", d, a), Fa.delegate(".sp-thumb-el:nth-child(1)", d, { ignore: !0 }, a) } function v() { if (W && a.localStorage) { try { var c = a.localStorage[W].split(",#"); c.length > 1 && (delete a.localStorage[W], b.each(c, function (a, b) { w(b) })) } catch (d) { } try { oa = a.localStorage[W].split(";") } catch (d) { } } } function w(c) { if (V) { var d = tinycolor(c).toRgbString(); if (!na[d] && -1 === b.inArray(d, oa)) for (oa.push(d); oa.length > pa;)oa.shift(); if (W && a.localStorage) try { a.localStorage[W] = oa.join(";") } catch (e) { } } } function x() { var a = []; if (T.showPalette) for (i = 0; i < oa.length; i++) { var b = tinycolor(oa[i]).toRgbString(); na[b] || a.push(oa[i]) } return a.reverse().slice(0, T.maxSelectionSize) } function y() { var a = I(), c = b.map(ma, function (b, c) { return d(b, a, "sp-palette-row sp-palette-row-" + c, T.preferredFormat) }); v(), oa && c.push(d(x(), a, "sp-palette-row sp-palette-row-selection", T.preferredFormat)), Ea.html(c.join("")) } function z() { if (T.showInitial) { var a = Qa, b = I(); Fa.html(d([a, b], b, "sp-palette-row-initial", T.preferredFormat)) } } function A() { (0 >= aa || 0 >= _ || 0 >= ca) && O(), va.addClass(qa), ra = null, ta.trigger("dragstart.spectrum", [I()]) } function B() { va.removeClass(qa), ta.trigger("dragstop.spectrum", [I()]) } function C() { var a = Da.val(); if (null !== a && "" !== a || !Va) { var b = tinycolor(a); b.ok ? (H(b), N(!0)) : Da.addClass("sp-validation-error") } else H(null), N(!0) } function D() { $ ? F() : E() } function E() { var c = b.Event("beforeShow.spectrum"); return $ ? void O() : (ta.trigger(c, [I()]), void (Y.beforeShow(I()) === !1 || c.isDefaultPrevented() || (e(), $ = !0, b(sa).bind("click.spectrum", F), b(a).bind("resize.spectrum", Z), Ma.addClass("sp-active"), va.removeClass("sp-hidden"), O(), L(), Qa = I(), z(), Y.show(Qa), ta.trigger("show.spectrum", [Qa])))) } function F(c) { if ((!c || "click" != c.type || 2 != c.button) && $ && !U) { $ = !1, b(sa).unbind("click.spectrum", F), b(a).unbind("resize.spectrum", Z), Ma.removeClass("sp-active"), va.addClass("sp-hidden"); var d = !tinycolor.equals(I(), Qa); d && (Ta && "cancel" !== c ? N(!0) : G()), Y.hide(I()), ta.trigger("hide.spectrum", [I()]) } } function G() { H(Qa, !0) } function H(a, b) { if (tinycolor.equals(a, I())) return void L(); var c, d; !a && Va ? Ua = !0 : (Ua = !1, c = tinycolor(a), d = c.toHsv(), ha = d.h % 360 / 360, ia = d.s, ja = d.v, ka = d.a), L(), c && c.ok && !b && (Sa = Ra || c.format) } function I(a) { return a = a || {}, Va && Ua ? null : tinycolor.fromRatio({ h: ha, s: ia, v: ja, a: Math.round(100 * ka) / 100 }, { format: a.format || Sa }) } function J() { return !Da.hasClass("sp-validation-error") } function K() { L(), Y.move(I()), ta.trigger("move.spectrum", [I()]) } function L() { Da.removeClass("sp-validation-error"), M(); var a = tinycolor.fromRatio({ h: ha, s: 1, v: 1 }); wa.css("background-color", a.toHexString()); var b = Sa; 1 > ka && (0 !== ka || "name" !== b) && ("hex" === b || "hex3" === b || "hex6" === b || "name" === b) && (b = "rgb"); var c = I({ format: b }), d = ""; if (Oa.removeClass("sp-clear-display"), Oa.css("background-color", "transparent"), !c && Va) Oa.addClass("sp-clear-display"); else { var e = c.toHexString(), f = c.toRgbString(); if (r || 1 === c.alpha ? Oa.css("background-color", f) : (Oa.css("background-color", "transparent"), Oa.css("filter", c.toFilter())), T.showAlpha) { var g = c.toRgb(); g.a = 0; var h = tinycolor(g).toRgbString(), i = "linear-gradient(left, " + h + ", " + e + ")"; q ? Aa.css("filter", tinycolor(h).toFilter({ gradientType: 1 }, e)) : (Aa.css("background", "-webkit-" + i), Aa.css("background", "-moz-" + i), Aa.css("background", "-ms-" + i), Aa.css("background", "linear-gradient(to right, " + h + ", " + e + ")")) } d = c.toString(b) } T.showInput && Da.val(d), T.showPalette && y(), z() } function M() { var a = ia, b = ja; if (Va && Ua) Ca.hide(), za.hide(), xa.hide(); else { Ca.show(), za.show(), xa.show(); var c = a * _, d = aa - b * aa; c = Math.max(-ba, Math.min(_ - ba, c - ba)), d = Math.max(-ba, Math.min(aa - ba, d - ba)), xa.css({ top: d + "px", left: c + "px" }); var e = ka * ea; Ca.css({ left: e - fa / 2 + "px" }); var f = ha * ca; za.css({ top: f - ga + "px" }) } } function N(a) { var b = I(), c = "", d = !tinycolor.equals(b, Qa); b && (c = b.toString(Sa), w(b)), Ja && ta.val(c), Qa = b, a && d && (Y.change(b), ta.trigger("change", [b])) } function O() { _ = wa.width(), aa = wa.height(), ba = xa.height(), da = ya.width(), ca = ya.height(), ga = za.height(), ea = Ba.width(), fa = Ca.width(), U || (va.css("position", "absolute"), va.offset(h(va, Na))), M(), T.showPalette && y(), ta.trigger("reflow.spectrum") } function P() { ta.show(), Na.unbind("click.spectrum touchstart.spectrum"), va.remove(), Ma.remove(), p[Wa.id] = null } function Q(a, d) { return a === c ? b.extend({}, T) : d === c ? T[a] : (T[a] = d, void l()) } function R() { ua = !1, ta.attr("disabled", !1), Na.removeClass("sp-disabled") } function S() { F(), ua = !0, ta.attr("disabled", !0), Na.addClass("sp-disabled") } var T = f(j, g), U = T.flat, V = T.showSelectionPalette, W = T.localStorageKey, X = T.theme, Y = T.callbacks, Z = n(O, 10), $ = !1, _ = 0, aa = 0, ba = 0, ca = 0, da = 0, ea = 0, fa = 0, ga = 0, ha = 0, ia = 0, ja = 0, ka = 1, la = [], ma = [], na = {}, oa = T.selectionPalette.slice(0), pa = T.maxSelectionSize, qa = "sp-dragging", ra = null, sa = g.ownerDocument, ta = (sa.body, b(g)), ua = !1, va = b(u, sa).addClass(X), wa = va.find(".sp-color"), xa = va.find(".sp-dragger"), ya = va.find(".sp-hue"), za = va.find(".sp-slider"), Aa = va.find(".sp-alpha-inner"), Ba = va.find(".sp-alpha"), Ca = va.find(".sp-alpha-handle"), Da = va.find(".sp-input"), Ea = va.find(".sp-palette"), Fa = va.find(".sp-initial"), Ga = va.find(".sp-cancel"), Ha = va.find(".sp-clear"), Ia = va.find(".sp-choose"), Ja = ta.is("input"), Ka = Ja && s && "color" === ta.attr("type"), La = Ja && !U, Ma = La ? b(t).addClass(X).addClass(T.className).addClass(T.replacerClassName) : b([]), Na = La ? Ma : ta, Oa = Ma.find(".sp-preview-inner"), Pa = T.color || Ja && ta.val(), Qa = !1, Ra = T.preferredFormat, Sa = Ra, Ta = !T.showButtons || T.clickoutFiresChange, Ua = !Pa, Va = T.allowEmpty && !Ka; o(); var Wa = { show: E, hide: F, toggle: D, reflow: O, option: Q, enable: R, disable: S, set: function (a) { H(a), N() }, get: I, destroy: P, container: va }; return Wa.id = p.push(Wa) - 1, Wa } function h(a, c) { var d = 0, e = a.outerWidth(), f = a.outerHeight(), g = c.outerHeight(), h = a[0].ownerDocument, i = h.documentElement, j = i.clientWidth + b(h).scrollLeft(), k = i.clientHeight + b(h).scrollTop(), l = c.offset(); return l.top += g, l.left -= Math.min(l.left, l.left + e > j && j > e ? Math.abs(l.left + e - j) : 0), l.top -= Math.min(l.top, l.top + f > k && k > f ? Math.abs(f + g - d) : d), l } function j() { } function k(a) { a.stopPropagation() } function l(a, b) { var c = Array.prototype.slice, d = c.call(arguments, 2); return function () { return a.apply(b, d.concat(c.call(arguments))) } } function m(c, d, e, f) { function g(a) { a.stopPropagation && a.stopPropagation(), a.preventDefault && a.preventDefault(), a.returnValue = !1 } function h(a) { if (l) { if (q && document.documentMode < 9 && !a.button) return j(); var b = a.originalEvent.touches, e = b ? b[0].pageX : a.pageX, f = b ? b[0].pageY : a.pageY, h = Math.max(0, Math.min(e - m.left, o)), i = Math.max(0, Math.min(f - m.top, n)); p && g(a), d.apply(c, [h, i, a]) } } function i(a) { var d = a.which ? 3 == a.which : 2 == a.button; a.originalEvent.touches; d || l || e.apply(c, arguments) !== !1 && (l = !0, n = b(c).height(), o = b(c).width(), m = b(c).offset(), b(k).bind(r), b(k.body).addClass("sp-dragging"), p || h(a), g(a)) } function j() { l && (b(k).unbind(r), b(k.body).removeClass("sp-dragging"), f.apply(c, arguments)), l = !1 } d = d || function () { }, e = e || function () { }, f = f || function () { }; var k = c.ownerDocument || document, l = !1, m = {}, n = 0, o = 0, p = "ontouchstart" in a, r = {}; r.selectstart = g, r.dragstart = g, r["touchmove mousemove"] = h, r["touchend mouseup"] = j, b(c).bind("touchstart mousedown", i) } function n(a, b, c) { var d; return function () { var e = this, f = arguments, g = function () { d = null, a.apply(e, f) }; c && clearTimeout(d), (c || !d) && (d = setTimeout(g, b)) } } var o = { beforeShow: j, move: j, change: j, show: j, hide: j, color: !1, flat: !1, showInput: !1, allowEmpty: !1, showButtons: !0, clickoutFiresChange: !1, showInitial: !1, showPalette: !1, showPaletteOnly: !1, showSelectionPalette: !0, localStorageKey: !1, appendTo: "body", maxSelectionSize: 7, cancelText: "cancel", chooseText: "choose", clearText: "Clear Color Selection", preferredFormat: !1, className: "", containerClassName: "", replacerClassName: "", showAlpha: !1, theme: "sp-light", palette: [["#ffffff", "#000000", "#ff0000", "#ff8000", "#ffff00", "#008000", "#0000ff", "#4b0082", "#9400d3"]], selectionPalette: [], disabled: !1 }, p = [], q = !!/msie/i.exec(a.navigator.userAgent), r = function () { function a(a, b) { return !!~("" + a).indexOf(b) } var b = document.createElement("div"), c = b.style; return c.cssText = "background-color:rgba(0,0,0,.5)", a(c.backgroundColor, "rgba") || a(c.backgroundColor, "hsla") }(), s = function () { var a = b("<input type='color' value='!' />")[0]; return "color" === a.type && "!" !== a.value }(), t = ["<div class='sp-replacer'>", "<div class='sp-preview'><div class='sp-preview-inner'></div></div>", "<div class='sp-dd'>&#9660;</div>", "</div>"].join(""), u = function () { var a = ""; if (q) for (var b = 1; 6 >= b; b++)a += "<div class='sp-" + b + "'></div>"; return ["<div class='sp-container sp-hidden'>", "<div class='sp-palette-container'>", "<div class='sp-palette sp-thumb sp-cf'></div>", "</div>", "<div class='sp-picker-container'>", "<div class='sp-top sp-cf'>", "<div class='sp-fill'></div>", "<div class='sp-top-inner'>", "<div class='sp-color'>", "<div class='sp-sat'>", "<div class='sp-val'>", "<div class='sp-dragger'></div>", "</div>", "</div>", "</div>", "<div class='sp-clear sp-clear-display'>", "</div>", "<div class='sp-hue'>", "<div class='sp-slider'></div>", a, "</div>", "</div>", "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>", "</div>", "<div class='sp-input-container sp-cf'>", "<input class='sp-input' type='text' spellcheck='false'  />", "</div>", "<div class='sp-initial sp-thumb sp-cf'></div>", "<div class='sp-button-container sp-cf'>", "<a class='sp-cancel' href='#'></a>", "<button type='button' class='sp-choose'></button>", "</div>", "</div>", "</div>"].join("") }(), v = "spectrum.id"; b.fn.spectrum = function (a, c) { if ("string" == typeof a) { var d = this, e = Array.prototype.slice.call(arguments, 1); return this.each(function () { var c = p[b(this).data(v)]; if (c) { var f = c[a]; if (!f) throw new Error("Spectrum: no such method: '" + a + "'"); "get" == a ? d = c.get() : "container" == a ? d = c.container : "option" == a ? d = c.option.apply(c, e) : "destroy" == a ? (c.destroy(), b(this).removeData(v)) : f.apply(c, e) } }), d } return this.spectrum("destroy").each(function () { var c = b.extend({}, a, b(this).data()), d = g(this, c); b(this).data(v, d.id) }) }, b.fn.spectrum.load = !0, b.fn.spectrum.loadOpts = {}, b.fn.spectrum.draggable = m, b.fn.spectrum.defaults = o, b.spectrum = {}, b.spectrum.localization = {}, b.spectrum.palettes = {}, b.fn.spectrum.processNativeColorInputs = function () { s || b("input[type=color]").spectrum({ preferredFormat: "hex6" }) }, function () { function b(a, d) { if (a = a ? a : "", d = d || {}, "object" == typeof a && a.hasOwnProperty("_tc_id")) return a; var f = c(a), h = f.r, k = f.g, n = f.b, o = f.a, p = A(100 * o) / 100, q = d.format || f.format; return 1 > h && (h = A(h)), 1 > k && (k = A(k)), 1 > n && (n = A(n)), { ok: f.ok, format: q, _tc_id: y++, alpha: o, getAlpha: function () { return o }, setAlpha: function (a) { o = l(a), p = A(100 * o) / 100 }, toHsv: function () { var a = g(h, k, n); return { h: 360 * a.h, s: a.s, v: a.v, a: o } }, toHsvString: function () { var a = g(h, k, n), b = A(360 * a.h), c = A(100 * a.s), d = A(100 * a.v); return 1 == o ? "hsv(" + b + ", " + c + "%, " + d + "%)" : "hsva(" + b + ", " + c + "%, " + d + "%, " + p + ")" }, toHsl: function () { var a = e(h, k, n); return { h: 360 * a.h, s: a.s, l: a.l, a: o } }, toHslString: function () { var a = e(h, k, n), b = A(360 * a.h), c = A(100 * a.s), d = A(100 * a.l); return 1 == o ? "hsl(" + b + ", " + c + "%, " + d + "%)" : "hsla(" + b + ", " + c + "%, " + d + "%, " + p + ")" }, toHex: function (a) { return i(h, k, n, a) }, toHexString: function (a) { return "#" + this.toHex(a) }, toHex8: function () { return j(h, k, n, o) }, toHex8String: function () { return "#" + this.toHex8() }, toRgb: function () { return { r: A(h), g: A(k), b: A(n), a: o } }, toRgbString: function () { return 1 == o ? "rgb(" + A(h) + ", " + A(k) + ", " + A(n) + ")" : "rgba(" + A(h) + ", " + A(k) + ", " + A(n) + ", " + p + ")" }, toPercentageRgb: function () { return { r: A(100 * m(h, 255)) + "%", g: A(100 * m(k, 255)) + "%", b: A(100 * m(n, 255)) + "%", a: o } }, toPercentageRgbString: function () { return 1 == o ? "rgb(" + A(100 * m(h, 255)) + "%, " + A(100 * m(k, 255)) + "%, " + A(100 * m(n, 255)) + "%)" : "rgba(" + A(100 * m(h, 255)) + "%, " + A(100 * m(k, 255)) + "%, " + A(100 * m(n, 255)) + "%, " + p + ")" }, toName: function () { return 0 === o ? "transparent" : F[i(h, k, n, !0)] || !1 }, toFilter: function (a) { var c = "#" + j(h, k, n, o), e = c, f = d && d.gradientType ? "GradientType = 1, " : ""; if (a) { var g = b(a); e = g.toHex8String() } return "progid:DXImageTransform.Microsoft.gradient(" + f + "startColorstr=" + c + ",endColorstr=" + e + ")" }, toString: function (a) { var b = !!a; a = a || this.format; var c = !1, d = !b && 1 > o && o > 0, e = d && ("hex" === a || "hex6" === a || "hex3" === a || "name" === a); return "rgb" === a && (c = this.toRgbString()), "prgb" === a && (c = this.toPercentageRgbString()), ("hex" === a || "hex6" === a) && (c = this.toHexString()), "hex3" === a && (c = this.toHexString(!0)), "hex8" === a && (c = this.toHex8String()), "name" === a && (c = this.toName()), "hsl" === a && (c = this.toHslString()), "hsv" === a && (c = this.toHsvString()), e ? this.toRgbString() : c || this.toHexString() } } } function c(a) { var b = { r: 0, g: 0, b: 0 }, c = 1, e = !1, g = !1; return "string" == typeof a && (a = v(a)), "object" == typeof a && (a.hasOwnProperty("r") && a.hasOwnProperty("g") && a.hasOwnProperty("b") ? (b = d(a.r, a.g, a.b), e = !0, g = "%" === String(a.r).substr(-1) ? "prgb" : "rgb") : a.hasOwnProperty("h") && a.hasOwnProperty("s") && a.hasOwnProperty("v") ? (a.s = s(a.s), a.v = s(a.v), b = h(a.h, a.s, a.v), e = !0, g = "hsv") : a.hasOwnProperty("h") && a.hasOwnProperty("s") && a.hasOwnProperty("l") && (a.s = s(a.s), a.l = s(a.l), b = f(a.h, a.s, a.l), e = !0, g = "hsl"), a.hasOwnProperty("a") && (c = a.a)), c = l(c), { ok: e, format: a.format || g, r: B(255, C(b.r, 0)), g: B(255, C(b.g, 0)), b: B(255, C(b.b, 0)), a: c } } function d(a, b, c) { return { r: 255 * m(a, 255), g: 255 * m(b, 255), b: 255 * m(c, 255) } } function e(a, b, c) { a = m(a, 255), b = m(b, 255), c = m(c, 255); var d, e, f = C(a, b, c), g = B(a, b, c), h = (f + g) / 2; if (f == g) d = e = 0; else { var i = f - g; switch (e = h > .5 ? i / (2 - f - g) : i / (f + g), f) { case a: d = (b - c) / i + (c > b ? 6 : 0); break; case b: d = (c - a) / i + 2; break; case c: d = (a - b) / i + 4 }d /= 6 } return { h: d, s: e, l: h } } function f(a, b, c) { function d(a, b, c) { return 0 > c && (c += 1), c > 1 && (c -= 1), 1 / 6 > c ? a + 6 * (b - a) * c : .5 > c ? b : 2 / 3 > c ? a + (b - a) * (2 / 3 - c) * 6 : a } var e, f, g; if (a = m(a, 360), b = m(b, 100), c = m(c, 100), 0 === b) e = f = g = c; else { var h = .5 > c ? c * (1 + b) : c + b - c * b, i = 2 * c - h; e = d(i, h, a + 1 / 3), f = d(i, h, a), g = d(i, h, a - 1 / 3) } return { r: 255 * e, g: 255 * f, b: 255 * g } } function g(a, b, c) { a = m(a, 255), b = m(b, 255), c = m(c, 255); var d, e, f = C(a, b, c), g = B(a, b, c), h = f, i = f - g; if (e = 0 === f ? 0 : i / f, f == g) d = 0; else { switch (f) { case a: d = (b - c) / i + (c > b ? 6 : 0); break; case b: d = (c - a) / i + 2; break; case c: d = (a - b) / i + 4 }d /= 6 } return { h: d, s: e, v: h } } function h(a, b, c) { a = 6 * m(a, 360), b = m(b, 100), c = m(c, 100); var d = z.floor(a), e = a - d, f = c * (1 - b), g = c * (1 - e * b), h = c * (1 - (1 - e) * b), i = d % 6, j = [c, g, f, f, h, c][i], k = [h, c, c, g, f, f][i], l = [f, f, h, c, c, g][i]; return { r: 255 * j, g: 255 * k, b: 255 * l } } function i(a, b, c, d) { var e = [r(A(a).toString(16)), r(A(b).toString(16)), r(A(c).toString(16))]; return d && e[0].charAt(0) == e[0].charAt(1) && e[1].charAt(0) == e[1].charAt(1) && e[2].charAt(0) == e[2].charAt(1) ? e[0].charAt(0) + e[1].charAt(0) + e[2].charAt(0) : e.join("") } function j(a, b, c, d) { var e = [r(t(d)), r(A(a).toString(16)), r(A(b).toString(16)), r(A(c).toString(16))]; return e.join("") } function k(a) { var b = {}; for (var c in a) a.hasOwnProperty(c) && (b[a[c]] = c); return b } function l(a) { return a = parseFloat(a), (isNaN(a) || 0 > a || a > 1) && (a = 1), a } function m(a, b) { p(a) && (a = "100%"); var c = q(a); return a = B(b, C(0, parseFloat(a))), c && (a = parseInt(a * b, 10) / 100), z.abs(a - b) < 1e-6 ? 1 : a % b / parseFloat(b) } function n(a) { return B(1, C(0, a)) } function o(a) { return parseInt(a, 16) } function p(a) { return "string" == typeof a && -1 != a.indexOf(".") && 1 === parseFloat(a) } function q(a) { return "string" == typeof a && -1 != a.indexOf("%") } function r(a) { return 1 == a.length ? "0" + a : "" + a } function s(a) { return 1 >= a && (a = 100 * a + "%"), a } function t(a) { return Math.round(255 * parseFloat(a)).toString(16) } function u(a) { return o(a) / 255 } function v(a) { a = a.replace(w, "").replace(x, "").toLowerCase(); var b = !1; if (E[a]) a = E[a], b = !0; else if ("transparent" == a) return { r: 0, g: 0, b: 0, a: 0, format: "name" }; var c; return (c = G.rgb.exec(a)) ? { r: c[1], g: c[2], b: c[3] } : (c = G.rgba.exec(a)) ? { r: c[1], g: c[2], b: c[3], a: c[4] } : (c = G.hsl.exec(a)) ? { h: c[1], s: c[2], l: c[3] } : (c = G.hsla.exec(a)) ? { h: c[1], s: c[2], l: c[3], a: c[4] } : (c = G.hsv.exec(a)) ? { h: c[1], s: c[2], v: c[3] } : (c = G.hex8.exec(a)) ? { a: u(c[1]), r: o(c[2]), g: o(c[3]), b: o(c[4]), format: b ? "name" : "hex8" } : (c = G.hex6.exec(a)) ? { r: o(c[1]), g: o(c[2]), b: o(c[3]), format: b ? "name" : "hex" } : (c = G.hex3.exec(a)) ? { r: o(c[1] + "" + c[1]), g: o(c[2] + "" + c[2]), b: o(c[3] + "" + c[3]), format: b ? "name" : "hex" } : !1 } var w = /^[\s,#]+/, x = /\s+$/, y = 0, z = Math, A = z.round, B = z.min, C = z.max, D = z.random; b.fromRatio = function (a, c) { if ("object" == typeof a) { var d = {}; for (var e in a) a.hasOwnProperty(e) && ("a" === e ? d[e] = a[e] : d[e] = s(a[e])); a = d } return b(a, c) }, b.equals = function (a, c) { return a && c ? b(a).toRgbString() == b(c).toRgbString() : !1 }, b.random = function () { return b.fromRatio({ r: D(), g: D(), b: D() }) }, b.desaturate = function (a, c) { c = 0 === c ? 0 : c || 10; var d = b(a).toHsl(); return d.s -= c / 100, d.s = n(d.s), b(d) }, b.saturate = function (a, c) { c = 0 === c ? 0 : c || 10; var d = b(a).toHsl(); return d.s += c / 100, d.s = n(d.s), b(d) }, b.greyscale = function (a) { return b.desaturate(a, 100) }, b.lighten = function (a, c) { c = 0 === c ? 0 : c || 10; var d = b(a).toHsl(); return d.l += c / 100, d.l = n(d.l), b(d) }, b.darken = function (a, c) { c = 0 === c ? 0 : c || 10; var d = b(a).toHsl(); return d.l -= c / 100, d.l = n(d.l), b(d) }, b.complement = function (a) { var c = b(a).toHsl(); return c.h = (c.h + 180) % 360, b(c) }, b.triad = function (a) { var c = b(a).toHsl(), d = c.h; return [b(a), b({ h: (d + 120) % 360, s: c.s, l: c.l }), b({ h: (d + 240) % 360, s: c.s, l: c.l })] }, b.tetrad = function (a) { var c = b(a).toHsl(), d = c.h; return [b(a), b({ h: (d + 90) % 360, s: c.s, l: c.l }), b({ h: (d + 180) % 360, s: c.s, l: c.l }), b({ h: (d + 270) % 360, s: c.s, l: c.l })] }, b.splitcomplement = function (a) { var c = b(a).toHsl(), d = c.h; return [b(a), b({ h: (d + 72) % 360, s: c.s, l: c.l }), b({ h: (d + 216) % 360, s: c.s, l: c.l })] }, b.analogous = function (a, c, d) { c = c || 6, d = d || 30; var e = b(a).toHsl(), f = 360 / d, g = [b(a)]; for (e.h = (e.h - (f * c >> 1) + 720) % 360; --c;)e.h = (e.h + f) % 360, g.push(b(e)); return g }, b.monochromatic = function (a, c) { c = c || 6; for (var d = b(a).toHsv(), e = d.h, f = d.s, g = d.v, h = [], i = 1 / c; c--;)h.push(b({ h: e, s: f, v: g })), g = (g + i) % 1; return h }, b.readability = function (a, c) { var d = b(a).toRgb(), e = b(c).toRgb(), f = (299 * d.r + 587 * d.g + 114 * d.b) / 1e3, g = (299 * e.r + 587 * e.g + 114 * e.b) / 1e3, h = Math.max(d.r, e.r) - Math.min(d.r, e.r) + Math.max(d.g, e.g) - Math.min(d.g, e.g) + Math.max(d.b, e.b) - Math.min(d.b, e.b); return { brightness: Math.abs(f - g), color: h } }, b.readable = function (a, c) { var d = b.readability(a, c); return d.brightness > 125 && d.color > 500 }, b.mostReadable = function (a, c) { for (var d = null, e = 0, f = !1, g = 0; g < c.length; g++) { var h = b.readability(a, c[g]), i = h.brightness > 125 && h.color > 500, j = 3 * (h.brightness / 125) + h.color / 500; (i && !f || i && f && j > e || !i && !f && j > e) && (f = i, e = j, d = b(c[g])) } return d }; var E = b.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, F = b.hexNames = k(E), G = function () { var a = "[-\\+]?\\d+%?", b = "[-\\+]?\\d*\\.\\d+%?", c = "(?:" + b + ")|(?:" + a + ")", d = "[\\s|\\(]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")\\s*\\)?", e = "[\\s|\\(]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")\\s*\\)?"; return { rgb: new RegExp("rgb" + d), rgba: new RegExp("rgba" + e), hsl: new RegExp("hsl" + d), hsla: new RegExp("hsla" + e), hsv: new RegExp("hsv" + d), hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ } }(); a.tinycolor = b }(), b(function () { b.fn.spectrum.load && b.fn.spectrum.processNativeColorInputs() }) }(window, jQuery);

!function (a, b) { if ("function" == typeof define && define.amd) define(["underscore", "jquery", "exports"], function (c, d, e) { a.Backbone = b(a, e, c, d) }); else if ("undefined" != typeof exports) { var c = require("underscore"); b(a, exports, c) } else a.Backbone = b(a, {}, a._, a.jQuery || a.Zepto || a.ender || a.$) }(this, function (a, b, c, d) { var e = a.Backbone, f = [], g = (f.push, f.slice); f.splice; b.VERSION = "1.1.2", b.$ = d, b.noConflict = function () { return a.Backbone = e, this }, b.emulateHTTP = !1, b.emulateJSON = !1; var h = b.Events = { on: function (a, b, c) { if (!j(this, "on", a, [b, c]) || !b) return this; this._events || (this._events = {}); var d = this._events[a] || (this._events[a] = []); return d.push({ callback: b, context: c, ctx: c || this }), this }, once: function (a, b, d) { if (!j(this, "once", a, [b, d]) || !b) return this; var e = this, f = c.once(function () { e.off(a, f), b.apply(this, arguments) }); return f._callback = b, this.on(a, f, d) }, off: function (a, b, d) { var e, f, g, h, i, k, l, m; if (!this._events || !j(this, "off", a, [b, d])) return this; if (!a && !b && !d) return this._events = void 0, this; for (h = a ? [a] : c.keys(this._events), i = 0, k = h.length; k > i; i++)if (a = h[i], g = this._events[a]) { if (this._events[a] = e = [], b || d) for (l = 0, m = g.length; m > l; l++)f = g[l], (b && b !== f.callback && b !== f.callback._callback || d && d !== f.context) && e.push(f); e.length || delete this._events[a] } return this }, trigger: function (a) { if (!this._events) return this; var b = g.call(arguments, 1); if (!j(this, "trigger", a, b)) return this; var c = this._events[a], d = this._events.all; return c && k(c, b), d && k(d, arguments), this }, stopListening: function (a, b, d) { var e = this._listeningTo; if (!e) return this; var f = !b && !d; d || "object" != typeof b || (d = this), a && ((e = {})[a._listenId] = a); for (var g in e) a = e[g], a.off(b, d, this), (f || c.isEmpty(a._events)) && delete this._listeningTo[g]; return this } }, i = /\s+/, j = function (a, b, c, d) { if (!c) return !0; if ("object" == typeof c) { for (var e in c) a[b].apply(a, [e, c[e]].concat(d)); return !1 } if (i.test(c)) { for (var f = c.split(i), g = 0, h = f.length; h > g; g++)a[b].apply(a, [f[g]].concat(d)); return !1 } return !0 }, k = function (a, b) { var c, d = -1, e = a.length, f = b[0], g = b[1], h = b[2]; switch (b.length) { case 0: for (; ++d < e;)(c = a[d]).callback.call(c.ctx); return; case 1: for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f); return; case 2: for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f, g); return; case 3: for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f, g, h); return; default: for (; ++d < e;)(c = a[d]).callback.apply(c.ctx, b); return } }, l = { listenTo: "on", listenToOnce: "once" }; c.each(l, function (a, b) { h[b] = function (b, d, e) { var f = this._listeningTo || (this._listeningTo = {}), g = b._listenId || (b._listenId = c.uniqueId("l")); return f[g] = b, e || "object" != typeof d || (e = this), b[a](d, e, this), this } }), h.bind = h.on, h.unbind = h.off, c.extend(b, h); var m = b.Model = function (a, b) { var d = a || {}; b || (b = {}), this.cid = c.uniqueId("c"), this.attributes = {}, b.collection && (this.collection = b.collection), b.parse && (d = this.parse(d, b) || {}), d = c.defaults({}, d, c.result(this, "defaults")), this.set(d, b), this.changed = {}, this.initialize.apply(this, arguments) }; c.extend(m.prototype, h, { changed: null, validationError: null, idAttribute: "id", initialize: function () { }, toJSON: function (a) { return c.clone(this.attributes) }, sync: function () { return b.sync.apply(this, arguments) }, get: function (a) { return this.attributes[a] }, escape: function (a) { return c.escape(this.get(a)) }, has: function (a) { return null != this.get(a) }, set: function (a, b, d) { var e, f, g, h, i, j, k, l; if (null == a) return this; if ("object" == typeof a ? (f = a, d = b) : (f = {})[a] = b, d || (d = {}), !this._validate(f, d)) return !1; g = d.unset, i = d.silent, h = [], j = this._changing, this._changing = !0, j || (this._previousAttributes = c.clone(this.attributes), this.changed = {}), l = this.attributes, k = this._previousAttributes, this.idAttribute in f && (this.id = f[this.idAttribute]); for (e in f) b = f[e], c.isEqual(l[e], b) || h.push(e), c.isEqual(k[e], b) ? delete this.changed[e] : this.changed[e] = b, g ? delete l[e] : l[e] = b; if (!i) { h.length && (this._pending = d); for (var m = 0, n = h.length; n > m; m++)this.trigger("change:" + h[m], this, l[h[m]], d) } if (j) return this; if (!i) for (; this._pending;)d = this._pending, this._pending = !1, this.trigger("change", this, d); return this._pending = !1, this._changing = !1, this }, unset: function (a, b) { return this.set(a, void 0, c.extend({}, b, { unset: !0 })) }, clear: function (a) { var b = {}; for (var d in this.attributes) b[d] = void 0; return this.set(b, c.extend({}, a, { unset: !0 })) }, hasChanged: function (a) { return null == a ? !c.isEmpty(this.changed) : c.has(this.changed, a) }, changedAttributes: function (a) { if (!a) return this.hasChanged() ? c.clone(this.changed) : !1; var b, d = !1, e = this._changing ? this._previousAttributes : this.attributes; for (var f in a) c.isEqual(e[f], b = a[f]) || ((d || (d = {}))[f] = b); return d }, previous: function (a) { return null != a && this._previousAttributes ? this._previousAttributes[a] : null }, previousAttributes: function () { return c.clone(this._previousAttributes) }, fetch: function (a) { a = a ? c.clone(a) : {}, void 0 === a.parse && (a.parse = !0); var b = this, d = a.success; return a.success = function (c) { return b.set(b.parse(c, a), a) ? (d && d(b, c, a), void b.trigger("sync", b, c, a)) : !1 }, L(this, a), this.sync("read", this, a) }, save: function (a, b, d) { var e, f, g, h = this.attributes; if (null == a || "object" == typeof a ? (e = a, d = b) : (e = {})[a] = b, d = c.extend({ validate: !0 }, d), e && !d.wait) { if (!this.set(e, d)) return !1 } else if (!this._validate(e, d)) return !1; e && d.wait && (this.attributes = c.extend({}, h, e)), void 0 === d.parse && (d.parse = !0); var i = this, j = d.success; return d.success = function (a) { i.attributes = h; var b = i.parse(a, d); return d.wait && (b = c.extend(e || {}, b)), c.isObject(b) && !i.set(b, d) ? !1 : (j && j(i, a, d), void i.trigger("sync", i, a, d)) }, L(this, d), f = this.isNew() ? "create" : d.patch ? "patch" : "update", "patch" === f && (d.attrs = e), g = this.sync(f, this, d), e && d.wait && (this.attributes = h), g }, destroy: function (a) { a = a ? c.clone(a) : {}; var b = this, d = a.success, e = function () { b.trigger("destroy", b, b.collection, a) }; if (a.success = function (c) { (a.wait || b.isNew()) && e(), d && d(b, c, a), b.isNew() || b.trigger("sync", b, c, a) }, this.isNew()) return a.success(), !1; L(this, a); var f = this.sync("delete", this, a); return a.wait || e(), f }, url: function () { var a = c.result(this, "urlRoot") || c.result(this.collection, "url") || K(); return this.isNew() ? a : a.replace(/([^\/])$/, "$1/") + encodeURIComponent(this.id) }, parse: function (a, b) { return a }, clone: function () { return new this.constructor(this.attributes) }, isNew: function () { return !this.has(this.idAttribute) }, isValid: function (a) { return this._validate({}, c.extend(a || {}, { validate: !0 })) }, _validate: function (a, b) { if (!b.validate || !this.validate) return !0; a = c.extend({}, this.attributes, a); var d = this.validationError = this.validate(a, b) || null; return d ? (this.trigger("invalid", this, d, c.extend(b, { validationError: d })), !1) : !0 } }); var n = ["keys", "values", "pairs", "invert", "pick", "omit"]; c.each(n, function (a) { m.prototype[a] = function () { var b = g.call(arguments); return b.unshift(this.attributes), c[a].apply(c, b) } }); var o = b.Collection = function (a, b) { b || (b = {}), b.model && (this.model = b.model), void 0 !== b.comparator && (this.comparator = b.comparator), this._reset(), this.initialize.apply(this, arguments), a && this.reset(a, c.extend({ silent: !0 }, b)) }, p = { add: !0, remove: !0, merge: !0 }, q = { add: !0, remove: !1 }; c.extend(o.prototype, h, { model: m, initialize: function () { }, toJSON: function (a) { return this.map(function (b) { return b.toJSON(a) }) }, sync: function () { return b.sync.apply(this, arguments) }, add: function (a, b) { return this.set(a, c.extend({ merge: !1 }, b, q)) }, remove: function (a, b) { var d = !c.isArray(a); a = d ? [a] : c.clone(a), b || (b = {}); var e, f, g, h; for (e = 0, f = a.length; f > e; e++)h = a[e] = this.get(a[e]), h && (delete this._byId[h.id], delete this._byId[h.cid], g = this.indexOf(h), this.models.splice(g, 1), this.length--, b.silent || (b.index = g, h.trigger("remove", h, this, b)), this._removeReference(h, b)); return d ? a[0] : a }, set: function (a, b) { b = c.defaults({}, b, p), b.parse && (a = this.parse(a, b)); var d = !c.isArray(a); a = d ? a ? [a] : [] : c.clone(a); var e, f, g, h, i, j, k, l = b.at, n = this.model, o = this.comparator && null == l && b.sort !== !1, q = c.isString(this.comparator) ? this.comparator : null, r = [], s = [], t = {}, u = b.add, v = b.merge, w = b.remove, x = !o && u && w ? [] : !1; for (e = 0, f = a.length; f > e; e++) { if (i = a[e] || {}, g = i instanceof m ? h = i : i[n.prototype.idAttribute || "id"], j = this.get(g)) w && (t[j.cid] = !0), v && (i = i === h ? h.attributes : i, b.parse && (i = j.parse(i, b)), j.set(i, b), o && !k && j.hasChanged(q) && (k = !0)), a[e] = j; else if (u) { if (h = a[e] = this._prepareModel(i, b), !h) continue; r.push(h), this._addReference(h, b) } h = j || h, !x || !h.isNew() && t[h.id] || x.push(h), t[h.id] = !0 } if (w) { for (e = 0, f = this.length; f > e; ++e)t[(h = this.models[e]).cid] || s.push(h); s.length && this.remove(s, b) } if (r.length || x && x.length) if (o && (k = !0), this.length += r.length, null != l) for (e = 0, f = r.length; f > e; e++)this.models.splice(l + e, 0, r[e]); else { x && (this.models.length = 0); var y = x || r; for (e = 0, f = y.length; f > e; e++)this.models.push(y[e]) } if (k && this.sort({ silent: !0 }), !b.silent) { for (e = 0, f = r.length; f > e; e++)(h = r[e]).trigger("add", h, this, b); (k || x && x.length) && this.trigger("sort", this, b) } return d ? a[0] : a }, reset: function (a, b) { b || (b = {}); for (var d = 0, e = this.models.length; e > d; d++)this._removeReference(this.models[d], b); return b.previousModels = this.models, this._reset(), a = this.add(a, c.extend({ silent: !0 }, b)), b.silent || this.trigger("reset", this, b), a }, push: function (a, b) { return this.add(a, c.extend({ at: this.length }, b)) }, pop: function (a) { var b = this.at(this.length - 1); return this.remove(b, a), b }, unshift: function (a, b) { return this.add(a, c.extend({ at: 0 }, b)) }, shift: function (a) { var b = this.at(0); return this.remove(b, a), b }, slice: function () { return g.apply(this.models, arguments) }, get: function (a) { return null == a ? void 0 : this._byId[a] || this._byId[a.id] || this._byId[a.cid] }, at: function (a) { return this.models[a] }, where: function (a, b) { return c.isEmpty(a) ? b ? void 0 : [] : this[b ? "find" : "filter"](function (b) { for (var c in a) if (a[c] !== b.get(c)) return !1; return !0 }) }, findWhere: function (a) { return this.where(a, !0) }, sort: function (a) { if (!this.comparator) throw new Error("Cannot sort a set without a comparator"); return a || (a = {}), c.isString(this.comparator) || 1 === this.comparator.length ? this.models = this.sortBy(this.comparator, this) : this.models.sort(c.bind(this.comparator, this)), a.silent || this.trigger("sort", this, a), this }, pluck: function (a) { return c.invoke(this.models, "get", a) }, fetch: function (a) { a = a ? c.clone(a) : {}, void 0 === a.parse && (a.parse = !0); var b = a.success, d = this; return a.success = function (c) { var e = a.reset ? "reset" : "set"; d[e](c, a), b && b(d, c, a), d.trigger("sync", d, c, a) }, L(this, a), this.sync("read", this, a) }, create: function (a, b) { if (b = b ? c.clone(b) : {}, !(a = this._prepareModel(a, b))) return !1; b.wait || this.add(a, b); var d = this, e = b.success; return b.success = function (a, c) { b.wait && d.add(a, b), e && e(a, c, b) }, a.save(null, b), a }, parse: function (a, b) { return a }, clone: function () { return new this.constructor(this.models) }, _reset: function () { this.length = 0, this.models = [], this._byId = {} }, _prepareModel: function (a, b) { if (a instanceof m) return a; b = b ? c.clone(b) : {}, b.collection = this; var d = new this.model(a, b); return d.validationError ? (this.trigger("invalid", this, d.validationError, b), !1) : d }, _addReference: function (a, b) { this._byId[a.cid] = a, null != a.id && (this._byId[a.id] = a), a.collection || (a.collection = this), a.on("all", this._onModelEvent, this) }, _removeReference: function (a, b) { this === a.collection && delete a.collection, a.off("all", this._onModelEvent, this) }, _onModelEvent: function (a, b, c, d) { ("add" !== a && "remove" !== a || c === this) && ("destroy" === a && this.remove(b, d), b && a === "change:" + b.idAttribute && (delete this._byId[b.previous(b.idAttribute)], null != b.id && (this._byId[b.id] = b)), this.trigger.apply(this, arguments)) } }); var r = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "difference", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain", "sample"]; c.each(r, function (a) { o.prototype[a] = function () { var b = g.call(arguments); return b.unshift(this.models), c[a].apply(c, b) } }); var s = ["groupBy", "countBy", "sortBy", "indexBy"]; c.each(s, function (a) { o.prototype[a] = function (b, d) { var e = c.isFunction(b) ? b : function (a) { return a.get(b) }; return c[a](this.models, e, d) } }); var t = b.View = function (a) { this.cid = c.uniqueId("view"), a || (a = {}), c.extend(this, c.pick(a, v)), this._ensureElement(), this.initialize.apply(this, arguments), this.delegateEvents() }, u = /^(\S+)\s*(.*)$/, v = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"]; c.extend(t.prototype, h, { tagName: "div", $: function (a) { return this.$el.find(a) }, initialize: function () { }, render: function () { return this }, remove: function () { return this.$el.remove(), this.stopListening(), this }, setElement: function (a, c) { return this.$el && this.undelegateEvents(), this.$el = a instanceof b.$ ? a : b.$(a), this.el = this.$el[0], c !== !1 && this.delegateEvents(), this }, delegateEvents: function (a) { if (!a && !(a = c.result(this, "events"))) return this; this.undelegateEvents(); for (var b in a) { var d = a[b]; if (c.isFunction(d) || (d = this[a[b]]), d) { var e = b.match(u), f = e[1], g = e[2]; d = c.bind(d, this), f += ".delegateEvents" + this.cid, "" === g ? this.$el.on(f, d) : this.$el.on(f, g, d) } } return this }, undelegateEvents: function () { return this.$el.off(".delegateEvents" + this.cid), this }, _ensureElement: function () { if (this.el) this.setElement(c.result(this, "el"), !1); else { var a = c.extend({}, c.result(this, "attributes")); this.id && (a.id = c.result(this, "id")), this.className && (a["class"] = c.result(this, "className")); var d = b.$("<" + c.result(this, "tagName") + ">").attr(a); this.setElement(d, !1) } } }), b.sync = function (a, d, e) { var f = x[a]; c.defaults(e || (e = {}), { emulateHTTP: b.emulateHTTP, emulateJSON: b.emulateJSON }); var g = { type: f, dataType: "json" }; if (e.url || (g.url = c.result(d, "url") || K()), null != e.data || !d || "create" !== a && "update" !== a && "patch" !== a || (g.contentType = "application/json", g.data = JSON.stringify(e.attrs || d.toJSON(e))), e.emulateJSON && (g.contentType = "application/x-www-form-urlencoded", g.data = g.data ? { model: g.data } : {}), e.emulateHTTP && ("PUT" === f || "DELETE" === f || "PATCH" === f)) { g.type = "POST", e.emulateJSON && (g.data._method = f); var h = e.beforeSend; e.beforeSend = function (a) { return a.setRequestHeader("X-HTTP-Method-Override", f), h ? h.apply(this, arguments) : void 0 } } "GET" === g.type || e.emulateJSON || (g.processData = !1), "PATCH" === g.type && w && (g.xhr = function () { return new ActiveXObject("Microsoft.XMLHTTP") }); var i = e.xhr = b.ajax(c.extend(g, e)); return d.trigger("request", d, i, e), i }; var w = !("undefined" == typeof window || !window.ActiveXObject || window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent), x = { create: "POST", update: "PUT", patch: "PATCH", "delete": "DELETE", read: "GET" }; b.ajax = function () { return b.$.ajax.apply(b.$, arguments) }; var y = b.Router = function (a) { a || (a = {}), a.routes && (this.routes = a.routes), this._bindRoutes(), this.initialize.apply(this, arguments) }, z = /\((.*?)\)/g, A = /(\(\?)?:\w+/g, B = /\*\w+/g, C = /[\-{}\[\]+?.,\\\^$|#\s]/g; c.extend(y.prototype, h, { initialize: function () { }, route: function (a, d, e) { c.isRegExp(a) || (a = this._routeToRegExp(a)), c.isFunction(d) && (e = d, d = ""), e || (e = this[d]); var f = this; return b.history.route(a, function (c) { var g = f._extractParameters(a, c); f.execute(e, g), f.trigger.apply(f, ["route:" + d].concat(g)), f.trigger("route", d, g), b.history.trigger("route", f, d, g) }), this }, execute: function (a, b) { a && a.apply(this, b) }, navigate: function (a, c) { return b.history.navigate(a, c), this }, _bindRoutes: function () { if (this.routes) { this.routes = c.result(this, "routes"); for (var a, b = c.keys(this.routes); null != (a = b.pop());)this.route(a, this.routes[a]) } }, _routeToRegExp: function (a) { return a = a.replace(C, "\\$&").replace(z, "(?:$1)?").replace(A, function (a, b) { return b ? a : "([^/?]+)" }).replace(B, "([^?]*?)"), new RegExp("^" + a + "(?:\\?([\\s\\S]*))?$") }, _extractParameters: function (a, b) { var d = a.exec(b).slice(1); return c.map(d, function (a, b) { return b === d.length - 1 ? a || null : a ? decodeURIComponent(a) : null }) } }); var D = b.History = function () { this.handlers = [], c.bindAll(this, "checkUrl"), "undefined" != typeof window && (this.location = window.location, this.history = window.history) }, E = /^[#\/]|\s+$/g, F = /^\/+|\/+$/g, G = /msie [\w.]+/, H = /\/$/, I = /#.*$/; D.started = !1, c.extend(D.prototype, h, { interval: 50, atRoot: function () { return this.location.pathname.replace(/[^\/]$/, "$&/") === this.root }, getHash: function (a) { var b = (a || this).location.href.match(/#(.*)$/); return b ? b[1] : "" }, getFragment: function (a, b) { if (null == a) if (this._hasPushState || !this._wantsHashChange || b) { a = decodeURI(this.location.pathname + this.location.search); var c = this.root.replace(H, ""); a.indexOf(c) || (a = a.slice(c.length)) } else a = this.getHash(); return a.replace(E, "") }, start: function (a) { if (D.started) throw new Error("Backbone.history has already been started"); D.started = !0, this.options = c.extend({ root: "/" }, this.options, a), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState); var d = this.getFragment(), e = document.documentMode, f = G.exec(navigator.userAgent.toLowerCase()) && (!e || 7 >= e); if (this.root = ("/" + this.root + "/").replace(F, "/"), f && this._wantsHashChange) { var g = b.$('<iframe src="javascript:0" tabindex="-1">'); this.iframe = g.hide().appendTo("body")[0].contentWindow, this.navigate(d) } this._hasPushState ? b.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !f ? b.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = d; var h = this.location; if (this._wantsHashChange && this._wantsPushState) { if (!this._hasPushState && !this.atRoot()) return this.fragment = this.getFragment(null, !0), this.location.replace(this.root + "#" + this.fragment), !0; this._hasPushState && this.atRoot() && h.hash && (this.fragment = this.getHash().replace(E, ""), this.history.replaceState({}, document.title, this.root + this.fragment)) } return this.options.silent ? void 0 : this.loadUrl() }, stop: function () { b.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl), this._checkUrlInterval && clearInterval(this._checkUrlInterval), D.started = !1 }, route: function (a, b) { this.handlers.unshift({ route: a, callback: b }) }, checkUrl: function (a) { var b = this.getFragment(); return b === this.fragment && this.iframe && (b = this.getFragment(this.getHash(this.iframe))), b === this.fragment ? !1 : (this.iframe && this.navigate(b), void this.loadUrl()) }, loadUrl: function (a) { return a = this.fragment = this.getFragment(a), c.any(this.handlers, function (b) { return b.route.test(a) ? (b.callback(a), !0) : void 0 }) }, navigate: function (a, b) { if (!D.started) return !1; b && b !== !0 || (b = { trigger: !!b }); var c = this.root + (a = this.getFragment(a || "")); if (a = a.replace(I, ""), this.fragment !== a) { if (this.fragment = a, "" === a && "/" !== c && (c = c.slice(0, -1)), this._hasPushState) this.history[b.replace ? "replaceState" : "pushState"]({}, document.title, c); else { if (!this._wantsHashChange) return this.location.assign(c); this._updateHash(this.location, a, b.replace), this.iframe && a !== this.getFragment(this.getHash(this.iframe)) && (b.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, a, b.replace)) } return b.trigger ? this.loadUrl(a) : void 0 } }, _updateHash: function (a, b, c) { if (c) { var d = a.href.replace(/(javascript:|#).*$/, ""); a.replace(d + "#" + b) } else a.hash = "#" + b } }), b.history = new D; var J = function (a, b) { var d, e = this; d = a && c.has(a, "constructor") ? a.constructor : function () { return e.apply(this, arguments) }, c.extend(d, e, b); var f = function () { this.constructor = d }; return f.prototype = e.prototype, d.prototype = new f, a && c.extend(d.prototype, a), d.__super__ = e.prototype, d }; m.extend = o.extend = y.extend = t.extend = D.extend = J; var K = function () { throw new Error('A "url" property or function must be specified') }, L = function (a, b) { var c = b.error; b.error = function (d) { c && c(a, d, b), a.trigger("error", a, d, b) } }; return b });

function _log(a, b) { if (_canLog) { var c = Array.prototype.slice.apply(arguments, [1]), d = new Date, e = d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "." + d.getMilliseconds(); c[0] = e + " - " + c[0]; try { switch (a) { case "info": window.console.info.apply(window.console, c); break; case "warn": window.console.warn.apply(window.console, c); break; default: window.console.log.apply(window.console, c) } } catch (f) { window.console ? -2146827850 === f.number && window.console.log(c.join(", ")) : _canLog = !1 } } } function _checkBrowser() { function a(a) { a = a.toLowerCase(); var b = /(chrome)[ \/]([\w.]+)/.exec(a) || /(webkit)[ \/]([\w.]+)/.exec(a) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) || /(msie) ([\w.]+)/.exec(a) || a.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a) || []; return { browser: b[1] || "", version: b[2] || "0" } } var b, c; return b = a(navigator.userAgent), c = {}, b.browser && (c[b.browser] = !0, c.version = b.version), c.chrome ? c.webkit = !0 : c.webkit && (c.safari = !0), c } function logMsg(a) { Array.prototype.unshift.apply(arguments, ["debug"]), _log.apply(this, arguments) } var _canLog = !0, BROWSER = jQuery.browser || _checkBrowser(), getDynaTreePersistData = null, DTNodeStatus_Error = -1, DTNodeStatus_Loading = 1, DTNodeStatus_Ok = 0; !function ($) {
  function getDtNodeFromElement(a) { return alert("getDtNodeFromElement is deprecated"), $.ui.dynatree.getNode(a) } function noop() { } function versionCompare(a, b) { var c, d, e, f = ("" + a).split("."), g = ("" + b).split("."), h = Math.min(f.length, g.length); for (e = 0; h > e; e++)if (c = parseInt(f[e], 10), d = parseInt(g[e], 10), isNaN(c) && (c = f[e]), isNaN(d) && (d = g[e]), c != d) return c > d ? 1 : d > c ? -1 : NaN; return f.length === g.length ? 0 : f.length < g.length ? -1 : 1 } function _initDragAndDrop(a) { var b = a.options.dnd || null; b && (b.onDragStart || b.onDrop) && _registerDnd(), b && b.onDragStart && a.$tree.draggable({ addClasses: !1, appendTo: "body", containment: !1, delay: 0, distance: 4, revert: !1, scroll: !0, scrollSpeed: 7, scrollSensitivity: 10, connectToDynatree: !0, helper: function (a) { var b = $.ui.dynatree.getNode(a.target); return b ? b.tree._onDragEvent("helper", b, null, a, null, null) : "<div></div>" }, start: function (a, b) { var c = b.helper.data("dtSourceNode"); return !!c }, _last: null }), b && b.onDrop && a.$tree.droppable({ addClasses: !1, tolerance: "intersect", greedy: !1, _last: null }) } var Class = { create: function () { return function () { this.initialize.apply(this, arguments) } } }, DynaTreeNode = Class.create(); DynaTreeNode.prototype = { initialize: function (a, b, c) { this.parent = a, this.tree = b, "string" == typeof c && (c = { title: c }), c.key ? c.key = "" + c.key : c.key = "_" + b._nodeCount++, this.data = $.extend({}, $.ui.dynatree.nodedatadefaults, c), this.li = null, this.span = null, this.ul = null, this.childList = null, this._isLoading = !1, this.hasSubSel = !1, this.bExpanded = !1, this.bSelected = !1 }, toString: function () { return "DynaTreeNode<" + this.data.key + ">: '" + this.data.title + "'" }, toDict: function (a, b) { var c = $.extend({}, this.data); if (c.activate = this.tree.activeNode === this, c.focus = this.tree.focusNode === this, c.expand = this.bExpanded, c.select = this.bSelected, b && b(c), a && this.childList) { c.children = []; for (var d = 0, e = this.childList.length; e > d; d++)c.children.push(this.childList[d].toDict(!0, b)) } else delete c.children; return c }, fromDict: function (a) { var b = a.children; return void 0 === b ? (this.data = $.extend(this.data, a), void this.render()) : (a = $.extend({}, a), a.children = void 0, this.data = $.extend(this.data, a), this.removeChildren(), void this.addChild(b)) }, _getInnerHtml: function () { var a, b = this.tree, c = b.options, d = b.cache, e = this.getLevel(), f = this.data, g = ""; e < c.minExpandLevel ? e > 1 && (g += d.tagConnector) : g += this.hasChildren() !== !1 ? d.tagExpander : d.tagConnector, c.checkbox && f.hideCheckbox !== !0 && !f.isStatusNode && (g += d.tagCheckbox), f.icon ? f.iconHTML ? g += f.iconHTML : (a = "/" === f.icon.charAt(0) ? f.icon : c.imagePath + f.icon, g += "<img src='" + a + "' alt='' />") : f.icon === !1 || (g += f.iconClass ? "<span class=' " + f.iconClass + "'></span>" : d.tagNodeIcon); var h = ""; if (c.onCustomRender && (h = c.onCustomRender.call(b, this) || ""), !h) { var i = f.tooltip ? ' title="' + f.tooltip.replace(/\"/g, "&quot;") + '"' : "", j = f.href || "#"; h = c.noLink || f.noLink ? '<span style="display:inline-block;" class="' + c.classNames.title + '"' + i + ">" + f.title + "</span>" : '<a href="' + j + '" class="' + c.classNames.title + '"' + i + ">" + f.title + "</a>" } return g += h }, _fixOrder: function () { var a = this.childList; if (a && this.ul) for (var b = this.ul.firstChild, c = 0, d = a.length - 1; d > c; c++) { var e = a[c], f = b.dtnode; e !== f ? (this.tree.logDebug("_fixOrder: mismatch at index " + c + ": " + e + " != " + f), this.ul.insertBefore(e.li, f.li)) : b = b.nextSibling } }, render: function (a, b) { var c = this.tree, d = this.parent, e = this.data, f = c.options, g = f.classNames, h = this.isLastSibling(), i = !1; if (d || this.ul) { if (d) { this.li || (i = !0, this.li = document.createElement("li"), this.li.dtnode = this, e.key && f.generateIds && (this.li.id = f.idPrefix + e.key), this.span = document.createElement("span"), this.span.className = g.title, this.li.appendChild(this.span), d.ul || (d.ul = document.createElement("ul"), d.ul.style.display = "none", d.li.appendChild(d.ul)), d.ul.appendChild(this.li)), this.span.innerHTML = this._getInnerHtml(); var j = []; j.push(g.node), e.isFolder && j.push(g.folder), this.bExpanded && j.push(g.expanded), this.hasChildren() !== !1 && j.push(g.hasChildren), e.isLazy && null === this.childList && j.push(g.lazy), h && j.push(g.lastsib), this.bSelected && j.push(g.selected), this.hasSubSel && j.push(g.partsel), c.activeNode === this && j.push(g.active), e.addClass && j.push(e.addClass), j.push(g.combinedExpanderPrefix + (this.bExpanded ? "e" : "c") + (e.isLazy && null === this.childList ? "d" : "") + (h ? "l" : "")), j.push(g.combinedIconPrefix + (this.bExpanded ? "e" : "c") + (e.isFolder ? "f" : "")), this.span.className = j.join(" "), this.li.className = h ? g.lastsib : "", i && f.onCreate && f.onCreate.call(c, this, this.span), f.onRender && f.onRender.call(c, this, this.span) } } else this.li = this.span = null, this.ul = document.createElement("ul"), f.minExpandLevel > 1 ? this.ul.className = g.container + " " + g.noConnector : this.ul.className = g.container; if ((this.bExpanded || b === !0) && this.childList) { for (var k = 0, l = this.childList.length; l > k; k++)this.childList[k].render(!1, b); this._fixOrder() } if (this.ul) { var m = "none" === this.ul.style.display, n = !!this.bExpanded; if (a && f.fx && m === n) { var o = f.fx.duration || 200; $(this.ul).animate(f.fx, o) } else this.ul.style.display = this.bExpanded || !d ? "" : "none" } }, getKeyPath: function (a) { var b = []; return this.visitParents(function (a) { a.parent && b.unshift(a.data.key) }, !a), "/" + b.join(this.tree.options.keyPathSeparator) }, getParent: function () { return this.parent }, getChildren: function () { return void 0 === this.hasChildren() ? void 0 : this.childList }, hasChildren: function () { return this.data.isLazy ? null === this.childList || void 0 === this.childList ? void 0 : 0 === this.childList.length ? !1 : 1 === this.childList.length && this.childList[0].isStatusNode() ? void 0 : !0 : !!this.childList }, isFirstSibling: function () { var a = this.parent; return !a || a.childList[0] === this }, isLastSibling: function () { var a = this.parent; return !a || a.childList[a.childList.length - 1] === this }, isLoading: function () { return !!this._isLoading }, getPrevSibling: function () { if (!this.parent) return null; for (var a = this.parent.childList, b = 1, c = a.length; c > b; b++)if (a[b] === this) return a[b - 1]; return null }, getNextSibling: function () { if (!this.parent) return null; for (var a = this.parent.childList, b = 0, c = a.length - 1; c > b; b++)if (a[b] === this) return a[b + 1]; return null }, isStatusNode: function () { return this.data.isStatusNode === !0 }, isChildOf: function (a) { return this.parent && this.parent === a }, isDescendantOf: function (a) { if (!a) return !1; for (var b = this.parent; b;) { if (b === a) return !0; b = b.parent } return !1 }, countChildren: function () { var a = this.childList; if (!a) return 0; for (var b = a.length, c = 0, d = b; d > c; c++) { var e = a[c]; b += e.countChildren() } return b }, sortChildren: function (a, b) { var c = this.childList; if (c) { if (a = a || function (a, b) { var c = a.data.title.toLowerCase(), d = b.data.title.toLowerCase(); return c === d ? 0 : c > d ? 1 : -1 }, c.sort(a), b) for (var d = 0, e = c.length; e > d; d++)c[d].childList && c[d].sortChildren(a, "$norender$"); "$norender$" !== b && this.render() } }, _setStatusNode: function (a) { var b = this.childList ? this.childList[0] : null; if (a) b ? (a.isStatusNode = !0, a.key = "_statusNode", b.data = a, b.render()) : (a.isStatusNode = !0, a.key = "_statusNode", b = this.addChild(a)); else if (b && b.isStatusNode()) { try { this.ul && (this.ul.removeChild(b.li), b.li = null) } catch (c) { } 1 === this.childList.length ? this.childList = [] : this.childList.shift() } }, setLazyNodeStatus: function (a, b) { var c = b && b.tooltip ? b.tooltip : null, d = b && b.info ? " (" + b.info + ")" : ""; switch (a) { case DTNodeStatus_Ok: this._setStatusNode(null), $(this.span).removeClass(this.tree.options.classNames.nodeLoading), this._isLoading = !1, this.tree.options.autoFocus && (this === this.tree.tnRoot && this.childList && this.childList.length > 0 ? this.childList[0].focus() : this.focus()); break; case DTNodeStatus_Loading: this._isLoading = !0, $(this.span).addClass(this.tree.options.classNames.nodeLoading), this.parent || this._setStatusNode({ title: this.tree.options.strings.loading + d, tooltip: c, addClass: this.tree.options.classNames.nodeWait }); break; case DTNodeStatus_Error: this._isLoading = !1, this._setStatusNode({ title: this.tree.options.strings.loadError + d, tooltip: c, addClass: this.tree.options.classNames.nodeError }); break; default: throw "Bad LazyNodeStatus: '" + a + "'." } }, _parentList: function (a, b) { for (var c = [], d = b ? this : this.parent; d;)(a || d.parent) && c.unshift(d), d = d.parent; return c }, getLevel: function () { for (var a = 0, b = this.parent; b;)a++, b = b.parent; return a }, _getTypeForOuterNodeEvent: function (a) { var b = this.tree.options.classNames, c = a.target; if (c.className.indexOf(b.node) < 0) return null; for (var d = a.pageX - c.offsetLeft, e = a.pageY - c.offsetTop, f = 0, g = c.childNodes.length; g > f; f++) { var h = c.childNodes[f], i = h.offsetLeft - c.offsetLeft, j = h.offsetTop - c.offsetTop, k = h.clientWidth, l = h.clientHeight; if (d >= i && i + k >= d && e >= j && j + l >= e) { if (h.className == b.title) return "title"; if (h.className == b.expander) return "expander"; if (h.className == b.checkbox) return "checkbox"; if (h.className == b.nodeIcon) return "icon" } } return "prefix" }, getEventTargetType: function (a) { var b = a && a.target ? a.target.className : "", c = this.tree.options.classNames; return b === c.title ? "title" : b === c.expander ? "expander" : b === c.checkbox ? "checkbox" : b === c.nodeIcon ? "icon" : b === c.empty || b === c.vline || b === c.connector ? "prefix" : b.indexOf(c.node) >= 0 ? this._getTypeForOuterNodeEvent(a) : null }, isVisible: function () { for (var a = this._parentList(!0, !1), b = 0, c = a.length; c > b; b++)if (!a[b].bExpanded) return !1; return !0 }, makeVisible: function () { for (var a = this._parentList(!0, !1), b = 0, c = a.length; c > b; b++)a[b]._expand(!0) }, focus: function () { this.makeVisible(); try { $(this.span).find(">a").focus() } catch (a) { } }, isFocused: function () { return this.tree.tnFocused === this }, _activate: function (a, b) { this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o", a, b, this); var c = this.tree.options; if (!(this.data.isStatusNode || b && c.onQueryActivate && c.onQueryActivate.call(this.tree, a, this) === !1)) if (a) { if (this.tree.activeNode) { if (this.tree.activeNode === this) return; this.tree.activeNode.deactivate() } c.activeVisible && this.makeVisible(), this.tree.activeNode = this, c.persist && $.cookie(c.cookieId + "-active", this.data.key, c.cookie), this.tree.persistence.activeKey = this.data.key, $(this.span).addClass(c.classNames.active), b && c.onActivate && c.onActivate.call(this.tree, this) } else if (this.tree.activeNode === this) { if (c.onQueryActivate && c.onQueryActivate.call(this.tree, !1, this) === !1) return; $(this.span).removeClass(c.classNames.active), c.persist && $.cookie(c.cookieId + "-active", "", c.cookie), this.tree.persistence.activeKey = null, this.tree.activeNode = null, b && c.onDeactivate && c.onDeactivate.call(this.tree, this) } }, activate: function () { this._activate(!0, !0) }, activateSilently: function () { this._activate(!0, !1) }, deactivate: function () { this._activate(!1, !0) }, isActive: function () { return this.tree.activeNode === this }, _userActivate: function () { var a = !0, b = !1; if (this.data.isFolder) switch (this.tree.options.clickFolderMode) { case 2: a = !1, b = !0; break; case 3: a = b = !0 }null === this.parent && (b = !1), b && (this.toggleExpand(), this.focus()), a && this.activate() }, _setSubSel: function (a) { a ? (this.hasSubSel = !0, $(this.span).addClass(this.tree.options.classNames.partsel)) : (this.hasSubSel = !1, $(this.span).removeClass(this.tree.options.classNames.partsel)) }, _updatePartSelectionState: function () { var a; if (!this.hasChildren()) return a = this.bSelected && !this.data.unselectable && !this.data.isStatusNode, this._setSubSel(!1), a; var b, c, d = this.childList, e = !0, f = !0; for (b = 0, c = d.length; c > b; b++) { var g = d[b], h = g._updatePartSelectionState(); h !== !1 && (f = !1), h !== !0 && (e = !1) } return a = e ? !0 : f ? !1 : void 0, this._setSubSel(void 0 === a), this.bSelected = a === !0, a }, _fixSelectionState: function () { var a, b, c; if (this.bSelected) for (this.visit(function (a) { a.parent._setSubSel(!0), a.data.unselectable || a._select(!0, !1, !1) }), a = this.parent; a;) { a._setSubSel(!0); var d = !0; for (b = 0, c = a.childList.length; c > b; b++) { var e = a.childList[b]; if (!e.bSelected && !e.data.isStatusNode && !e.data.unselectable) { d = !1; break } } d && a._select(!0, !1, !1), a = a.parent } else for (this._setSubSel(!1), this.visit(function (a) { a._setSubSel(!1), a._select(!1, !1, !1) }), a = this.parent; a;) { a._select(!1, !1, !1); var f = !1; for (b = 0, c = a.childList.length; c > b; b++)if (a.childList[b].bSelected || a.childList[b].hasSubSel) { f = !0; break } a._setSubSel(f), a = a.parent } }, _select: function (a, b, c) { var d = this.tree.options; this.data.isStatusNode || this.bSelected !== a && (b && d.onQuerySelect && d.onQuerySelect.call(this.tree, a, this) === !1 || (1 == d.selectMode && a && this.tree.visit(function (a) { return a.bSelected ? (a._select(!1, !1, !1), !1) : void 0 }), this.bSelected = a, a ? (d.persist && this.tree.persistence.addSelect(this.data.key), $(this.span).addClass(d.classNames.selected), c && 3 === d.selectMode && this._fixSelectionState(), b && d.onSelect && d.onSelect.call(this.tree, !0, this)) : (d.persist && this.tree.persistence.clearSelect(this.data.key), $(this.span).removeClass(d.classNames.selected), c && 3 === d.selectMode && this._fixSelectionState(), b && d.onSelect && d.onSelect.call(this.tree, !1, this)))) }, select: function (a) { return this.data.unselectable ? this.bSelected : this._select(a !== !1, !0, !0) }, toggleSelect: function () { return this.select(!this.bSelected) }, isSelected: function () { return this.bSelected }, isLazy: function () { return !!this.data.isLazy }, _loadContent: function () { try { var a = this.tree.options; this.tree.logDebug("_loadContent: start - %o", this), this.setLazyNodeStatus(DTNodeStatus_Loading), !0 === a.onLazyRead.call(this.tree, this) && (this.setLazyNodeStatus(DTNodeStatus_Ok), this.tree.logDebug("_loadContent: succeeded - %o", this)) } catch (b) { this.tree.logWarning("_loadContent: failed - %o", b), this.setLazyNodeStatus(DTNodeStatus_Error, { tooltip: "" + b }) } }, _expand: function (a, b) { if (this.bExpanded === a) return void this.tree.logDebug("dtnode._expand(%o) IGNORED - %o", a, this); this.tree.logDebug("dtnode._expand(%o) - %o", a, this); var c = this.tree.options; if (!a && this.getLevel() < c.minExpandLevel) return void this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o", a, this); if (!c.onQueryExpand || c.onQueryExpand.call(this.tree, a, this) !== !1) { this.bExpanded = a, c.persist && (a ? this.tree.persistence.addExpand(this.data.key) : this.tree.persistence.clearExpand(this.data.key)); var d = !(this.data.isLazy && null === this.childList || this._isLoading || b); if (this.render(d), this.bExpanded && this.parent && c.autoCollapse) for (var e = this._parentList(!1, !0), f = 0, g = e.length; g > f; f++)e[f].collapseSiblings(); return c.activeVisible && this.tree.activeNode && !this.tree.activeNode.isVisible() && this.tree.activeNode.deactivate(), a && this.data.isLazy && null === this.childList && !this._isLoading ? void this._loadContent() : void (c.onExpand && c.onExpand.call(this.tree, a, this)) } }, isExpanded: function () { return this.bExpanded }, expand: function (a) { a = a !== !1, (this.childList || this.data.isLazy || !a) && (null !== this.parent || a) && this._expand(a) }, scheduleAction: function (a, b) { this.tree.timer && (clearTimeout(this.tree.timer), this.tree.logDebug("clearTimeout(%o)", this.tree.timer)); var c = this; switch (a) { case "cancel": break; case "expand": this.tree.timer = setTimeout(function () { c.tree.logDebug("setTimeout: trigger expand"), c.expand(!0) }, b); break; case "activate": this.tree.timer = setTimeout(function () { c.tree.logDebug("setTimeout: trigger activate"), c.activate() }, b); break; default: throw "Invalid mode " + a }this.tree.logDebug("setTimeout(%s, %s): %s", a, b, this.tree.timer) }, toggleExpand: function () { this.expand(!this.bExpanded) }, collapseSiblings: function () { if (null !== this.parent) for (var a = this.parent.childList, b = 0, c = a.length; c > b; b++)a[b] !== this && a[b].bExpanded && a[b]._expand(!1) }, _onClick: function (a) { var b = this.getEventTargetType(a); if ("expander" === b) this.toggleExpand(), this.focus(); else if ("checkbox" === b) this.toggleSelect(), this.focus(); else { this._userActivate(); var c = this.span.getElementsByTagName("a"); if (!c[0]) return !0; BROWSER.msie && parseInt(BROWSER.version, 10) < 9 || c[0].focus() } a.preventDefault() }, _onDblClick: function (a) { }, _onKeydown: function (a) { var b, c = !0; switch (a.which) { case 107: case 187: this.bExpanded || this.toggleExpand(); break; case 109: case 189: this.bExpanded && this.toggleExpand(); break; case 32: this._userActivate(); break; case 8: this.parent && this.parent.focus(); break; case 37: this.bExpanded ? (this.toggleExpand(), this.focus()) : this.parent && this.parent.parent && this.parent.focus(); break; case 39: this.bExpanded || !this.childList && !this.data.isLazy ? this.childList && this.childList[0].focus() : (this.toggleExpand(), this.focus()); break; case 38: for (b = this.getPrevSibling(); b && b.bExpanded && b.childList;)b = b.childList[b.childList.length - 1]; !b && this.parent && this.parent.parent && (b = this.parent), b && b.focus(); break; case 40: if (this.bExpanded && this.childList) b = this.childList[0]; else for (var d = this._parentList(!1, !0), e = d.length - 1; e >= 0 && !(b = d[e].getNextSibling()); e--); b && b.focus(); break; default: c = !1 }c && a.preventDefault() }, _onKeypress: function (a) { }, _onFocus: function (a) { var b = this.tree.options; "blur" == a.type || "focusout" == a.type ? (b.onBlur && b.onBlur.call(this.tree, this), this.tree.tnFocused && $(this.tree.tnFocused.span).removeClass(b.classNames.focused), this.tree.tnFocused = null, b.persist && $.cookie(b.cookieId + "-focus", "", b.cookie)) : ("focus" == a.type || "focusin" == a.type) && (this.tree.tnFocused && this.tree.tnFocused !== this && (this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o", this.tree.tnFocused), $(this.tree.tnFocused.span).removeClass(b.classNames.focused)), this.tree.tnFocused = this, b.onFocus && b.onFocus.call(this.tree, this), $(this.tree.tnFocused.span).addClass(b.classNames.focused), b.persist && $.cookie(b.cookieId + "-focus", this.data.key, b.cookie)) }, visit: function (a, b) { var c = !0; if (b === !0 && (c = a(this), c === !1 || "skip" == c)) return c; if (this.childList) for (var d = 0, e = this.childList.length; e > d && (c = this.childList[d].visit(a, !0), c !== !1); d++); return c }, visitParents: function (a, b) { if (b && a(this) === !1) return !1; for (var c = this.parent; c;) { if (a(c) === !1) return !1; c = c.parent } return !0 }, remove: function () { if (this === this.tree.root) throw "Cannot remove system root"; return this.parent.removeChild(this) }, removeChild: function (a) { var b = this.childList; if (1 == b.length) { if (a !== b[0]) throw "removeChild: invalid child"; return this.removeChildren() } a === this.tree.activeNode && a.deactivate(), this.tree.options.persist && (a.bSelected && this.tree.persistence.clearSelect(a.data.key), a.bExpanded && this.tree.persistence.clearExpand(a.data.key)), a.removeChildren(!0), this.ul && this.ul.removeChild(a.li); for (var c = 0, d = b.length; d > c; c++)if (b[c] === a) { this.childList.splice(c, 1); break } }, removeChildren: function (a, b) { this.tree.logDebug("%s.removeChildren(%o)", this, a); var c = this.tree, d = this.childList; if (d) { for (var e = 0, f = d.length; f > e; e++) { var g = d[e]; g !== c.activeNode || b || g.deactivate(), this.tree.options.persist && !b && (g.bSelected && this.tree.persistence.clearSelect(g.data.key), g.bExpanded && this.tree.persistence.clearExpand(g.data.key)), g.removeChildren(!0, b), this.ul && $("li", $(this.ul)).remove() } this.childList = null } a || (this._isLoading = !1, this.render()) }, setTitle: function (a) { this.fromDict({ title: a }) }, reload: function (a) { throw "Use reloadChildren() instead" }, reloadChildren: function (a) { if (null === this.parent) throw "Use tree.reload() instead"; if (!this.data.isLazy) throw "node.reloadChildren() requires lazy nodes."; if (a) { var b = this, c = "nodeLoaded.dynatree." + this.tree.$tree.attr("id") + "." + this.data.key; this.tree.$tree.bind(c, function (d, e, f) { if (b.tree.$tree.unbind(c), b.tree.logDebug("loaded %o, %o, %o", d, e, f), e !== b) throw "got invalid load event"; a.call(b.tree, e, f) }) } this.removeChildren(), this._loadContent() }, _loadKeyPath: function (a, b) { var c = this.tree; if (c.logDebug("%s._loadKeyPath(%s)", this, a), "" === a) throw "Key path must not be empty"; var d = a.split(c.options.keyPathSeparator); if ("" === d[0]) throw "Key path must be relative (don't start with '/')"; var e = d.shift(); if (this.childList) for (var f = 0, g = this.childList.length; g > f; f++) { var h = this.childList[f]; if (h.data.key === e) { if (0 === d.length) b.call(c, h, "ok"); else if (!h.data.isLazy || null !== h.childList && void 0 !== h.childList) b.call(c, h, "loaded"), h._loadKeyPath(d.join(c.options.keyPathSeparator), b); else { c.logDebug("%s._loadKeyPath(%s) -> reloading %s...", this, a, h); var i = this; h.reloadChildren(function (e, f) { f ? (c.logDebug("%s._loadKeyPath(%s) -> reloaded %s.", e, a, e), b.call(c, h, "loaded"), e._loadKeyPath(d.join(c.options.keyPathSeparator), b)) : (c.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.", i, a), b.call(c, h, "error")) }) } return } } b.call(c, void 0, "notfound", e, 0 === d.length), c.logWarning("Node not found: " + e) }, resetLazy: function () { if (null === this.parent) throw "Use tree.reload() instead"; if (!this.data.isLazy) throw "node.resetLazy() requires lazy nodes."; this.expand(!1), this.removeChildren() }, _addChildNode: function (a, b) { var c = this.tree, d = c.options, e = c.persistence; if (a.parent = this, null === this.childList ? this.childList = [] : b || this.childList.length > 0 && $(this.childList[this.childList.length - 1].span).removeClass(d.classNames.lastsib), b) { var f = $.inArray(b, this.childList); if (0 > f) throw "<beforeNode> must be a child of <this>"; this.childList.splice(f, 0, a) } else this.childList.push(a); var g = c.isInitializing(); if (d.persist && e.cookiesFound && g ? (e.activeKey === a.data.key && (c.activeNode = a), e.focusedKey === a.data.key && (c.focusNode = a), a.bExpanded = $.inArray(a.data.key, e.expandedKeyList) >= 0, a.bSelected = $.inArray(a.data.key, e.selectedKeyList) >= 0) : (a.data.activate && (c.activeNode = a, d.persist && (e.activeKey = a.data.key)), a.data.focus && (c.focusNode = a, d.persist && (e.focusedKey = a.data.key)), a.bExpanded = a.data.expand === !0, a.bExpanded && d.persist && e.addExpand(a.data.key), a.bSelected = a.data.select === !0, a.bSelected && d.persist && e.addSelect(a.data.key)), d.minExpandLevel >= a.getLevel() && (this.bExpanded = !0), a.bSelected && 3 == d.selectMode) for (var h = this; h;)h.hasSubSel || h._setSubSel(!0), h = h.parent; return c.bEnableUpdate && this.render(), a }, addChild: function (a, b) { if ("string" == typeof a) throw "Invalid data type for " + a; if (a && 0 !== a.length) { if (a instanceof DynaTreeNode) return this._addChildNode(a, b); a.length || (a = [a]); for (var c = this.tree.enableUpdate(!1), d = null, e = 0, f = a.length; f > e; e++) { var g = a[e], h = this._addChildNode(new DynaTreeNode(this, this.tree, g), b); d || (d = h), g.children && h.addChild(g.children, null) } return this.tree.enableUpdate(c), d } }, append: function (a) { return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."), this.addChild(a, null) }, appendAjax: function (a) { var b = this; if (this.removeChildren(!1, !0), this.setLazyNodeStatus(DTNodeStatus_Loading), a.debugLazyDelay) { var c = a.debugLazyDelay; return a.debugLazyDelay = 0, this.tree.logInfo("appendAjax: waiting for debugLazyDelay " + c), void setTimeout(function () { b.appendAjax(a) }, c) } var d = a.success, e = a.error, f = "nodeLoaded.dynatree." + this.tree.$tree.attr("id") + "." + this.data.key, g = $.extend({}, this.tree.options.ajaxDefaults, a, { success: function (a, c, e) { var h = b.tree.phase; b.tree.phase = "init", g.postProcess ? a = g.postProcess.call(this, a, this.dataType) : a && a.hasOwnProperty("d") && (a = "string" == typeof a.d ? $.parseJSON(a.d) : a.d), $.isArray(a) && 0 === a.length || b.addChild(a, null), b.tree.phase = "postInit", d && d.call(g, b, a, c), b.tree.logDebug("trigger " + f), b.tree.$tree.trigger(f, [b, !0]), b.tree.phase = h, b.setLazyNodeStatus(DTNodeStatus_Ok), $.isArray(a) && 0 === a.length && (b.childList = [], b.render()) }, error: function (a, c, d) { b.tree.logWarning("appendAjax failed:", c, ":\n", a, "\n", d), e && e.call(g, b, a, c, d), b.tree.$tree.trigger(f, [b, !1]), b.setLazyNodeStatus(DTNodeStatus_Error, { info: c, tooltip: "" + d }) } }); $.ajax(g) }, move: function (a, b) { var c; if (this !== a) { if (!this.parent) throw "Cannot move system root"; (void 0 === b || "over" == b) && (b = "child"); var d = this.parent, e = "child" === b ? a : a.parent; if (e.isDescendantOf(this)) throw "Cannot move a node to it's own descendant"; if (1 == this.parent.childList.length) this.parent.childList = this.parent.data.isLazy ? [] : null, this.parent.bExpanded = !1; else { if (c = $.inArray(this, this.parent.childList), 0 > c) throw "Internal error"; this.parent.childList.splice(c, 1) } if (this.parent.ul && this.parent.ul.removeChild(this.li), this.parent = e, e.hasChildren()) switch (b) { case "child": e.childList.push(this); break; case "before": if (c = $.inArray(a, e.childList), 0 > c) throw "Internal error"; e.childList.splice(c, 0, this); break; case "after": if (c = $.inArray(a, e.childList), 0 > c) throw "Internal error"; e.childList.splice(c + 1, 0, this); break; default: throw "Invalid mode " + b } else e.childList = [this]; if (e.ul || (e.ul = document.createElement("ul"), e.ul.style.display = "none", e.li.appendChild(e.ul)), this.li && e.ul.appendChild(this.li), this.tree !== a.tree) throw this.visit(function (b) { b.tree = a.tree }, null, !0), "Not yet implemented."; d.isDescendantOf(e) || d.render(), e.isDescendantOf(d) || e.render() } }, lastentry: void 0 }; var DynaTreeStatus = Class.create(); DynaTreeStatus._getTreePersistData = function (a, b) { var c = new DynaTreeStatus(a, b); return c.read(), c.toDict() }, getDynaTreePersistData = DynaTreeStatus._getTreePersistData, DynaTreeStatus.prototype = { initialize: function (a, b) { void 0 === a && (a = $.ui.dynatree.prototype.options.cookieId), b = $.extend({}, $.ui.dynatree.prototype.options.cookie, b), this.cookieId = a, this.cookieOpts = b, this.cookiesFound = void 0, this.activeKey = null, this.focusedKey = null, this.expandedKeyList = null, this.selectedKeyList = null }, _log: function (a) { Array.prototype.unshift.apply(arguments, ["debug"]), _log.apply(this, arguments) }, read: function () { this.cookiesFound = !1; var a = $.cookie(this.cookieId + "-active"); this.activeKey = null === a ? "" : a, null !== a && (this.cookiesFound = !0), a = $.cookie(this.cookieId + "-focus"), this.focusedKey = null === a ? "" : a, null !== a && (this.cookiesFound = !0), a = $.cookie(this.cookieId + "-expand"), this.expandedKeyList = null === a ? [] : a.split(","), null !== a && (this.cookiesFound = !0), a = $.cookie(this.cookieId + "-select"), this.selectedKeyList = null === a ? [] : a.split(","), null !== a && (this.cookiesFound = !0) }, write: function () { $.cookie(this.cookieId + "-active", null === this.activeKey ? "" : this.activeKey, this.cookieOpts), $.cookie(this.cookieId + "-focus", null === this.focusedKey ? "" : this.focusedKey, this.cookieOpts), $.cookie(this.cookieId + "-expand", null === this.expandedKeyList ? "" : this.expandedKeyList.join(","), this.cookieOpts), $.cookie(this.cookieId + "-select", null === this.selectedKeyList ? "" : this.selectedKeyList.join(","), this.cookieOpts) }, addExpand: function (a) { $.inArray(a, this.expandedKeyList) < 0 && (this.expandedKeyList.push(a), $.cookie(this.cookieId + "-expand", this.expandedKeyList.join(","), this.cookieOpts)) }, clearExpand: function (a) { var b = $.inArray(a, this.expandedKeyList); b >= 0 && (this.expandedKeyList.splice(b, 1), $.cookie(this.cookieId + "-expand", this.expandedKeyList.join(","), this.cookieOpts)) }, addSelect: function (a) { $.inArray(a, this.selectedKeyList) < 0 && (this.selectedKeyList.push(a), $.cookie(this.cookieId + "-select", this.selectedKeyList.join(","), this.cookieOpts)) }, clearSelect: function (a) { var b = $.inArray(a, this.selectedKeyList); b >= 0 && (this.selectedKeyList.splice(b, 1), $.cookie(this.cookieId + "-select", this.selectedKeyList.join(","), this.cookieOpts)) }, isReloading: function () { return this.cookiesFound === !0 }, toDict: function () { return { cookiesFound: this.cookiesFound, activeKey: this.activeKey, focusedKey: this.activeKey, expandedKeyList: this.expandedKeyList, selectedKeyList: this.selectedKeyList } }, lastentry: void 0 }; var DynaTree = Class.create(); DynaTree.version = "$Version:$", DynaTree.prototype = {
    initialize: function (a) { this.phase = "init", this.$widget = a, this.options = a.options, this.$tree = a.element, this.timer = null, this.divTree = this.$tree.get(0), _initDragAndDrop(this) }, _load: function (a) { var b = (this.$widget, this.options), c = this; this.bEnableUpdate = !0, this._nodeCount = 1, this.activeNode = null, this.focusNode = null, void 0 !== b.rootVisible && this.logWarning("Option 'rootVisible' is no longer supported."), b.minExpandLevel < 1 && (this.logWarning("Option 'minExpandLevel' must be >= 1."), b.minExpandLevel = 1), b.classNames !== $.ui.dynatree.prototype.options.classNames && (b.classNames = $.extend({}, $.ui.dynatree.prototype.options.classNames, b.classNames)), b.ajaxDefaults !== $.ui.dynatree.prototype.options.ajaxDefaults && (b.ajaxDefaults = $.extend({}, $.ui.dynatree.prototype.options.ajaxDefaults, b.ajaxDefaults)), b.dnd !== $.ui.dynatree.prototype.options.dnd && (b.dnd = $.extend({}, $.ui.dynatree.prototype.options.dnd, b.dnd)), b.imagePath || $("script").each(function () { var a = /.*dynatree[^\/]*\.js$/i; return this.src.search(a) >= 0 ? (this.src.indexOf("/") >= 0 ? b.imagePath = this.src.slice(0, this.src.lastIndexOf("/")) + "/skin/" : b.imagePath = "skin/", c.logDebug("Guessing imagePath from '%s': '%s'", this.src, b.imagePath), !1) : void 0 }), this.persistence = new DynaTreeStatus(b.cookieId, b.cookie), b.persist && ($.cookie || _log("warn", "Please include jquery.cookie.js to use persistence."), this.persistence.read()), this.logDebug("DynaTree.persistence: %o", this.persistence.toDict()), this.cache = { tagEmpty: "<span class='" + b.classNames.empty + "'></span>", tagVline: "<span class='" + b.classNames.vline + "'></span>", tagExpander: "<span class='" + b.classNames.expander + "'></span>", tagConnector: "<span class='" + b.classNames.connector + "'></span>", tagNodeIcon: "<span class='" + b.classNames.nodeIcon + "'></span>", tagCheckbox: "<span class='" + b.classNames.checkbox + "'></span>", lastentry: void 0 }, (b.children || b.initAjax && b.initAjax.url || b.initId) && $(this.divTree).empty(); var d = this.$tree.find(">ul:first").hide(); this.tnRoot = new DynaTreeNode(null, this, {}), this.tnRoot.bExpanded = !0, this.tnRoot.render(), this.divTree.appendChild(this.tnRoot.ul); var e = this.tnRoot, f = b.persist && this.persistence.isReloading(), g = !1, h = this.enableUpdate(!1); this.logDebug("Dynatree._load(): read tree structure..."), b.children ? e.addChild(b.children) : b.initAjax && b.initAjax.url ? (g = !0, e.data.isLazy = !0, this._reloadAjax(a)) : b.initId ? this._createFromTag(e, $("#" + b.initId)) : (this._createFromTag(e, d), d.remove()), this._checkConsistency(), g || 3 != b.selectMode || e._updatePartSelectionState(), this.logDebug("Dynatree._load(): render nodes..."), this.enableUpdate(h), this.logDebug("Dynatree._load(): bind events..."), this.$widget.bind(), this.logDebug("Dynatree._load(): postInit..."), this.phase = "postInit", b.persist && this.persistence.write(), this.focusNode && this.focusNode.isVisible() && (this.logDebug("Focus on init: %o", this.focusNode), this.focusNode.focus()), g || (b.onPostInit && b.onPostInit.call(this, f, !1), a && a.call(this, "ok")), this.phase = "idle" }, _reloadAjax: function (a) { var b = this.options; if (!b.initAjax || !b.initAjax.url) throw "tree.reload() requires 'initAjax' mode."; var c = this.persistence, d = $.extend({}, b.initAjax); d.addActiveKey && (d.data.activeKey = c.activeKey), d.addFocusedKey && (d.data.focusedKey = c.focusedKey), d.addExpandedKeyList && (d.data.expandedKeyList = c.expandedKeyList.join(",")), d.addSelectedKeyList && (d.data.selectedKeyList = c.selectedKeyList.join(",")), d.success && this.logWarning("initAjax: success callback is ignored; use onPostInit instead."), d.error && this.logWarning("initAjax: error callback is ignored; use onPostInit instead."); var e = c.isReloading(); d.success = function (c, d, f) { 3 == b.selectMode && c.tree.tnRoot._updatePartSelectionState(), b.onPostInit && b.onPostInit.call(c.tree, e, !1), a && a.call(c.tree, "ok") }, d.error = function (c, d, f, g) { b.onPostInit && b.onPostInit.call(c.tree, e, !0, d, f, g), a && a.call(c.tree, "error", d, f, g) }, this.logDebug("Dynatree._init(): send Ajax request..."), this.tnRoot.appendAjax(d) }, toString: function () { return "Dynatree '" + this.$tree.attr("id") + "'" }, toDict: function () { return this.tnRoot.toDict(!0) }, serializeArray: function (a) { for (var b = this.getSelectedNodes(a), c = this.$tree.attr("name") || this.$tree.attr("id"), d = [], e = 0, f = b.length; f > e; e++)d.push({ name: c, value: b[e].data.key }); return d }, getPersistData: function () { return this.persistence.toDict() }, logDebug: function (a) { this.options.debugLevel >= 2 && (Array.prototype.unshift.apply(arguments, ["debug"]), _log.apply(this, arguments)) }, logInfo: function (a) {
      this.options.debugLevel >= 1 && (Array.prototype.unshift.apply(arguments, ["info"]),
        _log.apply(this, arguments))
    }, logWarning: function (a) { Array.prototype.unshift.apply(arguments, ["warn"]), _log.apply(this, arguments) }, isInitializing: function () { return "init" == this.phase || "postInit" == this.phase }, isReloading: function () { return ("init" == this.phase || "postInit" == this.phase) && this.options.persist && this.persistence.cookiesFound }, isUserEvent: function () { return "userEvent" == this.phase }, redraw: function () { this.tnRoot.render(!1, !1) }, renderInvisibleNodes: function () { this.tnRoot.render(!1, !0) }, reload: function (a) { this._load(a) }, getRoot: function () { return this.tnRoot }, enable: function () { this.$widget.enable() }, disable: function () { this.$widget.disable() }, getNodeByKey: function (a) { var b = document.getElementById(this.options.idPrefix + a); if (b) return b.dtnode ? b.dtnode : null; var c = null; return this.visit(function (b) { return b.data.key === a ? (c = b, !1) : void 0 }, !0), c }, getActiveNode: function () { return this.activeNode }, reactivate: function (a) { var b = this.activeNode; b && (this.activeNode = null, b.activate(), a && b.focus()) }, getSelectedNodes: function (a) { var b = []; return this.tnRoot.visit(function (c) { return c.bSelected && (b.push(c), a === !0) ? "skip" : void 0 }), b }, activateKey: function (a) { var b = null === a ? null : this.getNodeByKey(a); return b ? (b.focus(), b.activate(), b) : (this.activeNode && this.activeNode.deactivate(), this.activeNode = null, null) }, loadKeyPath: function (a, b) { var c = a.split(this.options.keyPathSeparator); return "" === c[0] && c.shift(), c[0] == this.tnRoot.data.key && (this.logDebug("Removed leading root key."), c.shift()), a = c.join(this.options.keyPathSeparator), this.tnRoot._loadKeyPath(a, b) }, selectKey: function (a, b) { var c = this.getNodeByKey(a); return c ? (c.select(b), c) : null }, enableUpdate: function (a) { return this.bEnableUpdate == a ? a : (this.bEnableUpdate = a, a && this.redraw(), !a) }, count: function () { return this.tnRoot.countChildren() }, visit: function (a, b) { return this.tnRoot.visit(a, b) }, _createFromTag: function (parentTreeNode, $ulParent) { var self = this; $ulParent.find(">li").each(function () { var $li = $(this), $liSpan = $li.find(">span:first"), $liA = $li.find(">a:first"), title, href = null, target = null, tooltip; if ($liSpan.length) title = $liSpan.html(); else if ($liA.length) title = $liA.html(), href = $liA.attr("href"), target = $liA.attr("target"), tooltip = $liA.attr("title"); else { title = $li.html(); var iPos = title.search(/<ul/i); title = iPos >= 0 ? $.trim(title.substring(0, iPos)) : $.trim(title) } var data = { title: title, tooltip: tooltip, isFolder: $li.hasClass("folder"), isLazy: $li.hasClass("lazy"), expand: $li.hasClass("expanded"), select: $li.hasClass("selected"), activate: $li.hasClass("active"), focus: $li.hasClass("focused"), noLink: $li.hasClass("noLink") }; if (href && (data.href = href, data.target = target), $li.attr("title") && (data.tooltip = $li.attr("title")), $li.attr("id") && (data.key = "" + $li.attr("id")), $li.attr("data")) { var dataAttr = $.trim($li.attr("data")); if (dataAttr) { "{" != dataAttr.charAt(0) && (dataAttr = "{" + dataAttr + "}"); try { $.extend(data, eval("(" + dataAttr + ")")) } catch (e) { throw "Error parsing node data: " + e + "\ndata:\n'" + dataAttr + "'" } } } var childNode = parentTreeNode.addChild(data), $ul = $li.find(">ul:first"); $ul.length && self._createFromTag(childNode, $ul) }) }, _checkConsistency: function () { }, _setDndStatus: function (a, b, c, d, e) { var f = a ? $(a.span) : null, g = $(b.span); if (this.$dndMarker || (this.$dndMarker = $("<div id='dynatree-drop-marker'></div>").hide().css({ "z-index": 1e3 }).prependTo($(this.divTree).parent())), "after" === d || "before" === d || "over" === d) { var h = "0 0", i = "left center", j = "left center"; switch (d) { case "before": this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"), this.$dndMarker.addClass("dynatree-drop-before"), h = "0 -8", i = "left bottom", j = "left center"; break; case "after": this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"), this.$dndMarker.addClass("dynatree-drop-after"), h = "0 8", i = "left center", j = "left bottom"; break; default: this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"), this.$dndMarker.addClass("dynatree-drop-over"), g.addClass("dynatree-drop-target"), h = "8 0" }this.$dndMarker.show().position({ my: i, at: j, of: g, offset: h }) } else g.removeClass("dynatree-drop-target"), this.$dndMarker.hide(); "after" === d ? g.addClass("dynatree-drop-after") : g.removeClass("dynatree-drop-after"), "before" === d ? g.addClass("dynatree-drop-before") : g.removeClass("dynatree-drop-before"), e === !0 ? (f && f.addClass("dynatree-drop-accept"), g.addClass("dynatree-drop-accept"), c.addClass("dynatree-drop-accept")) : (f && f.removeClass("dynatree-drop-accept"), g.removeClass("dynatree-drop-accept"), c.removeClass("dynatree-drop-accept")), e === !1 ? (f && f.addClass("dynatree-drop-reject"), g.addClass("dynatree-drop-reject"), c.addClass("dynatree-drop-reject")) : (f && f.removeClass("dynatree-drop-reject"), g.removeClass("dynatree-drop-reject"), c.removeClass("dynatree-drop-reject")) }, _onDragEvent: function (a, b, c, d, e, f) { var g, h, i = (this.options, this.options.dnd), j = null, k = $(b.span); switch (a) { case "helper": var l = $("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append($(d.target).closest(".dynatree-title").clone()); $("ul.dynatree-container", b.tree.divTree).append(l), l.data("dtSourceNode", b), j = l; break; case "start": b.isStatusNode() ? j = !1 : i.onDragStart && (j = i.onDragStart(b)), j === !1 ? (this.logDebug("tree.onDragStart() cancelled"), e.helper.trigger("mouseup"), e.helper.hide()) : k.addClass("dynatree-drag-source"); break; case "enter": j = i.onDragEnter ? i.onDragEnter(b, c) : null, j = j ? { over: j === !0 || "over" === j || $.inArray("over", j) >= 0, before: j === !0 || "before" === j || $.inArray("before", j) >= 0, after: j === !0 || "after" === j || $.inArray("after", j) >= 0 } : !1, e.helper.data("enterResponse", j); break; case "over": if (h = e.helper.data("enterResponse"), g = null, h === !1); else if ("string" == typeof h) g = h; else { var m = k.offset(), n = { x: d.pageX - m.left, y: d.pageY - m.top }, o = { x: n.x / k.width(), y: n.y / k.height() }; h.after && o.y > .75 ? g = "after" : !h.over && h.after && o.y > .5 ? g = "after" : h.before && o.y <= .25 ? g = "before" : !h.over && h.before && o.y <= .5 ? g = "before" : h.over && (g = "over"), i.preventVoidMoves && (b === c ? g = null : "before" === g && c && b === c.getNextSibling() ? g = null : "after" === g && c && b === c.getPrevSibling() ? g = null : "over" === g && c && c.parent === b && c.isLastSibling() && (g = null)), e.helper.data("hitMode", g) } "over" === g && i.autoExpandMS && b.hasChildren() !== !1 && !b.bExpanded && b.scheduleAction("expand", i.autoExpandMS), g && i.onDragOver && (j = i.onDragOver(b, c, g), ("over" === j || "before" === j || "after" === j) && (g = j)), this._setDndStatus(c, b, e.helper, g, j !== !1 && null !== g); break; case "drop": var p = e.helper.hasClass("dynatree-drop-reject"); g = e.helper.data("hitMode"), g && i.onDrop && !p && i.onDrop(b, c, g, e, f); break; case "leave": b.scheduleAction("cancel"), e.helper.data("enterResponse", null), e.helper.data("hitMode", null), this._setDndStatus(c, b, e.helper, "out", void 0), i.onDragLeave && i.onDragLeave(b, c); break; case "stop": k.removeClass("dynatree-drag-source"), i.onDragStop && i.onDragStop(b); break; default: throw "Unsupported drag event: " + a }return j }, cancelDrag: function () { var a = $.ui.ddmanager.current; a && a.cancel() }, lastentry: void 0
  }, $.widget("ui.dynatree", { _init: function () { return versionCompare($.ui.version, "1.8") < 0 ? (this.options.debugLevel >= 0 && _log("warn", "ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."), this._create()) : void (this.options.debugLevel >= 2 && _log("debug", "ui.dynatree._init() was called; no current default functionality.")) }, _create: function () { var a = this.options; a.debugLevel >= 1 && logMsg("Dynatree._create(): version='%s', debugLevel=%o.", $.ui.dynatree.version, this.options.debugLevel), this.options.event += ".dynatree"; this.element.get(0); this.tree = new DynaTree(this), this.tree._load(), this.tree.logDebug("Dynatree._init(): done.") }, bind: function () { function a(a) { a = $.event.fix(a || window.event); var b = $.ui.dynatree.getNode(a.target); return b ? b._onFocus(a) : !1 } this.unbind(); var b = "click.dynatree dblclick.dynatree"; this.options.keyboard && (b += " keypress.dynatree keydown.dynatree"), this.element.bind(b, function (a) { var b = $.ui.dynatree.getNode(a.target); if (!b) return !0; var c = b.tree, d = c.options; c.logDebug("event(%s): dtnode: %s", a.type, b); var e = c.phase; c.phase = "userEvent"; try { switch (a.type) { case "click": return d.onClick && d.onClick.call(c, b, a) === !1 ? !1 : b._onClick(a); case "dblclick": return d.onDblClick && d.onDblClick.call(c, b, a) === !1 ? !1 : b._onDblClick(a); case "keydown": return d.onKeydown && d.onKeydown.call(c, b, a) === !1 ? !1 : b._onKeydown(a); case "keypress": return d.onKeypress && d.onKeypress.call(c, b, a) === !1 ? !1 : b._onKeypress(a) } } catch (f) { c.logWarning("bind(%o): dtnode: %o, error: %o", a, b, f) } finally { c.phase = e } }); var c = this.tree.divTree; c.addEventListener ? (c.addEventListener("focus", a, !0), c.addEventListener("blur", a, !0)) : c.onfocusin = c.onfocusout = a }, unbind: function () { this.element.unbind(".dynatree") }, enable: function () { this.bind(), $.Widget.prototype.enable.apply(this, arguments) }, disable: function () { this.unbind(), $.Widget.prototype.disable.apply(this, arguments) }, getTree: function () { return this.tree }, getRoot: function () { return this.tree.getRoot() }, getActiveNode: function () { return this.tree.getActiveNode() }, getSelectedNodes: function () { return this.tree.getSelectedNodes() }, lastentry: void 0 }), versionCompare($.ui.version, "1.8") < 0 && ($.ui.dynatree.getter = "getTree getRoot getActiveNode getSelectedNodes"), $.ui.dynatree.version = "$Version:$", $.ui.dynatree.getNode = function (a) { if (a instanceof DynaTreeNode) return a; for (void 0 !== a.selector && (a = a[0]); a;) { if (a.dtnode) return a.dtnode; a = a.parentNode } return null }, $.ui.dynatree.getPersistData = DynaTreeStatus._getTreePersistData, $.ui.dynatree.prototype.options = { title: "Dynatree", minExpandLevel: 1, imagePath: null, children: null, initId: null, initAjax: null, autoFocus: !0, keyboard: !0, persist: !1, autoCollapse: !1, clickFolderMode: 3, activeVisible: !0, checkbox: !1, selectMode: 2, fx: null, noLink: !1, onClick: null, onDblClick: null, onKeydown: null, onKeypress: null, onFocus: null, onBlur: null, onQueryActivate: null, onQuerySelect: null, onQueryExpand: null, onPostInit: null, onActivate: null, onDeactivate: null, onSelect: null, onExpand: null, onLazyRead: null, onCustomRender: null, onCreate: null, onRender: null, postProcess: null, dnd: { onDragStart: null, onDragStop: null, autoExpandMS: 1e3, preventVoidMoves: !0, onDragEnter: null, onDragOver: null, onDrop: null, onDragLeave: null }, ajaxDefaults: { cache: !1, timeout: 0, dataType: "json" }, strings: { loading: "Loading&#8230;", loadError: "Load error!" }, generateIds: !1, idPrefix: "dynatree-id-", keyPathSeparator: "/", cookieId: "dynatree", cookie: { expires: null }, classNames: { container: "dynatree-container", node: "dynatree-node", folder: "dynatree-folder", empty: "dynatree-empty", vline: "dynatree-vline", expander: "dynatree-expander", connector: "dynatree-connector", checkbox: "dynatree-checkbox", nodeIcon: "dynatree-icon", title: "dynatree-title", noConnector: "dynatree-no-connector", nodeError: "dynatree-statusnode-error", nodeWait: "dynatree-statusnode-wait", hidden: "dynatree-hidden", combinedExpanderPrefix: "dynatree-exp-", combinedIconPrefix: "dynatree-ico-", nodeLoading: "dynatree-loading", hasChildren: "dynatree-has-children", active: "dynatree-active", selected: "dynatree-selected", expanded: "dynatree-expanded", lazy: "dynatree-lazy", focused: "dynatree-focused", partsel: "dynatree-partsel", lastsib: "dynatree-lastsib" }, debugLevel: 2, lastentry: void 0 }, versionCompare($.ui.version, "1.8") < 0 && ($.ui.dynatree.defaults = $.ui.dynatree.prototype.options), $.ui.dynatree.nodedatadefaults = { title: null, key: null, isFolder: !1, isLazy: !1, tooltip: null, href: null, icon: null, addClass: null, noLink: !1, activate: !1, focus: !1, expand: !1, select: !1, hideCheckbox: !1, unselectable: !1, children: null, lastentry: void 0 }; var didRegisterDnd = !1, _registerDnd = function () { didRegisterDnd || ($.ui.plugin.add("draggable", "connectToDynatree", { start: function (a, b) { var c = $(this).data("ui-draggable") || $(this).data("draggable"), d = b.helper.data("dtSourceNode") || null; return d ? (c.offset.click.top = -2, c.offset.click.left = 16, d.tree._onDragEvent("start", d, null, a, b, c)) : void 0 }, drag: function (a, b) { var c = $(this).data("ui-draggable") || $(this).data("draggable"), d = b.helper.data("dtSourceNode") || null, e = b.helper.data("dtTargetNode") || null, f = $.ui.dynatree.getNode(a.target); if (a.target && !f) { var g = $(a.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length > 0; if (g) return } b.helper.data("dtTargetNode", f), e && e !== f && e.tree._onDragEvent("leave", e, d, a, b, c), f && f.tree.options.dnd.onDrop && (f === e ? f.tree._onDragEvent("over", f, d, a, b, c) : f.tree._onDragEvent("enter", f, d, a, b, c)) }, stop: function (a, b) { var c = $(this).data("ui-draggable") || $(this).data("draggable"), d = b.helper.data("dtSourceNode") || null, e = b.helper.data("dtTargetNode") || null, f = (c._mouseDownEvent, a.type), g = "mouseup" == f && 1 == a.which; logMsg("draggable-connectToDynatree.stop: targetNode(from event): %s, dtTargetNode: %s", e, b.helper.data("dtTargetNode")), g || logMsg("Drag was cancelled"), e && (g && e.tree._onDragEvent("drop", e, d, a, b, c), e.tree._onDragEvent("leave", e, d, a, b, c)), d && d.tree._onDragEvent("stop", d, null, a, b, c) } }), didRegisterDnd = !0) }
}(jQuery);

jQuery.ui.dynatree.prototype.options.strings.loading = "Laden...";
jQuery.ui.dynatree.prototype.options.strings.loadError = "Laadfout";


